<ion-header>
  <ion-toolbar>
    <ion-buttons>
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title  class="width" mode=ios >
      <ion-text size="LARGE" color="warning">
        K</ion-text>
        <ion-text color="danger"><ion-icon size="LARGE" name=cart></ion-icon></ion-text>
        <ion-text >ta</ion-text><img title="app icon area" class="icon" src="assets/icon/lipstick.png"/><ion-text>og</ion-text>
      </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-progress-bar value="0.35" buffer="0.60"></ion-progress-bar>
  <div id="pbIcon">
    <span>
      <ion-icon name="eye"></ion-icon>
      <h6>Review</h6>
      <h6>Item</h6>
    </span>
    <span>
      <ion-icon name="cash"></ion-icon>
      <h6>Payment</h6>
    </span>
    <span>
      <ion-icon name="boat"></ion-icon>
      <h6>Shipment</h6>
    </span>
    <span>
      <ion-icon name="cube"></ion-icon>
      <h6>Item</h6>
      <h6>Delivery</h6>
    </span>
    
  </div>

  <div id="iDesc">
    <ion-item-group>
      <ion-item-divider>
        <ion-label class="price">
          <ion-text color="tertiary">
            <h5>{{data.orderId}}</h5>
          </ion-text>
        </ion-label>
      </ion-item-divider>
      <ion-item *ngFor="let product of products">
        <ion-img [src]="product.ref"></ion-img>
        <ion-label>
          <div class="margin price">
            <h4>{{product.price|currency}}</h4>
          </div>
          <div class="margin">
            <h5>{{product.name}}<ion-button shape="round">{{product.orderedqty}}</ion-button></h5>
          </div>
          <div class="margin">
            <h6 style="color: #8c8c8c;">{{product.description}}</h6>
          </div>
          <div class="margin">
            <ion-icon name="star" *ngIf="product.rating>0"></ion-icon>
            <ion-icon name="star" *ngIf="product.rating>1"></ion-icon>
            <ion-icon name="star" *ngIf="product.rating>2"></ion-icon>
            <ion-icon name="star" *ngIf="product.rating>3"></ion-icon>
            <ion-icon name="star" *ngIf="product.rating>4"></ion-icon>
          </div>
          <div class="margin">
            <ion-text>
              <h6>estimated delivery on :</h6> 
            </ion-text>
            <ion-text color="tertiary">
              <h6>{{product.deliveryDate}}</h6> 
            </ion-text>
          </div>
          <!-- <div class="margin">
            <ion-badge color="danger">
              <h6 *ngIf="product.qty<10 && product.qty>1">Only {{product.qty}} in stock</h6>
            </ion-badge>
          </div> -->
        </ion-label>
      </ion-item>
      <ion-item> 
        <ion-badge>Total items QTY : {{productqty}}</ion-badge>
    </ion-item>
    </ion-item-group>
  </div>
  <div class="container">
    <ion-item>
      <label position="stacked">Shipping address : {{shippingAddress}} </label>
    </ion-item>
    <ion-item>
      <ion-label>Change your delivery address</ion-label>
      <ion-select (ionChange)="shipaddressChange()" [(ngModel)]="selectAddress">
        <ion-select-option value="">None</ion-select-option>
        <ion-select-option *ngFor="let address of addresses"><address>{{address.address1}}</address>
                                                              <address>{{address.address2}}</address>
        </ion-select-option>
      </ion-select>
    </ion-item>
  </div>
  <div class="container">
    <ion-item >
      <ion-label> 
        Default Payment : <span>{{method}}</span>
    </ion-label>
    </ion-item>
    <ion-item>
      <ion-text color="tertiary">
        <ion-button fill="clear" (click)="showMethod()">You can set a new payment method here...</ion-button>
      </ion-text>   
    </ion-item>
    <ion-item>
      <ion-label position="fixed">Promo Code</ion-label>
      <ion-input type="text" placeholder="Discount promotional code"></ion-input>
      <ion-button slot="end">Discount</ion-button>
    </ion-item>
  </div>

  <div style="padding-top: 4px;">
    <fieldset>
      <label>Payment Review</label>
      <ion-list>
      <ion-item>
        <ion-label position="fixed" slot="start">Item Cost :</ion-label>
        <ion-label slot="end">{{ amountOrder | currency }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label position="fixed" slot="start">Shipping Fee :</ion-label>
        <ion-label slot="end">{{ shippingfee | currency }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label position="fixed" slot="start">Tax Fee :</ion-label>
        <ion-label slot="end">{{ taxfee | currency }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label position="fixed" slot="start">Delivery :</ion-label>
        <ion-label slot="end">{{ deliveryfee | currency }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label position="fixed" slot="start">Coupon :</ion-label>
        <ion-label slot="end">{{ promotion | currency }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label position="fixed" color="danger" slot="start">TOTAL :</ion-label>
        <ion-label style="font-weight: bold;" slot="end">{{ totalfee | currency }}</ion-label>
      </ion-item>
      </ion-list>
    </fieldset>
  </div>

  <div id="place">
    <section>
      <ion-button color="warning" expand="block" (click)="place_order(totalfee)">Place Order</ion-button>
      
    </section>

  </div>

</ion-content>
<ion-footer>
  <ion-toolbar class="footer">
    <ion-row round>
      <ion-col offset-1 col-10 routerLink="/home"  routerDirection="forward">
        <ion-icon class="footerIcon" name="home-outline"></ion-icon>
        <div class="touch">
        <h4>Home</h4>
       </div>  
    </ion-col>
      <ion-col offset-1 col-10 routerLink="/cart"  routerDirection="forward">
        <ion-icon class="footerIcon" name="cart-outline"></ion-icon>
        <div class="touch">
          <h4>Cart</h4>
         </div> 
      </ion-col>
      <ion-col offset-1 col-10 routerLink="/profil"  routerDirection="forward">
        <ion-icon class="footerIcon" name="person-outline"></ion-icon>
        <div class="touch">
          <h4>Profil</h4>
         </div> 
      </ion-col>
      <ion-col offset-1 col-10 routerLink="/order"  routerDirection="forward">
        <ion-icon class="footerIcon" name="cube-outline"></ion-icon>
        <div class="touch">
          <h4>Order...</h4>
         </div> 
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>