<ion-header mode=ios>
  <ion-toolbar>
    <ion-buttons style="margin-top:5%;" slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-searchbar id="searchbar" debounce="500" mode=ios style="color: black !important; width: 80vw; margin: 0 auto; margin-top:5%;" align-center placeholder="search">
    </ion-searchbar>
  </ion-toolbar>
 </ion-header>

<ion-content>
  
<ion-item>
  <ion-label>Total items cost : {{  calculCost()|currency}}</ion-label>
  <ion-button color="warning" (click)="checkout()">Check out</ion-button>
</ion-item>
<div class="container" *ngIf="!noItem">
  <ion-list>
    <ion-item><h3><ion-icon name="cart" size="large"></ion-icon>Cart Items</h3>
      <hr>
    </ion-item>
    <ion-item ion-button detail="true" *ngFor="let items of cart" >
        <ion-img size="large" (click)="goTo(items.product)" [src]="items.product.ref" style="width: 110px; height: 150px;"></ion-img>
     <ion-item-group>
       <ion-item>
        <ion-label>
          <div>
            <ion-buttons>
              <ion-text>{{items.product.price|currency}}</ion-text>
              <ion-badge color="danger" *ngIf="items.product.qty<10 && items.product.qty>1">Only {{items.product.qty}} left</ion-badge>
            </ion-buttons>
              <h6>{{items.product.name}}</h6>
            <ion-label><h6>{{items.product.description}}</h6></ion-label>
            <ion-buttons>
              <div class="qty-selector">
                <ion-button  fill="clear" (click)="adjustqty('minus',items)">-</ion-button>
                <ion-label>{{items.item_qty}}</ion-label>
                <ion-button fill="clear" (click)="adjustqty('plus',items)">+</ion-button>
              </div>
            </ion-buttons>
          </div>
         
          </ion-label>
       </ion-item>
        <ion-buttons>
          <ion-button size="small" (click)="savedForLater(items)">Save for later</ion-button>
          <ion-button size="small" (click)="remove(items)">Remove</ion-button>
        </ion-buttons>
     </ion-item-group>
        
    </ion-item>
  </ion-list>
</div>

 <div class="container" *ngIf="!nosaved">
  <ion-list >
    <ion-item>
      <ion-row><h5>Saved For Later</h5>
      </ion-row>
    </ion-item>
    
    <ion-item ion-button detail="true" *ngFor="let items of saved" >
        <ion-img size="large" (click)="goTo(items.product)"  [src]="items.product.ref" style="width: 115px; height: 160px;"></ion-img>
     <ion-item-group>
       <ion-item>
        <ion-label>
          <div>
            <ion-buttons>
              <ion-text>{{items.order_features.price|currency}}</ion-text>
              <ion-badge color="danger" *ngIf="items.product.qty<10 && items.product.qty>1">Only {{items.product.qty}} left</ion-badge>
            </ion-buttons>
              <h6>{{items.product.name}}</h6>
            <ion-label><h6>{{items.product.description}}</h6></ion-label>
          </div>
         
          </ion-label>
       </ion-item>
          <ion-button size="small" (click)="moveToCart(items)">Move to Cart</ion-button>
     </ion-item-group>
        
    </ion-item>
  </ion-list>
</div> 
</ion-content>

<ion-footer>
  <ion-toolbar class="footer">
    <ion-row round>
      <ion-col offset-1 col-10 routerLink="/home"  routerDirection="forward">
        <ion-icon class="footerIcon" name="home-outline"></ion-icon>
        <div class="touch">
        <h4>Home</h4>
       </div>  
    </ion-col>
      <ion-col offset-1 col-10 routerLink="/cart"  routerDirection="forward">
        <ion-icon class="footerIcon" name="cart-outline"></ion-icon>
        <div class="touch">
          <h4>Cart</h4>
         </div> 
      </ion-col>
      <ion-col offset-1 col-10 routerLink="/profil"  routerDirection="forward">
        <ion-icon class="footerIcon" name="person-outline"></ion-icon>
        <div class="touch">
          <h4>Profil</h4>
         </div> 
      </ion-col>
      <ion-col offset-1 col-10 routerLink="/order"  routerDirection="forward">
        <ion-icon class="footerIcon" name="cube-outline"></ion-icon>
        <div class="touch">
          <h4>Order...</h4>
         </div> 
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>