(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{jcJX:function(n,i,t){"use strict";t.r(i),t.d(i,"AccountPageModule",(function(){return U}));var e=t("ofXK"),o=t("3Pt+"),c=t("l+lL"),r=t("TEn/"),b=t("tyNb"),s=t("mrSG"),a=t("Oj1a"),l=t("fXoL"),d=t("UbJi"),g=t("I/3d"),p=t("UbTl"),u=t("e8h1");function f(n,i){if(1&n&&(l.Nb(0,"small",31),l.pc(1),l.Mb()),2&n){const n=l.Xb();l.yb(1),l.qc(n.browsing.length)}}function h(n,i){if(1&n&&(l.Nb(0,"small",31),l.pc(1),l.Mb()),2&n){const n=i.ngIf;l.yb(1),l.qc(n.length)}}function m(n,i){if(1&n&&(l.Nb(0,"small",31),l.pc(1),l.Mb()),2&n){const n=l.Xb();l.yb(1),l.qc(n.cartItem.length)}}function M(n,i){if(1&n&&(l.Nb(0,"small",31),l.pc(1),l.Mb()),2&n){const n=l.Xb();l.yb(1),l.qc(n.likeItem.length)}}function N(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"ion-slide",35),l.Nb(2,"ion-item-group"),l.Jb(3,"ion-img",36),l.Nb(4,"ion-row"),l.Nb(5,"ion-badge",6),l.Nb(6,"h5"),l.pc(7),l.Yb(8,"currency"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Kb()),2&n){const n=i.$implicit;l.yb(3),l.cc("src",n.items.picture),l.yb(4),l.qc(l.Zb(8,2,n.items.price))}}function w(n,i){1&n&&(l.Nb(0,"div",37),l.Nb(1,"ion-button",38),l.pc(2,"No recent orders found, start shopping now!"),l.Mb(),l.Mb())}const y=function(){return{slidesPerView:"3",zoom:!1,grabCursor:!0}};function I(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"ion-slides",32),l.nc(2,N,9,4,"ng-container",33),l.Yb(3,"async"),l.Mb(),l.Nb(4,"ion-label",34),l.pc(5,"see all orders"),l.Mb(),l.nc(6,w,3,0,"div",24),l.Kb()),2&n){const n=i.ngIf,t=l.Xb(2);l.yb(1),l.cc("options",l.ec(5,y)),l.yb(1),l.cc("ngForOf",l.Zb(3,3,t.orders$)),l.yb(4),l.cc("ngIf",0==n.length)}}function v(n,i){if(1&n&&(l.Nb(0,"div",22),l.Nb(1,"h4"),l.pc(2,"Recent Orders"),l.Mb(),l.nc(3,I,7,6,"ng-container",23),l.Yb(4,"async"),l.Mb()),2&n){const n=l.Xb();l.yb(3),l.cc("ngIf",l.Zb(4,1,n.orders$))}}function k(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"ion-slide",35),l.Nb(2,"ion-item-group"),l.Jb(3,"img",36),l.Nb(4,"ion-label"),l.Nb(5,"p"),l.pc(6),l.Mb(),l.Nb(7,"h5",40),l.pc(8),l.Yb(9,"currency"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Kb()),2&n){const n=i.$implicit;l.yb(3),l.cc("src",n.picture,l.jc),l.yb(3),l.qc(n.description),l.yb(2),l.qc(l.Zb(9,3,n.price))}}function O(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"ion-slides",32),l.nc(2,k,10,5,"ng-container",33),l.Mb(),l.Nb(3,"ion-label",39),l.pc(4,"Visit my cart and checkout now"),l.Mb(),l.Kb()),2&n){const n=l.Xb();l.yb(1),l.cc("options",l.ec(2,y)),l.yb(1),l.cc("ngForOf",n.cartItem)}}function x(n,i){1&n&&(l.Nb(0,"div",37),l.Nb(1,"ion-button",38),l.pc(2,"Your cart is empty, start adding new items!"),l.Mb(),l.Mb())}function L(n,i){1&n&&(l.Nb(0,"ion-chip",6),l.Jb(1,"ion-icon",41),l.Nb(2,"h4"),l.pc(3,"No internet connection"),l.Mb(),l.Mb())}function F(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"ion-slide",35),l.Nb(2,"ion-item-group"),l.Jb(3,"ion-img",36),l.Nb(4,"ion-row"),l.Nb(5,"ion-badge",6),l.Nb(6,"h5"),l.pc(7),l.Yb(8,"currency"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Kb()),2&n){const n=i.$implicit;l.yb(3),l.cc("src",n.models[0].pictures[0]),l.yb(4),l.qc(l.Zb(8,2,n.caracteristic[0].price))}}function P(n,i){if(1&n){const n=l.Ob();l.Lb(0),l.Nb(1,"ion-slides",32),l.nc(2,F,9,4,"ng-container",33),l.Mb(),l.Nb(3,"ion-label",42),l.Vb("click",(function(){return l.ic(n),l.Xb().navigateTo("Wish List")})),l.pc(4,"see the complete list"),l.Mb(),l.Kb()}if(2&n){const n=l.Xb();l.yb(1),l.cc("options",l.ec(2,y)),l.yb(1),l.cc("ngForOf",n.likeItem)}}function X(n,i){1&n&&(l.Nb(0,"div",37),l.Nb(1,"ion-button",38),l.pc(2,"Your list is empty, start adding new items!"),l.Mb(),l.Mb())}function C(n,i){1&n&&(l.Nb(0,"ion-chip",6),l.Jb(1,"ion-icon",41),l.Nb(2,"h4"),l.pc(3,"No internet connection"),l.Mb(),l.Mb())}function q(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"ion-slide",35),l.Nb(2,"ion-item-group"),l.Jb(3,"ion-img",36),l.Nb(4,"ion-row"),l.Nb(5,"ion-badge",6),l.Nb(6,"h5"),l.pc(7),l.Yb(8,"currency"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Kb()),2&n){const n=i.$implicit;l.yb(3),l.cc("src",n.models[0].pictures[0]),l.yb(4),l.qc(l.Zb(8,2,n.caracteristic[0].price))}}function J(n,i){if(1&n){const n=l.Ob();l.Lb(0),l.Nb(1,"ion-slides",32),l.nc(2,q,9,4,"ng-container",33),l.Mb(),l.Nb(3,"ion-label",42),l.Vb("click",(function(){return l.ic(n),l.Xb().navigateTo("Recent Views")})),l.pc(4,"View all recent browsing items"),l.Mb(),l.Kb()}if(2&n){const n=l.Xb();l.yb(1),l.cc("options",l.ec(2,y)),l.yb(1),l.cc("ngForOf",n.browsing)}}function z(n,i){1&n&&(l.Nb(0,"div",37),l.Nb(1,"ion-button",38),l.pc(2,"Browsing Historic empty, start shopping now!"),l.Mb(),l.Mb())}function $(n,i){1&n&&(l.Nb(0,"ion-chip",6),l.Jb(1,"ion-icon",41),l.Nb(2,"h4"),l.pc(3,"No internet connection"),l.Mb(),l.Mb())}function K(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"small",49),l.pc(2),l.Mb(),l.Kb()),2&n){const n=l.Xb().$implicit;l.yb(2),l.qc(n.message)}}function Y(n,i){if(1&n&&(l.Nb(0,"div",48),l.nc(1,K,3,1,"ng-container",23),l.Mb()),2&n){const n=i.$implicit,t=l.Xb(2);l.yb(1),l.cc("ngIf",t.getOldPassword().hasError(n.type)&&(t.getOldPassword().dirty||t.getOldPassword().touched))}}function Z(n,i){if(1&n&&(l.Lb(0),l.Nb(1,"small",49),l.pc(2),l.Mb(),l.Kb()),2&n){const n=l.Xb().$implicit;l.yb(2),l.qc(n.message)}}function S(n,i){if(1&n&&(l.Nb(0,"div",48),l.nc(1,Z,3,1,"ng-container",23),l.Mb()),2&n){const n=i.$implicit,t=l.Xb(2);l.yb(1),l.cc("ngIf",t.getNewPassword().hasError(n.type)&&(t.getNewPassword().dirty||t.getNewPassword().touched))}}function V(n,i){if(1&n){const n=l.Ob();l.Nb(0,"div",27),l.Nb(1,"ion-card"),l.Nb(2,"ion-card-title",28),l.Nb(3,"h4"),l.pc(4,"Change Password"),l.Mb(),l.Mb(),l.Nb(5,"ion-card-content"),l.Nb(6,"ng-form",43),l.Vb("ngSubmit",(function(){return l.ic(n),l.Xb().submit()})),l.Nb(7,"ion-item"),l.Nb(8,"ion-chip"),l.Jb(9,"ion-input",44),l.Mb(),l.Mb(),l.nc(10,Y,2,1,"div",45),l.Nb(11,"ion-item"),l.Nb(12,"ion-chip"),l.Jb(13,"ion-input",46),l.Mb(),l.Mb(),l.nc(14,S,2,1,"div",45),l.Nb(15,"ion-item"),l.Nb(16,"ion-button",47),l.pc(17,"Change password"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()}if(2&n){const n=l.Xb();l.yb(6),l.cc("formGroup",n.passwordForm),l.yb(4),l.cc("ngForOf",n.errorMessages.password),l.yb(4),l.cc("ngForOf",n.errorMessages.password)}}function j(n,i){1&n&&(l.Nb(0,"ion-button",50),l.pc(1,"Sign In"),l.Mb())}function A(n,i){if(1&n){const n=l.Ob();l.Nb(0,"ion-button",51),l.Vb("click",(function(){return l.ic(n),l.Xb().signout()})),l.pc(1,"Sign Out"),l.Mb()}}const D=[{path:"",component:(()=>{class n{constructor(n,i,t,e,c,r,b){this.formBuilder=n,this.fireauth=i,this.router=t,this.afstore=e,this.fireService=c,this.loadingcontroller=r,this.storage=b,this.browsing=[],this.likeItem=[],this.cartItem=[],this.connected=!1,this.isOnline=!1,this.welcomeWord="",this.passwordForm=this.formBuilder.group({old:["",[o.o.required,o.o.minLength(8),o.o.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]],new:["",[o.o.required,o.o.minLength(8),o.o.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]]}),this.errorMessages={password:[{type:"required",message:"Password is fully required"},{type:"pattern",message:"Password must be at least 8 characters with digits and uppercase"}]},this.isOnline=this.fireService.getConnexionState(),this.getBrowsingHistoric(),this.getLikeItems(),this.getCartItems(),this.getUid(),this.fireauth.authState.subscribe(n=>{n?(this.connected=!0,this.getUser(n.uid)):(this.connected=!1,this.welcomeWord="Manage your account")})}ngOnInit(){}submit(){return Object(s.a)(this,void 0,void 0,(function*(){let n=!1,i=(yield this.fireauth.currentUser).uid;this.afstore.collection("user").doc(i).get().subscribe(i=>{this.passwordForm.value.old==i.get("password")&&(n=!0)}),n?this.fireauth.currentUser.then(n=>{n.updatePassword(this.passwordForm.value.new)}).then(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.loadingcontroller.create({cssClass:"my-custom-class",message:"Please wait...",duration:2e3}).then(n=>{n.present(),n.onDidDismiss().then(n=>{this.passwordForm.value.new=null,this.passwordForm.value.old=null,console.log(n)})})}))):(this.passwordForm.value.new=null,this.passwordForm.value.old=null)}))}signout(){this.fireauth.signOut().then(()=>{this.storage.remove("user")})}getOldPassword(){return this.passwordForm.get("old")}getNewPassword(){return this.passwordForm.get("new")}getUser(n){this.afstore.collection("user").doc(n).get().subscribe(n=>{this.user=new a.a(n.data()),this.welcomeWord="Welcome "+this.user.name})}getUid(){this.storage.get("user").then(n=>{this.userId=n,this.orders$=this.fireService.getOrder(this.userId)})}getBrowsingHistoric(){return this.storage.get("browsing").then(n=>{0!==n.length&&null!==n&&(this.browsing=n)}).catch(n=>{console.log("no browsing data found")}),this.browsing}getLikeItems(){return this.storage.get("likeItem").then(n=>{0!==n.length&&null!==n&&(this.likeItem=n)}).catch(n=>{console.log("no like items data found")}),this.likeItem}getCartItems(){return this.storage.get("cart").then(n=>{0!==n.length&&null!==n&&(this.cartItem=n)}).catch(n=>{console.log("no like items data found")}),this.likeItem}navigateTo(n){this.router.navigate(["/historic"],{state:{direction:n}})}}return n.\u0275fac=function(i){return new(i||n)(l.Ib(o.b),l.Ib(d.a),l.Ib(b.g),l.Ib(g.a),l.Ib(p.a),l.Ib(r.Y),l.Ib(u.b))},n.\u0275cmp=l.Cb({type:n,selectors:[["app-account"]],decls:73,vars:20,consts:[["mode","ios"],[2,"--background","#4b7bcde8"],["slot","start"],["color","light"],[1,"width"],["size","LARGE","color","warning"],["color","danger"],["size","LARGE","name","cart"],[1,"alert","alert-tertiary",2,"background","#7ea4e6f5"],[2,"color","white"],[1,"p-4","border","alert","alert-tertiary"],[1,"container-fluid","row","border","p-4"],[1,"col-md"],["style","padding-left: 10px; \n        padding-right: 10px;\n        font-size: 16px;\n        font-weight: bold;","class","indicator",4,"ngIf"],[2,"font-weight","bold","font-size","18px"],["routerLink","/helpcenter","routerDirection","forward",1,"col-md"],["routerLink","/order","routerDirection","forward",1,"col-md"],["style","padding-left: 10px; \n      padding-right: 10px;\n      font-size: 16px;\n      font-weight: bold;","class","indicator",4,"ngIf"],["routerLink","/cart","routerDirection","forward",1,"col-md"],[1,"col-md",3,"click"],["style","padding-left: 10px; \n    padding-right: 10px;\n    font-size: 16px;\n    font-weight: bold;","class","indicator",4,"ngIf"],["class","col-md-12  alert alert-tertiary border p-4",4,"ngIf"],[1,"col-md-12","alert","alert-tertiary","border","p-4"],[4,"ngIf"],["class","alert alert-default",4,"ngIf"],["color","danger",4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"ion-padding"],["expand","block","color","secondary","routerLink","/login","routerDirection","forward",4,"ngIf"],["expand","block","color","medium",3,"click",4,"ngIf"],[1,"indicator",2,"padding-left","10px","padding-right","10px","font-size","16px","font-weight","bold"],[2,"margin-bottom","20px",3,"options"],[4,"ngFor","ngForOf"],["routerLink","/order","routerDirection","forward","color","tertiary"],[2,"margin","20px"],[2,"max-height","300px","max-width","300px",3,"src"],[1,"alert","alert-default"],["expand","block","fill","clear",1,"border"],["routerLink","/cart","routerDirection","forward","color","tertiary"],[2,"font-weight","bold","font-size","16px"],["size","large","name","alert-circle"],["color","tertiary",3,"click"],[3,"formGroup","ngSubmit"],["type","password","formControlName","old","placeholder","Old Password",1,"field"],["class","padding-left",4,"ngFor","ngForOf"],["type","password","formControlName","new","placeholder","New Password",1,"field"],["expand","block","type","submit"],[1,"padding-left"],[1,"error-message",2,"color","red"],["expand","block","color","secondary","routerLink","/login","routerDirection","forward"],["expand","block","color","medium",3,"click"]],template:function(n,i){1&n&&(l.Nb(0,"ion-header",0),l.Nb(1,"ion-toolbar",1),l.Nb(2,"ion-buttons",2),l.Jb(3,"ion-back-button",3),l.Mb(),l.Nb(4,"ion-buttons"),l.Nb(5,"ion-title",4),l.Nb(6,"ion-text",5),l.pc(7," K"),l.Mb(),l.Nb(8,"ion-text",6),l.Jb(9,"ion-icon",7),l.Mb(),l.Nb(10,"ion-text",3),l.pc(11,"TALOG"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(12,"ion-content"),l.Nb(13,"div",8),l.Nb(14,"h2",9),l.pc(15),l.Mb(),l.Mb(),l.Nb(16,"div",10),l.Nb(17,"div",11),l.Nb(18,"div",12),l.nc(19,f,2,1,"small",13),l.Nb(20,"ion-chip"),l.Nb(21,"ion-label",14),l.pc(22,"Historic"),l.Mb(),l.Mb(),l.Mb(),l.Nb(23,"div",15),l.Nb(24,"ion-chip"),l.Nb(25,"ion-label",14),l.pc(26,"Help"),l.Mb(),l.Mb(),l.Mb(),l.Nb(27,"div",16),l.nc(28,h,2,1,"small",17),l.Yb(29,"async"),l.Nb(30,"ion-chip"),l.Nb(31,"ion-label",14),l.pc(32,"Orders"),l.Mb(),l.Mb(),l.Mb(),l.Nb(33,"div",18),l.nc(34,m,2,1,"small",13),l.Nb(35,"ion-chip"),l.Nb(36,"ion-label",14),l.pc(37,"Cart"),l.Mb(),l.Mb(),l.Mb(),l.Nb(38,"div",19),l.Vb("click",(function(){return i.navigateTo("Wish List")})),l.nc(39,M,2,1,"small",20),l.Nb(40,"ion-chip"),l.Nb(41,"ion-label",14),l.pc(42,"Favorites"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.nc(43,v,5,3,"div",21),l.Nb(44,"div",22),l.Nb(45,"h4"),l.pc(46,"Your cart"),l.Mb(),l.nc(47,O,5,3,"ng-container",23),l.nc(48,x,3,0,"div",24),l.nc(49,L,4,0,"ion-chip",25),l.Mb(),l.Nb(50,"div",22),l.Nb(51,"h4"),l.pc(52,"Favorites"),l.Mb(),l.nc(53,P,5,3,"ng-container",23),l.nc(54,X,3,0,"div",24),l.nc(55,C,4,0,"ion-chip",25),l.Mb(),l.Nb(56,"div",22),l.Nb(57,"h4"),l.pc(58,"Recent Browsing Items"),l.Mb(),l.nc(59,J,5,3,"ng-container",23),l.nc(60,z,3,0,"div",24),l.nc(61,$,4,0,"ion-chip",25),l.Mb(),l.Nb(62,"div",22),l.Nb(63,"h4"),l.pc(64,"Login and password"),l.Mb(),l.nc(65,V,18,3,"div",26),l.Nb(66,"div",27),l.Nb(67,"ion-card"),l.Nb(68,"ion-card-title",28),l.pc(69,"Connection"),l.Mb(),l.Nb(70,"ion-card-content"),l.nc(71,j,2,0,"ion-button",29),l.nc(72,A,2,0,"ion-button",30),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&n&&(l.yb(15),l.qc(i.welcomeWord),l.yb(4),l.cc("ngIf",0!==i.browsing.length),l.yb(9),l.cc("ngIf",l.Zb(29,18,i.orders$)),l.yb(6),l.cc("ngIf",0!==i.cartItem.length),l.yb(5),l.cc("ngIf",0!==i.likeItem.length),l.yb(4),l.cc("ngIf",i.connected),l.yb(4),l.cc("ngIf",0!==i.cartItem.length&&i.isOnline),l.yb(1),l.cc("ngIf",0==i.cartItem.length&&i.isOnline),l.yb(1),l.cc("ngIf",!i.isOnline),l.yb(4),l.cc("ngIf",0!==i.likeItem.length&&i.isOnline),l.yb(1),l.cc("ngIf",0==i.likeItem.length&&i.isOnline),l.yb(1),l.cc("ngIf",!i.isOnline),l.yb(4),l.cc("ngIf",0!==i.browsing.length&&i.isOnline),l.yb(1),l.cc("ngIf",0==i.browsing.length&&i.isOnline),l.yb(1),l.cc("ngIf",!i.isOnline),l.yb(4),l.cc("ngIf",i.connected),l.yb(6),l.cc("ngIf",!i.connected),l.yb(1),l.cc("ngIf",i.connected))},directives:[r.u,r.V,r.h,r.d,r.e,r.U,r.R,r.v,r.q,e.m,r.o,r.B,r.db,b.h,r.i,r.m,r.j,r.M,e.l,r.L,r.A,r.w,r.G,r.f,r.g,o.k,o.j,o.d,r.y,r.x,r.fb,o.i,o.c],pipes:[e.b,e.d],styles:[".padding-left[_ngcontent-%COMP%]{padding-left:5%}.field[_ngcontent-%COMP%]{width:150vw;margin:0 auto}.indicator[_ngcontent-%COMP%]{position:absolute;margin-top:-20px;background:red;border-radius:50%;padding:5px}ion-content[_ngcontent-%COMP%]{--background:#f1f3f4}ion-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#fff}"]}),n})()}];let G=(()=>{class n{}return n.\u0275mod=l.Gb({type:n}),n.\u0275inj=l.Fb({factory:function(i){return new(i||n)},imports:[[b.i.forChild(D)],b.i]}),n})(),U=(()=>{class n{}return n.\u0275mod=l.Gb({type:n}),n.\u0275inj=l.Fb({factory:function(i){return new(i||n)},imports:[[e.c,o.f,r.W,c.a,G,o.m]]}),n})()}}]);