{"version":3,"sources":["webpack:///src/app/order-details/order-details-routing.module.ts","webpack:///src/app/order-details/order-details.page.scss","webpack:///src/app/order-details/order-details.page.html","webpack:///src/app/order-details/order-details.module.ts","webpack:///src/app/order-details/order-details.page.ts"],"names":["routes","path","component","OrderDetailsPageRoutingModule","imports","forChild","exports","OrderDetailsPageModule","declarations","OrderDetailsPage","route","router","afirestore","fireAuth","alertcontroller","storage","shippingAddress","userType","carrier","name","tracking","nodata","msg","getAdresses","queryParams","subscribe","params","getCurrentNavigation","extras","state","data","order","type","get","then","address","err","console","log","orderId","currentUser","author","uid","object","content","destination","date_msg","Date","now","collection","add","doc","create","cssClass","header","subHeader","message","buttons","alert","present","userId","text","handler","ok","update","shipment","status","reason","msgFaillure","document","getElementById","setAttribute","selector","template"],"mappings":"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","file":"order-details-order-details-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailsPage } from './order-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderDetailsPageRoutingModule {}\n","export default \"ion-content {\\n  --background: #f1f3f4;\\n}\\nion-content ion-img {\\n  width: 50px;\\n  height: 50px;\\n}\\nion-content table th, ion-content td {\\n  font-size: 13px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FBQ0o7QUFBSTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBRUo7QUFBSTtFQUNFLGVBQUE7QUFFTiIsImZpbGUiOiJzcmMvYXBwL29yZGVyLWRldGFpbHMvb3JkZXItZGV0YWlscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcbiAgICAtLWJhY2tncm91bmQ6ICNmMWYzZjQ7XG4gICAgaW9uLWltZ3tcbiAgICB3aWR0aDogNTBweDsgXG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIH1cbiAgICB0YWJsZSB0aCx0ZHtcbiAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICB9XG4gIH0iXX0= */\";","export default \"<ion-header mode=ios>\\n  <ion-toolbar>\\n    <ion-title>Order Details</ion-title>\\n  </ion-toolbar>\\n </ion-header>\\n\\n<ion-content>\\n  \\n  <div class=\\\"container-fluid p-4 overflow-hidden\\\">\\n    <div class=\\\"row g-4\\\">\\n      <div class=\\\"col-lg-8\\\">\\n        <div class=\\\"border bg-white p-3\\\">\\n           \\n            <div class=\\\"border p-2 rounded\\\">\\n              <h6>Shipping Address</h6>\\n              <p>Renald Occean 32977921 <br> London crest 16 Ave bwm apt46 <br> Fort-lauderdale - 33298 <br> United States</p>\\n            </div>\\n            <div class=\\\"border p-2 rounded\\\">\\n              <h6>Shipment Status</h6>\\n              <ion-grid>\\n                <ion-row>\\n                  <ion-col>\\n                    <ion-buttons>\\n                      <ion-item-group>\\n                        <ion-avatar><ion-img src=\\\"../../assets/box_order.jpeg\\\"></ion-img></ion-avatar>\\n                        <small>Packaging</small>\\n                      </ion-item-group>\\n                      <ion-progress-bar></ion-progress-bar>\\n                    </ion-buttons>\\n                  </ion-col>\\n                  <ion-col>\\n                    <ion-buttons>\\n                      <ion-item-group>\\n                        <ion-avatar><ion-img src=\\\"../../assets/shipping.png\\\"></ion-img></ion-avatar>\\n                        <small>Shipped</small>\\n                      </ion-item-group>\\n                      <ion-progress-bar></ion-progress-bar>\\n                    </ion-buttons>\\n                  </ion-col>\\n                  <ion-col>\\n                    <ion-buttons>\\n                      <ion-item-group>\\n                        <ion-avatar><ion-img src=\\\"../../assets/delivery.jpeg\\\"></ion-img></ion-avatar>\\n                        <small>Delivered</small>\\n                      </ion-item-group>\\n                      <ion-progress-bar></ion-progress-bar>\\n                    </ion-buttons>\\n                  </ion-col>\\n                  <ion-col>\\n                    <ion-buttons>\\n                      <ion-item-group>\\n                        <ion-avatar class=\\\"rounded\\\"><ion-icon size=\\\"large\\\" color=\\\"success\\\" name=\\\"checkmark-done-circle-outline\\\"></ion-icon></ion-avatar>\\n                        <small>Completed</small>\\n                      </ion-item-group>\\n                    </ion-buttons>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-grid>\\n            </div>\\n            <ion-buttons>\\n              <ion-button>Tracking historic</ion-button>\\n              <ion-button color=\\\"danger\\\">Cancel order </ion-button>\\n              <ion-button color=\\\"warning\\\">Ask for refunds </ion-button>\\n            </ion-buttons>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"col-lg-4\\\">\\n        <div class=\\\"border bg-white p-3\\\">\\n          \\n          <div class=\\\"border p-2 rounded\\\">\\n            <h6>Payment Method</h6>\\n            <ion-row lines=\\\"none\\\">\\n              <ion-thumbnail>\\n                <ion-img src=\\\"../../assets/icon/Google-Pay-Logo.png\\\" style=\\\"width: 40px; height: 40px;\\\"></ion-img>\\n              </ion-thumbnail>\\n              <ion-label >Google Pay</ion-label>\\n            </ion-row>\\n            \\n          </div>\\n          <div class=\\\"border p-2 rounded\\\">\\n            <h6>Order Info</h6>\\n            <table class=\\\"table table-striped\\\">\\n              <thead>\\n                <tr>\\n                  <th scope=\\\"col\\\">#Order : 890966448</th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <tr>\\n                  <th scope=\\\"row\\\">Date order</th>\\n                  <td>26 mars 2020</td>\\n                </tr>\\n                <tr>\\n                  <th scope=\\\"row\\\"># items of order</th>\\n                  <td>4</td>\\n                </tr>\\n                <tr>\\n                  <th scope=\\\"row\\\">Shipping & Handling</th>\\n                  <td>9$</td>\\n                </tr>\\n                <tr>\\n                  <th scope=\\\"row\\\">Total cost</th>\\n                  <td>12244$</td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n          \\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  \\n\\n\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderDetailsPageRoutingModule } from './order-details-routing.module';\n\nimport { OrderDetailsPage } from './order-details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderDetailsPageRoutingModule\n  ],\n  declarations: [OrderDetailsPage]\n})\nexport class OrderDetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { Address } from 'src/models/addresses';\nimport { Message } from 'src/models/message';\nimport { Order } from 'src/models/order';\nimport { isNullOrUndefined } from 'util';\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.page.html',\n  styleUrls: ['./order-details.page.scss'],\n})\nexport class OrderDetailsPage implements OnInit {\n  data: Order;\n  shippingAddress: string='';\n  orderStatus: 'Not shipped yet';\n  userType: string='';\n  carrier ={\n    name: '',\n    tracking: ''\n  }\n  nodata: boolean=true;\n  msg: Message;\n  address: Address[];\n  constructor(private route: ActivatedRoute, private router: Router, private afirestore: AngularFirestore, \n              private fireAuth: AngularFireAuth, private alertcontroller: AlertController, private storage: Storage) { \n                this.msg = {} as Message;\n                this.getAdresses();\n              }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.order;\n        this.userType =   this.router.getCurrentNavigation().extras.state.type;\n        \n      }\n    });\n    if(!isNullOrUndefined(this.data)){\n      this.nodata = false; \n    }else{ this.nodata = true;}\n  }\n\n  getAdresses(){\n  \n    this.storage.get(\"address\").then((data:Address[])=>{\n        this.address= data;\n        \n    }).catch(err=>{\n      console.log(\"addresses not found or empty\");\n    });\n   \n  }\n\n  async changeAddress(address: string, orderId: string){\n    \n   \n    this.msg.author = (await this.fireAuth.currentUser).uid;\n    this.msg.object = \"ORDER_UPDATE\";\n    this.msg.content = address;\n    this.msg.destination = \"ADMIN\";\n    this.msg.date_msg = new Date(Date.now());\n    this.afirestore.collection(\"messages\").add(this.msg);\n    this.afirestore.collection('message').doc(\"ADMIN_ONE\").collection('update').add(this.msg).then(async ()=>{\n      const alert = await this.alertcontroller.create({\n        cssClass: 'my-custom-class',\n        header: 'Alert',\n        subHeader: 'Subtitle',\n        message: 'Shipping address will change to.'+address+' please verify your message box for confirmation',\n        buttons: ['Ok']\n      });\n      await alert.present();\n    })\n    }\n\n  async cancelOrder(data: Order){\n    let userId = (await this.fireAuth.currentUser).uid;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Cancel Order',\n      message: 'Do you really want to cancel order.'+data.orderId,\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{\n          this.afirestore.collection(\"orders\").doc(userId)\n                          .collection(\"customer_order\").doc(data.orderId)\n                          .update({\"shipment.status\":\"CANCELLED\" })\n                          .then(()=>{\n                            this.data.shipment.status = \"User is cancelling the order\"\n                          }).catch((reason)=>{this.msgFaillure(reason)});\n         }\n        },\n        {text:'Cancel', cssClass:'my-custom-class'}\n                ]\n    });\n    await alert.present();\n  }\n\n  async refunding(data: Order){\n    document.getElementById(\"spin2\").setAttribute(\"hidden\", \"false\");\n    let userId = (await this.fireAuth.currentUser).uid;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Assign carrier',\n      message: 'By starting a refund process you have to return back the purchased item. please contact customer services for support. ',\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{\n          this.afirestore.collection(\"orders\").doc(userId)\n          .collection(\"customer_order\").doc(data.orderId)\n          .update({\"shipment.status\":\"REFUNDS\"})\n          .then(()=>{\n            document.getElementById(\"spin2\").setAttribute(\"hidden\", \"true\");\n            this.data.shipment.status = \"Refunds process started\"\n          }).catch((reason)=>{this.msgFaillure(reason);  document.getElementById(\"spin2\").setAttribute(\"hidden\", \"true\");});\n\n         }\n        },\n        {text:'Cancel', cssClass:'my-custom-class'}\n      ]\n    });\n    await alert.present()\n  }\n  async setCarrier(carrier: any, orderId: string){\n    if(carrier.name!=='' && carrier.tracking!=='' && carrier.name!==null && carrier.tracking!==null ){\n      document.getElementById(\"spin\").setAttribute(\"hidden\", \"false\");\n      let userId = (await this.fireAuth.currentUser).uid;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Assign carrier',\n      message: 'Once you validate item will be shipped by carrier '+carrier.name,\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{\n          this.afirestore.collection(\"orders\").doc(userId)\n          .collection(\"customer_order\").doc(orderId)\n          .update({\"shipment.status\":\"Shipped\", \"shipment.carrier\":carrier.name, \"shipment.tracking\":carrier.tracking })\n          .then(()=>{\n            document.getElementById(\"spin\").setAttribute(\"hidden\", \"true\");\n            this.data.shipment.status = \"Shipped\"\n          }).catch((reason)=>{this.msgFaillure(reason);  document.getElementById(\"spin\").setAttribute(\"hidden\", \"true\");});\n\n         }\n        },\n        {text:'Cancel', cssClass:'my-custom-class'}\n      ]\n    });\n    await alert.present();\n\n    }else{\n      this.msgFaillure(\"No tracking number or carrier set\");\n    }\n    \n  }\n\n  async msgFaillure(reason: any){\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Assign carrier',\n      message: 'Operation failed'+reason,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n}\n"]}