{"version":3,"sources":["webpack:///src/app/order-details/order-details-routing.module.ts","webpack:///src/app/order-details/order-details.page.scss","webpack:///src/app/order-details/order-details.page.html","webpack:///src/app/order-details/order-details.module.ts","webpack:///src/app/order-details/order-details.page.ts"],"names":["routes","path","component","OrderDetailsPageRoutingModule","imports","forChild","exports","OrderDetailsPageModule","declarations","OrderDetailsPage","route","router","afirestore","fireAuth","alertcontroller","storage","shippingAddress","userType","carrier","name","tracking","nodata","msg","getAdresses","queryParams","subscribe","params","getCurrentNavigation","extras","state","data","order","type","get","then","address","err","console","log","orderId","currentUser","author","uid","object","content","destination","date_msg","Date","now","collection","add","doc","create","cssClass","header","subHeader","message","buttons","alert","present","userId","text","handler","ok","update","shipment","status","reason","msgFaillure","document","getElementById","setAttribute","selector","template"],"mappings":"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","file":"order-details-order-details-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailsPage } from './order-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderDetailsPageRoutingModule {}\n","export default \"ion-content h5 {\\n  margin-top: 1px;\\n  margin-bottom: 1px;\\n  font-size: 13px;\\n  padding-top: 0px;\\n  padding-bottom: 0px;\\n}\\nion-content h6 {\\n  margin-top: 1px;\\n  margin-bottom: 1px;\\n  font-size: 12px;\\n  padding-top: 0px;\\n  padding-bottom: 0px;\\n}\\nion-content h4 {\\n  padding-top: 2px;\\n  margin-top: 2px;\\n  margin-bottom: 2px;\\n  font-size: 14px;\\n}\\nion-content div {\\n  text-align: justify;\\n  border-top: 3px solid #eee;\\n  border-bottom: 3px solid #eee;\\n}\\nion-content p {\\n  font-weight: bold;\\n}\\nion-content fieldset {\\n  border-radius: 10%;\\n}\\nion-content ion-button {\\n  width: 80%;\\n  height: 40px;\\n  margin-top: auto;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  padding: auto;\\n  font-family: \\\"Courier New\\\", Courier, monospace;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHSTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FBRlI7QUFJSTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FBRlI7QUFJSTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQUZSO0FBS0k7RUFDSSxtQkFBQTtFQUNBLDBCQUFBO0VBQ0EsNkJBQUE7QUFIUjtBQUtJO0VBQ0ksaUJBQUE7QUFIUjtBQUtJO0VBQ0ksa0JBQUE7QUFIUjtBQUtJO0VBQ0ksVUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsOENBQUE7RUFDQSxpQkFBQTtBQUhSIiwiZmlsZSI6InNyYy9hcHAvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW9uLWNvbnRlbnQge1xuXG4gICAgaDV7XG4gICAgICAgIG1hcmdpbi10b3A6IDFweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMXB4O1xuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAwcHg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG4gICAgfVxuICAgIGg2e1xuICAgICAgICBtYXJnaW4tdG9wOiAxcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDFweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4OyBcbiAgICAgICAgcGFkZGluZy10b3A6IDBweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDBweDtcbiAgICB9XG4gICAgaDR7XG4gICAgICAgIHBhZGRpbmctdG9wOiAycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMnB4O1xuICAgICAgICBmb250LXNpemU6IDE0cHg7ICBcbiAgICB9XG5cbiAgICBkaXZ7XG4gICAgICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICAgICAgIGJvcmRlci10b3A6IDNweCBzb2xpZCAjZWVlO1xuICAgICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2VlZTtcbiAgICB9XG4gICAgcHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICAgIGZpZWxkc2V0e1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMCU7XG4gICAgfVxuICAgIGlvbi1idXR0b257XG4gICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgbWFyZ2luLXRvcDogYXV0bztcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwJTtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMCU7XG4gICAgICAgIHBhZGRpbmc6IGF1dG87XG4gICAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBDb3VyaWVyLCBtb25vc3BhY2U7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cblxufVxuIl19 */\";","export default \"<ion-header mode=ios>\\n  <ion-toolbar>\\n    <ion-buttons style=\\\"margin-top:5%;\\\" slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Order Details</ion-title>\\n  </ion-toolbar>\\n </ion-header>\\n\\n<ion-content>\\n  \\n  <ng-container *ngIf=\\\"!nodata\\\">\\n    <div>\\n      <fieldset>\\n        <legend><label>Order Info</label></legend>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Date Order</ion-col>\\n            <ion-col>{{data.date_order | date}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\"># Order</ion-col>\\n            <ion-col>{{data.orderId | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Cost Order</ion-col>\\n            <ion-col>{{data.amount | currency}}</ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </fieldset>\\n    </div>\\n    <div >\\n      <fieldset>\\n        <legend><p>Shipment Status</p></legend>\\n          <h6>Ship to - {{data.shipment.shipping_destination}}</h6>\\n          <h5>{{data.shipment.carrier}}</h5>\\n          <p>{{data.shipment.trackingnumber}}<br></p>\\n          <h5 *ngIf=\\\"data.shipment.status!=='Delivered'\\\">{{data.shipment.status}}</h5>\\n          <ion-badge *ngIf=\\\"data.shipment.status=='Delivered'\\\" color=\\\"success\\\">Delivered</ion-badge>\\n      </fieldset>\\n    </div>\\n    <div>\\n      <fieldset>\\n        <legend><p>Manage your order</p></legend>\\n          <ion-button color=\\\"medium\\\" *ngIf=\\\"this.data.shipment.status!=='Shipped'\\\">\\n            <ion-select (ionChange)=\\\"changeAddress(shippingAddress,data.orderId)\\\" [(ngModel)]=\\\"shippingAddress\\\" placeholder=\\\"Change shipping address\\\">\\n              <ion-select-option *ngFor=\\\"let shipaddress of address\\\">{{shipaddress.address1}}</ion-select-option>\\n            </ion-select>\\n          </ion-button>\\n          <ion-button *ngIf=\\\"this.data.shipment.status!=='CANCELLED' && this.data.shipment.status!=='Shipped' && this.data.shipment.status!=='Delivered'\\\" (click)=\\\"cancelOrder(data)\\\" color=\\\"danger\\\">Cancel Order</ion-button>\\n          <ion-button *ngIf=\\\"this.data.shipment.status!=='Shipped'\\\" (click)=\\\"refunding(data)\\\" color=\\\"warning\\\">Ask for Refunds<ion-spinner id=\\\"spin2\\\" hidden=\\\"true\\\"></ion-spinner></ion-button>\\n      </fieldset>\\n    </div>\\n    <div name=\\\"admin_purposes\\\" *ngIf=\\\"userType=='ADMIN'\\\">\\n      <fieldset>\\n        <legend><p>Carrier assigment</p>\\n                <h6>admin only is authorized to manage carrier</h6>\\n        </legend>\\n         \\n            <ion-button color=\\\"tertiary\\\">Claim payment</ion-button>\\n            <div>\\n            <ion-select  [(ngModel)]=\\\"carrier.name\\\" placeholder=\\\"Assign a carrier\\\">\\n              \\n              <ion-select-option>UPS</ion-select-option>\\n              <ion-select-option>USPS</ion-select-option>\\n              <ion-select-option>BPS</ion-select-option>\\n              <ion-select-option>DHL Express</ion-select-option>\\n              <ion-select-option>Katalog Express</ion-select-option>\\n            </ion-select>\\n          </div>\\n          <div>\\n            <ion-input type=\\\"text\\\" [(ngModel)]=\\\"carrier.tracking\\\" placeholder=\\\"Carrier tracking number\\\"></ion-input>\\n          </div>\\n          <div>\\n            <ion-button (click)=\\\"setCarrier(carrier, data.orderId)\\\" color=\\\"secondary\\\">Set Carrier<ion-spinner id=\\\"spin\\\" hidden=\\\"true\\\" ></ion-spinner></ion-button>\\n          </div>\\n          \\n      </fieldset>\\n    </div>\\n    <div>\\n      <!-- <fieldset>\\n        <legend><p>Payment Method</p></legend>\\n          <ion-row><ion-col><h4>{{data.payment.method}}</h4></ion-col>\\n            <ion-col *ngIf=\\\"data.payment.method=='PayPal'\\\">{{data.payment.credential.email}}</ion-col>\\n            <ion-col *ngIf=\\\"data.payment.method=='MasterCard'\\\"><h6>XXXX XXXX {{data.payment.credential.options.substring(0,5)}}</h6></ion-col>\\n            <ion-col *ngIf=\\\"data.payment.method=='MonCash'\\\">{{data.payment.credential.phone}}</ion-col>\\n          </ion-row>\\n           <ion-row>\\n             <h4>Billing address</h4>\\n             <p> {{data.shipment.shipping_destination}}</p>\\n          </ion-row>\\n      </fieldset> -->\\n    </div>\\n  </ng-container>\\n   \\n  <ng-container *ngIf=\\\"nodata\\\">\\n    <div>\\n      <fieldset>\\n        <legend><p>Order Info</p></legend>\\n        <ion-row><ion-col><h5>Date Order</h5></ion-col>\\n              <ion-col><ion-skeleton-text><h6></h6></ion-skeleton-text></ion-col>  \\n        </ion-row>\\n        <ion-row><ion-col><h5># Order</h5></ion-col>\\n          <ion-col><ion-skeleton-text><h6></h6></ion-skeleton-text></ion-col>  \\n        </ion-row>\\n        <ion-row><ion-col><h5>Cost Order</h5></ion-col>\\n          <ion-col><ion-skeleton-text><h6></h6></ion-skeleton-text></ion-col>   \\n        </ion-row>\\n        \\n      </fieldset> \\n    </div>\\n    <div >\\n      <fieldset>\\n        <legend><p>Shipment Status</p></legend>\\n        <ion-skeleton-text><h5></h5></ion-skeleton-text> \\n        <ion-skeleton-text><p></p></ion-skeleton-text> \\n        <ion-skeleton-text><h5></h5></ion-skeleton-text> \\n      </fieldset>\\n    </div>\\n    <div>\\n      <fieldset>\\n        <legend><p>Manage your order</p></legend>\\n        <ion-skeleton-text><ion-button color=\\\"medium\\\">\\n          <ion-select placeholder=\\\"Change shipping address\\\">\\n            <ion-select-option>Option2</ion-select-option>\\n          </ion-select>\\n        </ion-button></ion-skeleton-text>  \\n         <ion-skeleton-text>\\n          <ion-button  color=\\\"danger\\\">Cancel order</ion-button>\\n          <ion-button  color=\\\"warning\\\">Ask for Refunds</ion-button>\\n          <ion-button color=\\\"tertiary\\\">Claim payment</ion-button>\\n         </ion-skeleton-text> \\n        <ion-skeleton-text>\\n          <div>\\n            <ion-select  placeholder=\\\"Assign a carrier\\\">\\n              \\n              <ion-select-option>UPS</ion-select-option>\\n              <ion-select-option>USPS</ion-select-option>\\n              <ion-select-option>BPS</ion-select-option>\\n              <ion-select-option>DHL Express</ion-select-option>\\n              <ion-select-option>Katalog Express</ion-select-option>\\n            </ion-select>\\n          </div>\\n        </ion-skeleton-text>\\n          <ion-skeleton-text>\\n            <div>\\n              <ion-button color=\\\"secondary\\\"></ion-button>\\n            </div>\\n          </ion-skeleton-text>\\n          \\n      </fieldset>\\n    </div>\\n    <div>\\n      <fieldset>\\n        <legend><p>Payment Method</p></legend>\\n       <ion-row>\\n        <ion-skeleton-text><ion-col><h6></h6></ion-col></ion-skeleton-text> \\n        <ion-skeleton-text><ion-col><h6></h6></ion-col></ion-skeleton-text> \\n           </ion-row>\\n           <ion-row>\\n            <ion-skeleton-text>\\n              <h4>Billing address</h4>\\n              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates vitae sit consectetur! Hic, tempore nihil! Quaerat tenetur vitae magnam quae? Odio a ullam ipsum voluptatibus rem mollitia, quia totam labore?</p>\\n            </ion-skeleton-text>\\n                       </ion-row>\\n      </fieldset>\\n    </div>\\n  </ng-container>\\n\\n\\n  \\n\\n\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar >\\n    <ion-tabs>\\n      <ion-tab-bar color=\\\"dark\\\">\\n        <ion-tab-button routerLink=\\\"/home\\\"  routerDirection=\\\"forward\\\">\\n          <ion-icon name=\\\"home-outline\\\"></ion-icon>\\n          <ion-label>Home</ion-label>\\n        </ion-tab-button>\\n    \\n        <ion-tab-button routerLink=\\\"/cart\\\"  routerDirection=\\\"forward\\\">\\n          <ion-icon name=\\\"cart-outline\\\"></ion-icon>\\n          <ion-label>Cart</ion-label>\\n        </ion-tab-button>\\n    \\n        <ion-tab-button routerLink=\\\"/account\\\"  routerDirection=\\\"forward\\\">\\n          <ion-icon name=\\\"person-circle-outline\\\"></ion-icon>\\n          <ion-label>Profil</ion-label>\\n        </ion-tab-button>\\n    \\n        <ion-tab-button routerLink=\\\"/order\\\"  routerDirection=\\\"forward\\\">\\n          <ion-icon name=\\\"cube-outline\\\"></ion-icon>\\n          <ion-label>Order</ion-label>\\n        </ion-tab-button>\\n      </ion-tab-bar>\\n    \\n    </ion-tabs>\\n  </ion-toolbar>\\n  \\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderDetailsPageRoutingModule } from './order-details-routing.module';\n\nimport { OrderDetailsPage } from './order-details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderDetailsPageRoutingModule\n  ],\n  declarations: [OrderDetailsPage]\n})\nexport class OrderDetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { Address } from 'src/models/addresses';\nimport { Message } from 'src/models/message';\nimport { Order } from 'src/models/order';\nimport { isNullOrUndefined } from 'util';\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.page.html',\n  styleUrls: ['./order-details.page.scss'],\n})\nexport class OrderDetailsPage implements OnInit {\n  data: Order;\n  shippingAddress: string='';\n  orderStatus: 'Not shipped yet';\n  userType: string='';\n  carrier ={\n    name: '',\n    tracking: ''\n  }\n  nodata: boolean=true;\n  msg: Message;\n  address: Address[];\n  constructor(private route: ActivatedRoute, private router: Router, private afirestore: AngularFirestore, \n              private fireAuth: AngularFireAuth, private alertcontroller: AlertController, private storage: Storage) { \n                this.msg = {} as Message;\n                this.getAdresses();\n              }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.order;\n        this.userType =   this.router.getCurrentNavigation().extras.state.type;\n        \n      }\n    });\n    if(!isNullOrUndefined(this.data)){\n      this.nodata = false; \n    }else{ this.nodata = true;}\n  }\n\n  getAdresses(){\n  \n    this.storage.get(\"address\").then((data:Address[])=>{\n        this.address= data;\n        \n    }).catch(err=>{\n      console.log(\"addresses not found or empty\");\n    });\n   \n  }\n\n  async changeAddress(address: string, orderId: string){\n    \n   \n    this.msg.author = (await this.fireAuth.currentUser).uid;\n    this.msg.object = \"ORDER_UPDATE\";\n    this.msg.content = address;\n    this.msg.destination = \"ADMIN\";\n    this.msg.date_msg = new Date(Date.now());\n    this.afirestore.collection(\"messages\").add(this.msg);\n    this.afirestore.collection('message').doc(\"ADMIN_ONE\").collection('update').add(this.msg).then(async ()=>{\n      const alert = await this.alertcontroller.create({\n        cssClass: 'my-custom-class',\n        header: 'Alert',\n        subHeader: 'Subtitle',\n        message: 'Shipping address will change to.'+address+' please verify your message box for confirmation',\n        buttons: ['Ok']\n      });\n      await alert.present();\n    })\n    }\n\n  async cancelOrder(data: Order){\n    let userId = (await this.fireAuth.currentUser).uid;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Cancel Order',\n      message: 'Do you really want to cancel order.'+data.orderId,\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{\n          this.afirestore.collection(\"orders\").doc(userId)\n                          .collection(\"customer_order\").doc(data.orderId)\n                          .update({\"shipment.status\":\"CANCELLED\" })\n                          .then(()=>{\n                            this.data.shipment.status = \"User is cancelling the order\"\n                          }).catch((reason)=>{this.msgFaillure(reason)});\n         }\n        },\n        {text:'Cancel', cssClass:'my-custom-class'}\n                ]\n    });\n    await alert.present();\n  }\n\n  async refunding(data: Order){\n    document.getElementById(\"spin2\").setAttribute(\"hidden\", \"false\");\n    let userId = (await this.fireAuth.currentUser).uid;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Assign carrier',\n      message: 'By starting a refund process you have to return back the purchased item. please contact customer services for support. ',\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{\n          this.afirestore.collection(\"orders\").doc(userId)\n          .collection(\"customer_order\").doc(data.orderId)\n          .update({\"shipment.status\":\"REFUNDS\"})\n          .then(()=>{\n            document.getElementById(\"spin2\").setAttribute(\"hidden\", \"true\");\n            this.data.shipment.status = \"Refunds process started\"\n          }).catch((reason)=>{this.msgFaillure(reason);  document.getElementById(\"spin2\").setAttribute(\"hidden\", \"true\");});\n\n         }\n        },\n        {text:'Cancel', cssClass:'my-custom-class'}\n      ]\n    });\n    await alert.present()\n  }\n  async setCarrier(carrier: any, orderId: string){\n    if(carrier.name!=='' && carrier.tracking!=='' && carrier.name!==null && carrier.tracking!==null ){\n      document.getElementById(\"spin\").setAttribute(\"hidden\", \"false\");\n      let userId = (await this.fireAuth.currentUser).uid;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Assign carrier',\n      message: 'Once you validate item will be shipped by carrier '+carrier.name,\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{\n          this.afirestore.collection(\"orders\").doc(userId)\n          .collection(\"customer_order\").doc(orderId)\n          .update({\"shipment.status\":\"Shipped\", \"shipment.carrier\":carrier.name, \"shipment.tracking\":carrier.tracking })\n          .then(()=>{\n            document.getElementById(\"spin\").setAttribute(\"hidden\", \"true\");\n            this.data.shipment.status = \"Shipped\"\n          }).catch((reason)=>{this.msgFaillure(reason);  document.getElementById(\"spin\").setAttribute(\"hidden\", \"true\");});\n\n         }\n        },\n        {text:'Cancel', cssClass:'my-custom-class'}\n      ]\n    });\n    await alert.present();\n\n    }else{\n      this.msgFaillure(\"No tracking number or carrier set\");\n    }\n    \n  }\n\n  async msgFaillure(reason: any){\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Assign carrier',\n      message: 'Operation failed'+reason,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n}\n"]}