{"version":3,"sources":["webpack:///node_modules/typescript-collections/dist/lib/util.js","webpack:///node_modules/@google-pay/button-angular/__ivy_ngcc__/fesm2015/google-pay-button-angular.js","webpack:///src/app/place-order/place-order.page.scss","webpack:///src/app/place-order/place-order.page.ts","webpack:///src/app/place-order/place-order.module.ts","webpack:///src/app/place-order/place-order-routing.module.ts","webpack:///src/app/place-order/place-order.page.html"],"names":["Object","defineProperty","exports","value","_hasOwnProperty","prototype","hasOwnProperty","has","obj","prop","call","defaultCompare","a","b","defaultEquals","defaultToString","item","isUndefined","isString","toString","makeString","join","toret","first","isFunction","func","reverseCompareFunction","compareFunction","d","v","compareToEquals","cachedScripts","loadScript","src","existing","promise","Promise","resolve","reject","script","document","createElement","async","onScriptLoad","onScriptError","cleanup","remove","Error","addEventListener","body","appendChild","removeEventListener","clearScriptCache","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","next","e","rejected","result","done","then","apply","ButtonManager","options","handleClick","event","config","request","createLoadPaymentDataRequest","onClick","defaultPrevented","client","loadPaymentData","onLoadPaymentData","statusCode","onCancel","onError","console","error","element","_a","_b","window","global","google","payments","api","PaymentsClient","isGooglePayLoaded","appendStyles","updateElement","undefined","newConfig","oldInvalidationValues","isClientInvalidated","getInvalidationValues","clientConfig","environment","merchantInfo","createMerchantInfo","onPaymentDataChanged","onPaymentAuthorized","paymentDataCallbacks","paymentData","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","existingPaymentMethodRequired","assign","softwareInfo","id","softwareInfoId","version","softwareInfoVersion","isConnected","ShadowRoot","Element","Array","from","children","child","tagName","isMounted","getElement","removeButton","createClientOptions","buttonOptions","buttonType","buttonColor","buttonSizeMode","buttonLocale","rootNode","getRootNode","buttonRootNode","button","createButton","setClassName","className","showButton","isReadyToPay","createIsReadyToPayRequest","readyToPay","paymentMethodPresent","prefetchPaymentData","err","log","split","filter","onReadyToPayChange","readyToPayResponse","isButtonVisible","classNames","name","removeAttribute","_c","styleId","cssSelector","replace","getElementById","style","type","innerHTML","Document","head","newValues","some","index","merchantId","merchantName","description","main","repository","url","directory","homepage","engines","node","author","license","scripts","build","dependencies","peerDependencies","files","keywords","devDependencies","_package","debounce","wait","timeout","args","clearTimeout","later","setTimeout","GooglePayButtonComponent","elementRef","manager","initializeButton","assertRequiredProperty","paymentDataChangedCallback","paymentAuthorizedCallback","readyToPayChangeCallback","dispatch","reason","cancelCallback","errorCallback","nativeElement","dispatchEvent","ErrorEvent","loadPaymentDataCallback","clickCallback","configure","mount","throwError","detail","CustomEvent","bubbles","cancelable","ɵfac","GooglePayButtonComponent_Factory","t","ɵdir","selectors","inputs","features","ctorParameters","propDecorators","selector","GooglePayButtonModule","ɵmod","ɵinj","factory","GooglePayButtonModule_Factory","imports","ngJitMode","declarations","PlaceOrderPage","http","pickerCtrl","route","loadingcontroller","storage","alertcontroller","router","afirestore","fireAuth","cost","btoa","shippingAddress","selectAddress","productqty","amountOrder","shippingfee","taxfee","deliveryfee","promotion","totalfee","products","defaultaddress","getAdresses","collapse","queryParams","subscribe","params","getCurrentNavigation","extras","state","data","order","items","order_qty","amount","map","product","shippingFee","deliveryFee","taxFee","deliverydate","calculateDeliveryDate","deliveryDate","parameters","allowedCardNetworks","allowedAuthMethods","tokenizationSpecification","gateway","gatewayMerchantId","transactionInfo","countryCode","currencyCode","totalPriceLabel","totalPriceStatus","totalPrice","toFixed","shippingAddressRequired","shippingAddressParameters","allowedCountryCodes","phoneNumberRequired","get","addresses","address","address1","address2","addressid","setagreed","create","cssClass","header","subHeader","message","buttons","text","handler","ok","setDefault","alert","present","set","setLoading","newaddress","duration","control","onWillDismiss","load","loading","postData","SERVER_URL","formData","FormData","append","post","res","items_cost","items_ordered","shipment","shipping_destination","userLogged","connection","loaded","collection","currentUser","uid","doc","orderId","dismiss","sendToConfirm","onDidDismiss","role","msgOrderFailed","date","deadline","Date","now","seconds","nanoseconds","orderToconfirm","navigationExtras","navigate","template","PlaceOrderPageModule","routes","path","component","PlaceOrderPageRoutingModule","forChild"],"mappings":"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","file":"place-order-place-order-module-es5.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nexports.has = function (obj, prop) {\n    return _hasOwnProperty.call(obj, prop);\n};\n/**\n * Default function to compare element order.\n * @function\n */\nfunction defaultCompare(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    else if (a === b) {\n        return 0;\n    }\n    else {\n        return 1;\n    }\n}\nexports.defaultCompare = defaultCompare;\n/**\n * Default function to test equality.\n * @function\n */\nfunction defaultEquals(a, b) {\n    return a === b;\n}\nexports.defaultEquals = defaultEquals;\n/**\n * Default function to convert an object to a string.\n * @function\n */\nfunction defaultToString(item) {\n    if (item === null) {\n        return 'COLLECTION_NULL';\n    }\n    else if (isUndefined(item)) {\n        return 'COLLECTION_UNDEFINED';\n    }\n    else if (isString(item)) {\n        return '$s' + item;\n    }\n    else {\n        return '$o' + item.toString();\n    }\n}\nexports.defaultToString = defaultToString;\n/**\n * Joins all the properies of the object using the provided join string\n */\nfunction makeString(item, join) {\n    if (join === void 0) { join = ','; }\n    if (item === null) {\n        return 'COLLECTION_NULL';\n    }\n    else if (isUndefined(item)) {\n        return 'COLLECTION_UNDEFINED';\n    }\n    else if (isString(item)) {\n        return item.toString();\n    }\n    else {\n        var toret = '{';\n        var first = true;\n        for (var prop in item) {\n            if (exports.has(item, prop)) {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    toret = toret + join;\n                }\n                toret = toret + prop + ':' + item[prop];\n            }\n        }\n        return toret + '}';\n    }\n}\nexports.makeString = makeString;\n/**\n * Checks if the given argument is a function.\n * @function\n */\nfunction isFunction(func) {\n    return (typeof func) === 'function';\n}\nexports.isFunction = isFunction;\n/**\n * Checks if the given argument is undefined.\n * @function\n */\nfunction isUndefined(obj) {\n    return (typeof obj) === 'undefined';\n}\nexports.isUndefined = isUndefined;\n/**\n * Checks if the given argument is a string.\n * @function\n */\nfunction isString(obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n}\nexports.isString = isString;\n/**\n * Reverses a compare function.\n * @function\n */\nfunction reverseCompareFunction(compareFunction) {\n    if (isUndefined(compareFunction) || !isFunction(compareFunction)) {\n        return function (a, b) {\n            if (a < b) {\n                return 1;\n            }\n            else if (a === b) {\n                return 0;\n            }\n            else {\n                return -1;\n            }\n        };\n    }\n    else {\n        return function (d, v) {\n            return compareFunction(d, v) * -1;\n        };\n    }\n}\nexports.reverseCompareFunction = reverseCompareFunction;\n/**\n * Returns an equal function given a compare function.\n * @function\n */\nfunction compareToEquals(compareFunction) {\n    return function (a, b) {\n        return compareFunction(a, b) === 0;\n    };\n}\nexports.compareToEquals = compareToEquals;\n//# sourceMappingURL=util.js.map","import { Directive, ElementRef, Input, NgModule } from '@angular/core';\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Keeps track scripts that have been requested by loadScript.\n */\nimport * as ɵngcc0 from '@angular/core';\nlet cachedScripts = {};\n/**\n * Asynchronously loads a script keeping track of which scripts have already\n * requested and loaded.\n *\n * Multiple requests to the same resource will return the same promise.\n *\n * @param src Script URL to load\n */\nfunction loadScript(src) {\n    const existing = cachedScripts[src];\n    if (existing) {\n        return existing;\n    }\n    const promise = new Promise((resolve, reject) => {\n        // Create script\n        const script = document.createElement('script');\n        script.src = src;\n        script.async = true;\n        // Script event listener callbacks for load and error\n        const onScriptLoad = () => {\n            resolve();\n        };\n        const onScriptError = () => {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            cleanup();\n            // Remove from cachedScripts so that we can try loading again\n            delete cachedScripts[src];\n            script.remove();\n            reject(new Error(`Unable to load script ${src}`));\n        };\n        script.addEventListener('load', onScriptLoad);\n        script.addEventListener('error', onScriptError);\n        // Add script to document body\n        document.body.appendChild(script);\n        // Remove event listeners on cleanup\n        function cleanup() {\n            script.removeEventListener('load', onScriptLoad);\n            script.removeEventListener('error', onScriptError);\n        }\n    });\n    cachedScripts[src] = promise;\n    return promise;\n}\n/**\n * Clears the script cache. Used for testing purposes only.\n */\nfunction clearScriptCache() {\n    cachedScripts = {};\n}\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Manages the lifecycle of the Google Pay button.\n *\n * Includes lifecycle management of the `PaymentsClient` instance,\n * `isReadyToPay`, `onClick`, `loadPaymentData`, and other callback methods.\n */\nclass ButtonManager {\n    constructor(options) {\n        /**\n         * Handles the click event of the Google Pay button.\n         *\n         * This method would normally be private but has been made public for\n         * testing purposes.\n         *\n         * @private\n         */\n        this.handleClick = (event) => __awaiter(this, void 0, void 0, function* () {\n            const config = this.config;\n            if (!config) {\n                throw new Error('google-pay-button: Missing configuration');\n            }\n            const request = this.createLoadPaymentDataRequest(config);\n            try {\n                if (config.onClick) {\n                    config.onClick(event);\n                }\n                if (event.defaultPrevented) {\n                    return;\n                }\n                const result = yield this.client.loadPaymentData(request);\n                if (config.onLoadPaymentData) {\n                    config.onLoadPaymentData(result);\n                }\n            }\n            catch (err) {\n                if (err.statusCode === 'CANCELED') {\n                    if (config.onCancel) {\n                        config.onCancel(err);\n                    }\n                }\n                else if (config.onError) {\n                    config.onError(err);\n                }\n                else {\n                    console.error(err);\n                }\n            }\n        });\n        this.options = options;\n    }\n    getElement() {\n        return this.element;\n    }\n    isGooglePayLoaded() {\n        var _a, _b;\n        return 'google' in (window || global) && !!((_b = (_a = google === null || google === void 0 ? void 0 : google.payments) === null || _a === void 0 ? void 0 : _a.api) === null || _b === void 0 ? void 0 : _b.PaymentsClient);\n    }\n    mount(element) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isGooglePayLoaded()) {\n                yield loadScript('https://pay.google.com/gp/p/js/pay.js');\n            }\n            this.element = element;\n            if (element) {\n                this.appendStyles();\n                if (this.config) {\n                    this.updateElement();\n                }\n            }\n        });\n    }\n    unmount() {\n        this.element = undefined;\n    }\n    configure(newConfig) {\n        let promise = undefined;\n        this.config = newConfig;\n        if (!this.oldInvalidationValues || this.isClientInvalidated(newConfig)) {\n            promise = this.updateElement();\n        }\n        this.oldInvalidationValues = this.getInvalidationValues(newConfig);\n        return promise !== null && promise !== void 0 ? promise : Promise.resolve();\n    }\n    /**\n     * Creates client configuration options based on button configuration\n     * options.\n     *\n     * This method would normally be private but has been made public for\n     * testing purposes.\n     *\n     * @private\n     */\n    createClientOptions(config) {\n        const clientConfig = {\n            environment: config.environment,\n            merchantInfo: this.createMerchantInfo(config),\n        };\n        if (config.onPaymentDataChanged || config.onPaymentAuthorized) {\n            clientConfig.paymentDataCallbacks = {};\n            if (config.onPaymentDataChanged) {\n                // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n                clientConfig.paymentDataCallbacks.onPaymentDataChanged = paymentData => {\n                    const result = config.onPaymentDataChanged(paymentData);\n                    return result || {};\n                };\n            }\n            if (config.onPaymentAuthorized) {\n                // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n                clientConfig.paymentDataCallbacks.onPaymentAuthorized = paymentData => {\n                    const result = config.onPaymentAuthorized(paymentData);\n                    return result || {};\n                };\n            }\n        }\n        return clientConfig;\n    }\n    createIsReadyToPayRequest(config) {\n        const paymentRequest = config.paymentRequest;\n        const request = {\n            apiVersion: paymentRequest.apiVersion,\n            apiVersionMinor: paymentRequest.apiVersionMinor,\n            allowedPaymentMethods: paymentRequest.allowedPaymentMethods,\n            existingPaymentMethodRequired: config.existingPaymentMethodRequired,\n        };\n        return request;\n    }\n    /**\n     * Constructs `loadPaymentData` request object based on button configuration.\n     *\n     * It infers request properties like `shippingAddressRequired`,\n     * `shippingOptionRequired`, and `billingAddressRequired` if not already set\n     * based on the presence of their associated options and parameters. It also\n     * infers `callbackIntents` based on the callback methods defined in button\n     * configuration.\n     *\n     * This method would normally be private but has been made public for\n     * testing purposes.\n     *\n     * @private\n     */\n    createLoadPaymentDataRequest(config) {\n        const request = Object.assign(Object.assign({}, config.paymentRequest), { merchantInfo: this.createMerchantInfo(config) });\n        // TODO: #13 re-enable inferrence if/when we agree as a team\n        return request;\n    }\n    createMerchantInfo(config) {\n        const merchantInfo = Object.assign({}, config.paymentRequest.merchantInfo);\n        // apply softwareInfo if not set\n        if (!merchantInfo.softwareInfo) {\n            merchantInfo.softwareInfo = {\n                id: this.options.softwareInfoId,\n                version: this.options.softwareInfoVersion,\n            };\n        }\n        return merchantInfo;\n    }\n    isMounted() {\n        return this.element != null && this.element.isConnected !== false;\n    }\n    removeButton() {\n        if (this.element instanceof ShadowRoot || this.element instanceof Element) {\n            for (const child of Array.from(this.element.children)) {\n                if (child.tagName !== 'STYLE') {\n                    child.remove();\n                }\n            }\n        }\n    }\n    updateElement() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isMounted())\n                return;\n            const element = this.getElement();\n            if (!this.config) {\n                throw new Error('google-pay-button: Missing configuration');\n            }\n            // remove existing button\n            this.removeButton();\n            this.client = new google.payments.api.PaymentsClient(this.createClientOptions(this.config));\n            const buttonOptions = {\n                buttonType: this.config.buttonType,\n                buttonColor: this.config.buttonColor,\n                buttonSizeMode: this.config.buttonSizeMode,\n                buttonLocale: this.config.buttonLocale,\n                onClick: this.handleClick,\n                allowedPaymentMethods: this.config.paymentRequest.allowedPaymentMethods,\n            };\n            const rootNode = element.getRootNode();\n            if (rootNode instanceof ShadowRoot) {\n                buttonOptions.buttonRootNode = rootNode;\n            }\n            // pre-create button\n            const button = this.client.createButton(buttonOptions);\n            this.setClassName(element, [element.className, 'not-ready']);\n            element.appendChild(button);\n            let showButton = false;\n            let readyToPay;\n            try {\n                readyToPay = yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config));\n                showButton =\n                    (readyToPay.result && !this.config.existingPaymentMethodRequired)\n                        || (readyToPay.result && readyToPay.paymentMethodPresent && this.config.existingPaymentMethodRequired)\n                        || false;\n            }\n            catch (err) {\n                if (this.config.onError) {\n                    this.config.onError(err);\n                }\n                else {\n                    console.error(err);\n                }\n            }\n            if (!this.isMounted())\n                return;\n            if (showButton) {\n                try {\n                    this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config));\n                }\n                catch (err) {\n                    console.log('Error with prefetch', err);\n                }\n                // remove hidden className\n                this.setClassName(element, (element.className || '').split(' ').filter(className => className && className !== 'not-ready'));\n            }\n            if (this.isReadyToPay !== (readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.result) || this.paymentMethodPresent !== (readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.paymentMethodPresent)) {\n                this.isReadyToPay = !!(readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.result);\n                this.paymentMethodPresent = readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.paymentMethodPresent;\n                if (this.config.onReadyToPayChange) {\n                    const readyToPayResponse = {\n                        isButtonVisible: showButton,\n                        isReadyToPay: this.isReadyToPay,\n                    };\n                    if (this.paymentMethodPresent) {\n                        readyToPayResponse.paymentMethodPresent = this.paymentMethodPresent;\n                    }\n                    this.config.onReadyToPayChange(readyToPayResponse);\n                }\n            }\n        });\n    }\n    setClassName(element, classNames) {\n        const className = classNames.filter(name => name).join(' ');\n        if (className) {\n            element.className = className;\n        }\n        else {\n            element.removeAttribute('class');\n        }\n    }\n    appendStyles() {\n        var _a, _b, _c;\n        if (typeof document === 'undefined')\n            return;\n        const rootNode = (_a = this.element) === null || _a === void 0 ? void 0 : _a.getRootNode();\n        const styleId = `default-google-style-${this.options.cssSelector.replace(/[^\\w-]+/g, '')}-${(_b = this.config) === null || _b === void 0 ? void 0 : _b.buttonLocale}`;\n        // initialize styles if rendering on the client:\n        if (rootNode) {\n            if (!((_c = rootNode.getElementById) === null || _c === void 0 ? void 0 : _c.call(rootNode, styleId))) {\n                const style = document.createElement('style');\n                style.id = styleId;\n                style.type = 'text/css';\n                style.innerHTML = `\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `;\n                if (rootNode instanceof Document && rootNode.head) {\n                    rootNode.head.appendChild(style);\n                }\n                else {\n                    rootNode.appendChild(style);\n                }\n            }\n        }\n    }\n    isClientInvalidated(newConfig) {\n        if (!this.oldInvalidationValues)\n            return true;\n        const newValues = this.getInvalidationValues(newConfig);\n        return newValues.some((value, index) => value !== this.oldInvalidationValues[index]);\n    }\n    getInvalidationValues(config) {\n        var _a, _b;\n        return [\n            config.environment,\n            config.existingPaymentMethodRequired,\n            !!config.onPaymentDataChanged,\n            !!config.onPaymentAuthorized,\n            config.buttonColor,\n            config.buttonType,\n            config.buttonLocale,\n            config.buttonSizeMode,\n            config.paymentRequest.merchantInfo.merchantId,\n            config.paymentRequest.merchantInfo.merchantName,\n            (_a = config.paymentRequest.merchantInfo.softwareInfo) === null || _a === void 0 ? void 0 : _a.id,\n            (_b = config.paymentRequest.merchantInfo.softwareInfo) === null || _b === void 0 ? void 0 : _b.version,\n            config.paymentRequest.allowedPaymentMethods,\n        ];\n    }\n}\n\nvar name = \"@google-pay/button-angular\";\nvar version = \"3.0.0\";\nvar description = \"Angular component for Google Pay button\";\nvar main = \"dist/index.js\";\nvar repository = {\n\ttype: \"git\",\n\turl: \"https://github.com/google-pay/google-pay-button\",\n\tdirectory: \"src/button-angular\"\n};\nvar homepage = \"https://github.com/google-pay/google-pay-button/tree/main/src/button-angular#readme\";\nvar engines = {\n\tnode: \">=8.0.0\"\n};\nvar author = \"socsieng@google.com\";\nvar license = \"Apache-2.0\";\nvar scripts = {\n\tbuild: \"ng build --configuration production\"\n};\nvar dependencies = {\n\t\"@types/googlepay\": \"^0.6.3\"\n};\nvar peerDependencies = {\n\t\"@angular/core\": \">=8.0.0\",\n\t\"@types/googlepay\": \"^0.6.3\"\n};\nvar files = [\n\t\"dist/*\",\n\t\"bundles/*\",\n\t\"ems2015/*\",\n\t\"fesm2015/*\",\n\t\"lib/*\",\n\t\"button-angular/*\",\n\t\"google-pay-button-angular.*\",\n\t\"*.d.ts\",\n\t\"*.json\",\n\t\"README.md\"\n];\nvar keywords = [\n\t\"googlepay\",\n\t\"google-pay\",\n\t\"google-pay-button\",\n\t\"button\",\n\t\"angular\"\n];\nvar devDependencies = {\n\t\"@angular-devkit/build-ng-packagr\": \"^0.1002.0\",\n\t\"@angular/core\": \"^10.2.2\",\n\t\"ng-packagr\": \"^10.1.2\"\n};\nvar _package = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\trepository: repository,\n\thomepage: homepage,\n\tengines: engines,\n\tauthor: author,\n\tlicense: license,\n\tscripts: scripts,\n\tdependencies: dependencies,\n\tpeerDependencies: peerDependencies,\n\tfiles: files,\n\tkeywords: keywords,\n\tdevDependencies: devDependencies\n};\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns a new function that delays invocations to the original function\n * within a specified wait period. The last invocation within this time period\n * gets invoked. All earlier invocations are ignore.\n *\n * @param func The function to invoke.\n * @param wait The time in milliseconds to wait for idle invocations.\n */\nfunction debounce(func, wait = 0) {\n    let timeout;\n    return function (...args) {\n        window.clearTimeout(timeout);\n        const later = function () {\n            timeout = undefined;\n            return func(...args);\n        };\n        return new Promise(resolve => {\n            timeout = window.setTimeout(() => {\n                const result = later();\n                resolve(result);\n            }, wait);\n        });\n    };\n}\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass GooglePayButtonComponent {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.manager = new ButtonManager({\n            cssSelector: 'google-pay-button',\n            softwareInfoId: name,\n            softwareInfoVersion: version,\n        });\n        this.initializeButton = debounce(() => {\n            if (!this.assertRequiredProperty('paymentRequest')) {\n                return;\n            }\n            if (!this.assertRequiredProperty('environment')) {\n                return;\n            }\n            const config = {\n                paymentRequest: this.paymentRequest,\n                environment: this.environment,\n                existingPaymentMethodRequired: this.existingPaymentMethodRequired,\n                onPaymentDataChanged: this.paymentDataChangedCallback,\n                onPaymentAuthorized: this.paymentAuthorizedCallback,\n                buttonColor: this.buttonColor,\n                buttonType: this.buttonType,\n                buttonSizeMode: this.buttonSizeMode,\n                buttonLocale: this.buttonLocale,\n                onReadyToPayChange: result => {\n                    if (this.readyToPayChangeCallback) {\n                        this.readyToPayChangeCallback(result);\n                    }\n                    this.dispatch('readytopaychange', result);\n                },\n                onCancel: reason => {\n                    if (this.cancelCallback) {\n                        this.cancelCallback(reason);\n                    }\n                    this.dispatch('cancel', reason);\n                },\n                onError: error => {\n                    var _a;\n                    if (this.errorCallback) {\n                        (_a = this.errorCallback) === null || _a === void 0 ? void 0 : _a.call(this, error);\n                    }\n                    this.elementRef.nativeElement.dispatchEvent(new ErrorEvent('error', { error }));\n                },\n                onLoadPaymentData: paymentData => {\n                    if (this.loadPaymentDataCallback) {\n                        this.loadPaymentDataCallback(paymentData);\n                    }\n                    this.dispatch('loadpaymentdata', paymentData);\n                },\n                onClick: event => {\n                    var _a;\n                    if (this.clickCallback) {\n                        (_a = this.clickCallback) === null || _a === void 0 ? void 0 : _a.call(this, event);\n                    }\n                },\n            };\n            this.manager.configure(config);\n        });\n    }\n    get isReadyToPay() {\n        return this.manager.isReadyToPay;\n    }\n    ngOnInit() {\n        return this.manager.mount(this.elementRef.nativeElement);\n    }\n    ngOnChanges() {\n        return this.initializeButton();\n    }\n    assertRequiredProperty(name) {\n        const value = this[name];\n        if (value === null || value === undefined) {\n            this.throwError(Error(`Required property not set: ${name}`));\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Throws an error.\n     *\n     * Used for testing purposes so that the method can be spied on.\n     */\n    throwError(error) {\n        throw error;\n    }\n    dispatch(type, detail) {\n        this.elementRef.nativeElement.dispatchEvent(new CustomEvent(type, {\n            bubbles: true,\n            cancelable: false,\n            detail,\n        }));\n    }\n}\nGooglePayButtonComponent.ɵfac = function GooglePayButtonComponent_Factory(t) { return new (t || GooglePayButtonComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nGooglePayButtonComponent.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GooglePayButtonComponent, selectors: [[\"google-pay-button\"]], inputs: { paymentRequest: \"paymentRequest\", environment: \"environment\", existingPaymentMethodRequired: \"existingPaymentMethodRequired\", buttonColor: \"buttonColor\", buttonType: \"buttonType\", buttonSizeMode: \"buttonSizeMode\", buttonLocale: \"buttonLocale\", paymentDataChangedCallback: \"paymentDataChangedCallback\", paymentAuthorizedCallback: \"paymentAuthorizedCallback\", readyToPayChangeCallback: \"readyToPayChangeCallback\", loadPaymentDataCallback: \"loadPaymentDataCallback\", cancelCallback: \"cancelCallback\", errorCallback: \"errorCallback\", clickCallback: \"clickCallback\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\nGooglePayButtonComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nGooglePayButtonComponent.propDecorators = {\n    paymentRequest: [{ type: Input }],\n    environment: [{ type: Input }],\n    existingPaymentMethodRequired: [{ type: Input }],\n    buttonColor: [{ type: Input }],\n    buttonType: [{ type: Input }],\n    buttonSizeMode: [{ type: Input }],\n    buttonLocale: [{ type: Input }],\n    paymentDataChangedCallback: [{ type: Input }],\n    paymentAuthorizedCallback: [{ type: Input }],\n    readyToPayChangeCallback: [{ type: Input }],\n    loadPaymentDataCallback: [{ type: Input }],\n    cancelCallback: [{ type: Input }],\n    errorCallback: [{ type: Input }],\n    clickCallback: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GooglePayButtonComponent, [{\n        type: Directive,\n        args: [{\n                selector: 'google-pay-button'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { paymentRequest: [{\n            type: Input\n        }], environment: [{\n            type: Input\n        }], existingPaymentMethodRequired: [{\n            type: Input\n        }], buttonColor: [{\n            type: Input\n        }], buttonType: [{\n            type: Input\n        }], buttonSizeMode: [{\n            type: Input\n        }], buttonLocale: [{\n            type: Input\n        }], paymentDataChangedCallback: [{\n            type: Input\n        }], paymentAuthorizedCallback: [{\n            type: Input\n        }], readyToPayChangeCallback: [{\n            type: Input\n        }], loadPaymentDataCallback: [{\n            type: Input\n        }], cancelCallback: [{\n            type: Input\n        }], errorCallback: [{\n            type: Input\n        }], clickCallback: [{\n            type: Input\n        }] }); })();\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass GooglePayButtonModule {\n}\nGooglePayButtonModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: GooglePayButtonModule });\nGooglePayButtonModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function GooglePayButtonModule_Factory(t) { return new (t || GooglePayButtonModule)(); }, imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(GooglePayButtonModule, { declarations: [GooglePayButtonComponent], exports: [GooglePayButtonComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GooglePayButtonModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [GooglePayButtonComponent],\n                imports: [],\n                exports: [GooglePayButtonComponent]\n            }]\n    }], null, null); })();\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GooglePayButtonComponent, GooglePayButtonModule };\n\n//# sourceMappingURL=google-pay-button-angular.js.map","export default \".icon {\\n  width: 20px;\\n  height: 28px;\\n  border: none;\\n  padding: 2px;\\n}\\n\\n.width {\\n  font-size: 26px;\\n}\\n\\n.margin {\\n  margin-left: 20px;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n\\n.icon {\\n  color: #ffd050;\\n  width: 11px;\\n  padding: 0;\\n}\\n\\n#qty {\\n  display: inline;\\n  float: right;\\n  border: 1px solid #8c8c8c;\\n  border-radius: 50%;\\n  padding: 5px;\\n  text-align: center;\\n  background: #2c2c30;\\n  color: cornsilk;\\n  font-weight: bold;\\n}\\n\\n#pay {\\n  border-top: 2px solid #a3a1a1;\\n  border-bottom: 4px unset #a3a1a1;\\n  margin-bottom: 2px;\\n}\\n\\n.margin.price h5, h4 {\\n  display: inline;\\n}\\n\\n.margin.price h5 {\\n  font-weight: bold;\\n}\\n\\n.margin.price h4 {\\n  margin-left: 4px;\\n  font-weight: bolder;\\n  font-size: 22px;\\n}\\n\\n.dot {\\n  height: 15px;\\n  width: 15px;\\n  border-radius: 50%;\\n  display: inline-block;\\n  border: 1px solid #281d35;\\n  padding-left: 6px;\\n  padding-right: 6px;\\n}\\n\\n#iDesc {\\n  padding-top: 20px;\\n  padding-right: 10px;\\n  padding-left: 10px;\\n  padding-bottom: 20px;\\n  background-color: #46a546;\\n}\\n\\n#iDesc ion-img {\\n  width: 50%;\\n}\\n\\nsection {\\n  margin-top: 1em;\\n  margin-bottom: 2.5em;\\n}\\n\\nsection:not(.full-width),\\n.full-width > header {\\n  padding: 0 10px;\\n}\\n\\n.count {\\n  height: 100%;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  color: var(--ion-color-primary);\\n}\\n\\n.qty-selector {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: #f6f6f6;\\n  border-radius: 5px;\\n  margin-top: 10px;\\n}\\n\\n.qty-selector ion-button {\\n  --color: #565656;\\n  font-size: 16px;\\n  margin-left: 8px;\\n  margin-right: 8px;\\n}\\n\\n.qty-selector ion-label {\\n  color: #565656 !important;\\n  font-size: 16px;\\n}\\n\\n.margin-right {\\n  margin-right: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxhY2Utb3JkZXIvcGxhY2Utb3JkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNDO0VBQ0csV0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUFKOztBQUVFO0VBQ0UsZUFBQTtBQUNKOztBQUNFO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7QUFFSjs7QUFBRTtFQUNFLGNBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtBQUdKOztBQURFO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFJSjs7QUFGRTtFQUNFLDZCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxrQkFBQTtBQUtKOztBQUhFO0VBQ0UsZUFBQTtBQU1KOztBQUpFO0VBQ0UsaUJBQUE7QUFPSjs7QUFMRTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBUUo7O0FBTkU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFTSjs7QUFMRTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EseUJBQUE7QUFRSjs7QUFORTtFQUNFLFVBQUE7QUFTSjs7QUFORTtFQUNFLGVBQUE7RUFDQSxvQkFBQTtBQVNKOztBQU5FOztFQUVFLGVBQUE7QUFTSjs7QUFORTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkFBQTtFQUNBLCtCQUFBO0FBU0o7O0FBTkE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQVNGOztBQVBFO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQVNOOztBQU5FO0VBQ0kseUJBQUE7RUFDQSxlQUFBO0FBUU47O0FBSkE7RUFBYyxpQkFBQTtBQVFkIiwiZmlsZSI6InNyYy9hcHAvcGxhY2Utb3JkZXIvcGxhY2Utb3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gLmljb257XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyOHB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBwYWRkaW5nOjJweDtcbiAgfVxuICAud2lkdGh7XG4gICAgZm9udC1zaXplOiAyNnB4O1xuICB9XG4gIC5tYXJnaW57XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICBtYXJnaW4tdG9wOiAwO1xuICB9XG4gIC5pY29ue1xuICAgIGNvbG9yOiByZ2IoMjU1LCAyMDgsIDgwKTtcbiAgICB3aWR0aDogMTFweDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG4gICNxdHl7XG4gICAgZGlzcGxheTogaW5saW5lO1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOGM4YzhjO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQ6IHJnYig0NCwgNDQsIDQ4KTtcbiAgICBjb2xvcjogY29ybnNpbGs7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgI3BheXtcbiAgICBib3JkZXItdG9wOiAycHggc29saWQgI2EzYTFhMTtcbiAgICBib3JkZXItYm90dG9tOiA0cHggdW5zZXQgI2EzYTFhMTtcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gIH1cbiAgLm1hcmdpbi5wcmljZSBoNSxoNHtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG4gIH1cbiAgLm1hcmdpbi5wcmljZSBoNXtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICAubWFyZ2luLnByaWNlIGg0e1xuICAgIG1hcmdpbi1sZWZ0OiA0cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgICBmb250LXNpemU6MjJweDtcbiAgfVxuICAuZG90e1xuICAgIGhlaWdodDogMTVweDtcbiAgICB3aWR0aDogMTVweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYig0MCwgMjksIDUzKTtcbiAgICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gIH1cblxuXG4gICNpRGVzY3tcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNzAsIDE2NSwgNzApO1xuICB9XG4gICNpRGVzYyBpb24taW1ne1xuICAgIHdpZHRoOiA1MCU7XG4gIH1cbiAgXG4gIHNlY3Rpb24ge1xuICAgIG1hcmdpbi10b3A6IDFlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAyLjVlbTtcbiAgfVxuXG4gIHNlY3Rpb246bm90KC5mdWxsLXdpZHRoKSxcbiAgLmZ1bGwtd2lkdGggPiBoZWFkZXIge1xuICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgfVxuXG4gIC5jb3VudCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5xdHktc2VsZWN0b3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogI2Y2ZjZmNjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuXG4gIGlvbi1idXR0b24ge1xuICAgICAgLS1jb2xvcjogIzU2NTY1NjtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgfVxuXG4gIGlvbi1sYWJlbCB7XG4gICAgICBjb2xvcjogIzU2NTY1NiAhaW1wb3J0YW50O1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG59XG5cbi5tYXJnaW4tcmlnaHR7bWFyZ2luLXJpZ2h0OiA0cHg7fSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController, PickerController } from '@ionic/angular';\nimport { PickerOptions } from '@ionic/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { Product } from 'src/models/product';\nimport { Order, Shipment } from 'src/models/order';\nimport { Address } from 'src/models/addresses';\nimport { Storage} from '@ionic/storage';\nimport { HttpClient } from '@angular/common/http';\nimport { isNullOrUndefined } from 'util';\nimport { isUndefined } from 'typescript-collections/dist/lib/util';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { CartItem } from 'src/models/cartItem';\n\n\n\n@Component({\n  selector: 'app-place-order',\n  templateUrl: './place-order.page.html',\n  styleUrls: ['./place-order.page.scss'],\n})\nexport class PlaceOrderPage implements OnInit {\n\n    cost:string= btoa(\"600\");\n   id: string=btoa(\"12345\");\n   collapse: boolean;\n   paymentRequest!: google.payments.api.PaymentDataRequest;\n  data: Order;\n  products: CartItem[];\n  addresses: Address[];\n  shippingAddress: string='';\n  defaultaddress: Address;\n  selectAddress: string='';\n  productqty = 0;\n  amountOrder: number = 0\n  paymentMethod: string;\n  orderCost: string;\n  deliverydate: Date;\n  tracknum: string;\n  method: string;\n  shippingfee = 0.00;\n  taxfee = 0.00;\n  deliveryfee = 0.00;\n  promotion = 0.00;\n  totalfee = 0.00;\n  constructor(private http: HttpClient, private pickerCtrl: PickerController, private route: ActivatedRoute,\n     private loadingcontroller: LoadingController,private storage: Storage, private alertcontroller: AlertController,\n      private router: Router, private afirestore: AngularFirestore, private fireAuth: AngularFireAuth,\n      ) {\n    this.products=[];\n    this.defaultaddress = {} as Address;\n    this.getAdresses();\n       }\n\n  ngOnInit() {\n    this.collapse = true;\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.order;\n      }\n    });\n    \n    if(!isNullOrUndefined(this.data)){\n      this.products = this.data.items;\n      this.productqty = this.data.order_qty;\n      this.amountOrder=this.data.amount; \n     this.data.items.map(product=>{this.shippingfee+=product.shippingFee;});\n     this.data.items.map(product=>{this.deliveryfee+=product.deliveryFee;});\n     this.data.items.map(product=>{this.taxfee+=product.taxFee;});\n     this.data.items.map(product=>{this.deliverydate=this.calculateDeliveryDate(product.deliveryDate);})\n      }\n      \n   \n\n      this.paymentRequest = {\n        apiVersion: 2,\n        apiVersionMinor: 0,\n        allowedPaymentMethods: [\n          {\n            type: 'CARD',\n            parameters: {\n              allowedCardNetworks:[ \"MASTERCARD\", \"VISA\"],\n              allowedAuthMethods: ['PAN_ONLY','CRYPTOGRAM_3DS']\n            },\n            tokenizationSpecification:{\n              type:'PAYMENT_GATEWAY',\n              parameters:{\n                gateway: 'example',\n                gatewayMerchantId: 'exampleGatewayMerchantId'\n              }\n            },\n          }\n          \n        ],\n        merchantInfo:{\n          merchantId: '12345678901234567890',\n          merchantName: 'Example Merchant'\n        },\n        transactionInfo:{\n          countryCode: 'US',\n          currencyCode: 'USD',\n          totalPriceLabel: 'TOTAL ALL TAXES INCLUDES',\n          totalPriceStatus: 'FINAL',\n      // set to cart total\n          totalPrice: this.totalfee.toFixed(2)\n        },\n        shippingAddressRequired: true,\n        shippingAddressParameters:{\n          allowedCountryCodes: [\"US\",\"CA\",\"HT\"],\n          phoneNumberRequired: true,\n        },\n        \n      };\n\n    }\n \n\n    async onLoadPaymentData(event: Event){\n      const paymentData = (event as CustomEvent<google.payments.api.PaymentData>).detail;\n      console.log(paymentData);\n    }\n\n    calculCost(shippingfee: number,taxfee:number,deliveryfee:number,promotion:number, amount:number){\n      return this.totalfee = amount+shippingfee+deliveryfee+taxfee-promotion;\n    }\n\n  shipaddressChange(){\n    this.collapse = !this.collapse;\n  }\n\n  getAdresses(){\n    \n    this.storage.get(\"address\").then((data:Address[])=>{\n        this.addresses= data;\n        for(let address of data){\n          if(address.default){\n            this.defaultaddress = address;\n          }\n        }\n        if(!isNullOrUndefined(this.defaultaddress.address1) && isUndefined(this.defaultaddress.address2)){\n          this.shippingAddress = this.defaultaddress.address1;\n        }else if(!isNullOrUndefined(this.defaultaddress.address2) && isUndefined(this.defaultaddress.address1)){\n          this.shippingAddress = this.defaultaddress.address2;\n        }else if(!isNullOrUndefined(this.defaultaddress.address1) && !isNullOrUndefined(this.defaultaddress.address2)){\n          this.shippingAddress = this.defaultaddress.address1;\n        }else{this.shippingAddress=\"No default address set yet\";}\n    }).catch(err=>{\n      console.log(\"addresses not found or empty\");\n    });\n   \n  }\n\n  async setAsDefault(addressid: string){\n    let setagreed: boolean = false;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Shipping address change',\n      message: 'Set address as default.',\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{ this.setDefault(addressid)}},\n        {text:'Cancel', cssClass:'my-custom-class'}\n      ]\n    });\n    await alert.present();\n   \n  }\n\n  setDefault(address: string){\n    let set:boolean=false;\n   this.storage.get(\"address\").then((data: Address[]) => {\n    \n   for (let item of data) {\n         if (item.id === address) {\n             item.default = true;\n             set=true;\n         }\n     }\n\n     if(set){ \n       for (let item of data) {\n         if (item.id !== address) {\n             item.default = false;\n         }\n     }\n     this.setLoading(data); \n     }\n     \n   }).catch(err=>{alert(err)});\n  }\n\n  async setLoading(newaddress: Address[]){\n    const loading = await this.loadingcontroller.create({\n     cssClass: 'my-custom-class',\n     message: 'Please wait...',\n     duration: 2000\n    }).then((control)=>{\n      control.present();\n      control.onWillDismiss().then((load)=>{\n        this.addresses= newaddress;\n        this.storage.set(\"address\",newaddress).then(()=>{\n          this.getAdresses();\n        });\n        \n       });\n    })\n  }\n\n  \n  \n  onSubmit(postData:any){\n    const SERVER_URL = \"https://sandbox.moncashbutton.digicelgroup.com/Moncash-middleware/Checkout/{UVdZeU0yMVlYMVpOUlhjOSBlbDlLUzBsU1kxbFpNVXQ0VUdSNU1UbFlRbXR0VVQwOQ==}\";\n    const formData = new FormData();\n    formData.append(\"amount\",btoa(\"600\"));\n    formData.append(\"orderId\", btoa(\"123456\"));\n    console.log(formData);\n    this.http.post<any>(SERVER_URL, formData).subscribe(\n      (res) => console.log(res),\n      (err) => console.log(err)\n    );\n\n  }\n\n   place_order(items_cost: number){\n    let items_ordered: Order={} as Order;\n    this.data.shipment.shipping_destination = this.shippingAddress;\n    items_ordered = this.data;\n    items_ordered.amount =  items_cost;\n    \n    this.storage.get('user').then(async (userLogged:User)=>{\n      if(!isNullOrUndefined(userLogged)){\n\n        if(!userLogged.connection){\n\n        }else{\n\n\n          await this.loadingcontroller.create({\n            cssClass: 'my-custom-class',\n            message: 'processing your order...',\n            duration: 2000\n          }).then(async (loaded)=>{\n            loaded.present();\n            this.afirestore.collection(\"orders\").doc((await this.fireAuth.currentUser).uid)\n                            .collection(\"customer_order\").doc(items_ordered.orderId)\n                            .set(items_ordered).then(()=>{\n                                loaded.dismiss();\n                                this.sendToConfirm(items_ordered);\n                            }).catch((reason)=>{ loaded.dismiss(reason, \"failed\");});\n            loaded.onDidDismiss().then((obj)=>{\n              if(obj.role == \"failed\"){\n                this.msgOrderFailed();\n              }\n            });\n          });\n         \n        } //if user is authentified\n\n\n      }\n     \n\n    });\n  }  \n   \n async msgOrderFailed(){\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Network Faillure',\n      message: 'Current order process failed.',\n      buttons: ['Ok']\n    });\n    await alert.present();\n  }\n  \n  calculateDeliveryDate(date: any){\n    let deadline = new Date(Date.now());\n    if(new Date(date.seconds*1000 + date.nanoseconds)>= deadline){\n      deadline = date;\n    }\n    return deadline;\n  }\n\n  sendToConfirm(orderToconfirm: Order){\n    const navigationExtras: NavigationExtras = {\n      state: {\n        order: orderToconfirm\n        \n      }\n    };\n    this.router.navigate(['/confirm'], navigationExtras);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaceOrderPageRoutingModule } from './place-order-routing.module';\nimport { GooglePayButtonModule } from '@google-pay/button-angular';\nimport { PlaceOrderPage } from './place-order.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaceOrderPageRoutingModule,\n    GooglePayButtonModule\n  ],\n  declarations: [PlaceOrderPage]\n})\nexport class PlaceOrderPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaceOrderPage } from './place-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaceOrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaceOrderPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar style=\\\" --background: #031432;\\\">\\n    <ion-buttons  slot=\\\"start\\\">\\n      <ion-back-button color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons routerLink=\\\"/home\\\" routerDirection=\\\"back\\\">\\n      <ion-title class=\\\"width\\\">\\n        <ion-text size=\\\"LARGE\\\" color=\\\"warning\\\">\\n          K</ion-text>\\n        <ion-text color=\\\"danger\\\">\\n          <ion-icon size=\\\"LARGE\\\" name=cart></ion-icon>\\n        </ion-text>\\n        <ion-text color=\\\"light\\\">TALOG</ion-text>\\n      </ion-title>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<!-- -->\\n\\n<div class=\\\"container-fluid p-3\\\">\\n\\n  <div class=\\\"row g-4 \\\">\\n\\n    <div class=\\\"col-lg-8 col-md-6 col-12 border\\\">\\n      <div class=\\\"container\\\" style=\\\"padding-top: 4px;\\\">\\n        <ion-item (click)=\\\"shipaddressChange()\\\" detail=\\\"true\\\">\\n          <ion-buttons>\\n            <ion-label>Shipping Address :</ion-label>\\n          </ion-buttons>\\n          <ion-item>\\n            <label position=\\\"stacked\\\">{{shippingAddress}} </label>\\n          </ion-item>\\n        </ion-item>\\n      \\n        <div  *ngIf=\\\"!collapse && shippingAddress!=='No default address set yet'\\\">\\n         \\n          <ion-list>\\n            <ng-container *ngFor=\\\"let address of addresses\\\">\\n            <ion-radio-group *ngIf=\\\"address!==shippingAddress\\\">\\n                <ion-item>\\n                  <ion-button fill=\\\"clear\\\" (click)=\\\"setAsDefault(address.id)\\\" slot=\\\"start\\\" shape=\\\"round\\\"><input title=\\\"set as default\\\" [checked]=\\\"address.default\\\" name=\\\"default\\\" type=\\\"radio\\\"/></ion-button>\\n                  <ion-label>\\n                    <address>\\n                      <h6>{{address.name}}</h6>\\n                      <p>{{address.phone}}</p>\\n                      <h6>{{address.zipcode}}-{{address.state}}</h6>\\n                      <h6>{{address.city}}</h6>\\n                      <h6>{{address.address1}}</h6>\\n                      <h6>{{address.address2}}</h6>\\n                    </address>\\n                  </ion-label>\\n                </ion-item>\\n            </ion-radio-group>\\n          </ng-container>\\n          </ion-list>\\n        \\n          \\n        </div>\\n      </div>\\n      <div class=\\\"container\\\">\\n        <ion-item>\\n          <ion-buttons>\\n            <ion-text color=\\\"primary\\\" style=\\\"font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; font-weight: bold;\\\">\\n              <ion-label>Estimated delivery date : </ion-label>\\n            </ion-text>&nbsp;\\n            <ion-text style=\\\"font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; font-weight: bold;\\\">\\n              <ion-label>{{deliverydate|date}}</ion-label></ion-text>\\n          </ion-buttons>\\n        </ion-item>\\n        <fieldset>\\n          <ion-list>\\n            <ion-item *ngFor=\\\"let product of data.items\\\">\\n                <ion-thumbnail slot=\\\"start\\\">\\n                  <ion-img [src]=\\\"product.picture\\\"></ion-img>\\n                </ion-thumbnail>\\n              <ion-label>\\n                <ion-item-group>\\n                  <h5>{{product.name}}</h5>\\n                  <ion-label>{{product.description}}</ion-label>\\n                    <ion-buttons >\\n                      <span  *ngIf=\\\"product.color!==''&& product.color!==undefined\\\" class=\\\"dot\\\" [style.background]=\\\"product.color\\\"></span>\\n                      &nbsp;|\\n                      <h6 *ngIf=\\\"product.size!=='' && product.size!==undefined\\\"> {{product.size}}</h6>\\n                    </ion-buttons>\\n                  <ion-buttons>\\n                    <ion-label>QTY : {{product.qty}}</ion-label>&nbsp;\\n                    <ion-label><ion-icon name=\\\"pricetag\\\"></ion-icon><h5><b>{{product.price | currency}}</b></h5></ion-label>\\n                  </ion-buttons>\\n                </ion-item-group>\\n              </ion-label>\\n            </ion-item>\\n        </ion-list>\\n        </fieldset>\\n        </div> \\n    </div>\\n    <div class=\\\"col-lg-4 col-md-6 col-12 border\\\" style=\\\"padding-top: 4px; padding-bottom: 4px; border-bottom: 4px solid #eee;\\\">\\n      <fieldset>\\n        <legend><label>Payment Review</label></legend>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Item Cost</ion-col>\\n            <ion-col>{{amountOrder | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Shipping Fee</ion-col>\\n            <ion-col>{{shippingfee | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Tax Fee</ion-col>\\n            <ion-col>{{taxfee | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Delivery</ion-col>\\n            <ion-col>{{deliveryfee | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Discount</ion-col>\\n            <ion-col>{{promotion | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\"><ion-label position=\\\"fixed\\\" color=\\\"danger\\\">TOTAL :</ion-label></ion-col>\\n            <ion-col><ion-label style=\\\"font-weight: bold;\\\">{{ calculCost(shippingfee,taxfee,deliveryfee,promotion, amountOrder) | currency}}</ion-label>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </fieldset>\\n      <div id=\\\"place\\\" style=\\\"margin-left: 18%; margin-right: 18%;\\\">\\n        <section>\\n            <google-pay-button \\n                environment=\\\"TEST\\\"\\n                [paymentRequest]=\\\"paymentRequest\\\"\\n                buttonSizeMode=\\\"FULL\\\"\\n                (loadpaymentdata)=\\\"onLoadPaymentData($event)\\\"></google-pay-button>\\n        </section>\\n      </div>\\n      <ion-select placeholder=\\\"Change payment method\\\">\\n        <ion-select-option>Paypal</ion-select-option>\\n      </ion-select>\\n    </div>\\n    \\n  </div>\\n\\n</div>\\n\\n\\n  \\n\\n</ion-content>\";"]}