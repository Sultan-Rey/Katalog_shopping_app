{"version":3,"sources":["webpack:///src/app/cart/cart.page.scss","webpack:///src/app/firestore-data.service.ts","webpack:///src/app/cart/cart.page.ts","webpack:///src/app/cart/cart-routing.module.ts","webpack:///src/app/cart/cart.page.html","webpack:///src/app/cart/cart.module.ts"],"names":["FirestoreDataService","afs","afAuth","storage","userId","authState","subscribe","auth","connected","globalThis","navigator","onLine","slidesDocument","collection","doc","slides","valueChanges","categoriesCollection","q","orderBy","limit","category","brandsCollection","brand","promo","productCollection","where","product","items","Array","observer","forEach","e","push","code","name","description","rating","qty","deliveryDate","shipment","policy","shippingFee","deliveryFee","taxFee","about","models","caracteristic","status","availability","display","homeCollection","homeDesign","query","ordersCollection","orderData","param","usersCollection","user","currentUser","boxOwner","uid","msg","msgCollection","message","author","destination","object","content","date_msg","item","get","toPromise","then","querySnapshot","dd","ref","update","providedIn","CartPage","toastconroller","router","fstoreService","element","browsing","cart","saved","isOnline","orderQty","totalcost","getsavedforlater","getCartItems","getBrowsingHistoric","noItem","nosaved","arr2","getFirestoreData","res1","filter","item1","find","item2","console","log","data","err","historic","length","reverse","pressed","set","reduce","i","j","price","deleted","tosaved","cartItem","splice","indexOf","alreadySaved","saveItem","move","date","Date","now","id","Math","floor","random","cartItems","goods_departure","shipping_destination","carrier","trackingnumber","prepareOrder","customerId","orderId","crypto","date_order","order_qty","amount","getTotal","navigationExtras","state","order","navigate","isfound","rejection","stockQty","create","duration","toast","present","includes","selector","template","routes","path","component","CartPageRoutingModule","imports","forChild","exports","CartPageModule","declarations"],"mappings":"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","file":"cart-cart-module-es5.js","sourcesContent":["export default \"ion-item ion-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  font-family: Impact, Haettenschweiler, \\\"Arial Narrow Bold\\\", sans-serif;\\n  font-size: 12px;\\n}\\nion-item ion-badge {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-around;\\n  margin-left: 10px;\\n  font-family: sans-serif;\\n}\\nh3 {\\n  margin-left: 15px;\\n}\\n.alert {\\n  padding: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FydC9jYXJ0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0Esc0VBQUE7RUFDQSxlQUFBO0FBQUo7QUFFRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSx1QkFBQTtBQUFKO0FBR0E7RUFDRSxpQkFBQTtBQUFGO0FBR0E7RUFDRSxVQUFBO0FBQUYiLCJmaWxlIjoic3JjL2FwcC9jYXJ0L2NhcnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW17XG4gIGlvbi1idXR0b257XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBmb250LWZhbWlseTpJbXBhY3QsIEhhZXR0ZW5zY2h3ZWlsZXIsICdBcmlhbCBOYXJyb3cgQm9sZCcsIHNhbnMtc2VyaWY7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG4gIGlvbi1iYWRnZXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIH1cbn1cbmgze1xuICBtYXJnaW4tbGVmdDoxNXB4O1xufVxuXG4uYWxlcnR7XG4gIHBhZGRpbmc6IDA7XG59Il19 */\";","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Product} from '../models/product';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument, DocumentData, DocumentReference} from '@angular/fire/firestore';\nimport { Observable} from 'rxjs';\nimport { Order } from 'src/models/order';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { Message } from 'src/models/message';\nimport { HomeDesign } from 'src/models/homeDesign';\nimport { Storage } from '@ionic/storage';\nimport { Categories } from 'src/models/category';\nimport { Brands } from 'src/models/brands';\nimport { Slides } from 'src/models/slides';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreDataService {\n\n  productCollection: AngularFirestoreCollection<Product>;\n  categoriesCollection: AngularFirestoreCollection<Categories>;\n  brandsCollection: AngularFirestoreCollection<Brands>;\n  slidesDocument: AngularFirestoreDocument<Slides>;\n  ordersCollection: AngularFirestoreCollection<Order>;\n  usersCollection: AngularFirestoreCollection<User>;\n  msgCollection: AngularFirestoreCollection<Message>;\n  homeCollection: AngularFirestoreCollection<HomeDesign>;\n  message: Observable<DocumentData[]>;\n  product: Observable<Product[]>;\n  category: Observable<Categories[]>\n  brand: Observable<Brands[]>\n  user: Observable<User[]>;\n  slides: Observable<Slides>;\n  homeDesign: Observable<HomeDesign[]>;\n  orderData: Observable<Order[]>;\n  msg: Message[];\n  items: Product[];\n  app_user: User[];\n  items_ordered: Order[];\n  userId: string='';\n  connected: boolean;\n  constructor( private afs: AngularFirestore, private afAuth: AngularFireAuth, private storage: Storage) { }\n\n  getAuthState(){\n    this.afAuth.authState.subscribe(auth => {\n      if (!auth) {\n        this.connected = false;\n      } else {\n        this.connected = true;\n      }\n    });\n    return this.connected;\n  }\n  \n  getConnexionState(){\n    return globalThis.navigator.onLine;\n  }\n\n  getMainSlides(){\n    this.slidesDocument = this.afs.collection('homepane').doc('d0pWnLNzch6ACeFKJmrj');\n    this.slides = this.slidesDocument.valueChanges();\n    return this.slides; \n  }\n\n  getCategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\",\"asc\").limit(4));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n  getAllcategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\"));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n\n  getBrands(){\n    this.brandsCollection = this.afs.collection('brands', q=>q.orderBy(\"date_added\",\"asc\").limit(4));\n    this.brand = this.brandsCollection.valueChanges();\n    return this.brand; \n  }\n\n  getbyPromotion(promo: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"display.position\",\"==\",promo));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n   getFirestoreData(){\n    this.items = new Array();\n    this.productCollection = this.afs.collection('product');\n    this.product = this.productCollection.valueChanges();\n   \n    /*\n    * Product subscription for uploading\n    */\n\n   this.product.subscribe(observer => {\n   \n      observer.forEach(e => {\n     \n\n        this.items.push({\n          code: e.code,\n          name: e.name,\n          description: e.description,\n          brand: e.brand,\n          rating: e.rating,\n          category: e.category,\n          qty: e.qty,\n          deliveryDate: e.deliveryDate,\n          shipment: e.shipment,\n          policy: e.policy,\n          shippingFee: e.shippingFee,\n          deliveryFee: e.deliveryFee,\n          taxFee:e.taxFee,\n          about: e.about,\n          models: e.models,\n          caracteristic: e.caracteristic,\n          status: e.status,\n          availability: e.availability,\n          display: e.display\n        });\n        \n      \n          \n\n      });\n\n    }); \n\n    return this.items;\n  }\n\n  getProducts(){\n    this.productCollection = this.afs.collection('product',q=>q.orderBy('creation_date','desc'));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n  getHomeDesign(){\n    this.homeCollection = this.afs.collection('homepane', q=>q.orderBy(\"range\",\"asc\"));\n    this.homeDesign = this.homeCollection.valueChanges();\n    return this.homeDesign;\n  }\n\n  filterByCategory(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"category\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterByBrand(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"brand\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterBySearchQueries(query: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",query).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n /*  getOrderAsadmin(){\n    this.items_ordered = new Array();\n    this.ordersCollection = this.afs.collection('orders');\n    this.orderData = this.ordersCollection.doc().collection(\"customer_order\").valueChanges();\n    this.orderData.subscribe(observer=>{\n      \n      observer.forEach(e => {\n       \n        this.items_ordered.push({\n              orderId: e.orderId,\n              items: e.items,\n              date_order: e.date_order,\n              order_qty: e.order_qty,\n              amount: e.amount,\n              shipment: e.shipment\n        });\n\n    });\n    });\n    return this.items_ordered;\n  } */\n   getFirestoreOrder(){\n       \n        this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",this.userId));\n        this.orderData = this.ordersCollection.valueChanges();\n     return this.orderData;\n\n  }\n  getOrder(param:string){\n       \n    this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",param));\n    this.orderData = this.ordersCollection.valueChanges();\n return this.orderData;\n}\n\n  getUsers(){\n    this.usersCollection = this.afs.collection('user');\n    this.user = this.usersCollection.valueChanges();\n   return this.user;\n  }\n\nasync getMessage(){\n  let boxOwner = (await this.afAuth.currentUser).uid;\n  this.msg = new Array();\n  this.msgCollection = this.afs.collection('message');\n  this.message = this.msgCollection.doc(boxOwner).collection('update').valueChanges();\n  this.message.subscribe(observer => {\n    observer.forEach(e => {\n        this.msg.push({\n          author: e.author,\n          destination: e.destination,\n          object: e.object,\n          content: e.content,\n          date_msg: e.date_msg\n      });\n\n    });\n\n  }); \n  return this.msg;\n}\n\nremoveProduct(item:any){\n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n  this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.delete();\n    })\n  })\n}\n\neditProduct(item:any){\n \n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n return this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.update(item)\n    })\n  })\n \n}\n\n\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { Product } from 'src/models/product';\nimport { Storage} from '@ionic/storage';\nimport { Order, Shipment } from 'src/models/order';\nimport { isNullOrUndefined } from 'util';\nimport { CartItem } from 'src/models/cartItem';\nimport { FirestoreDataService } from '../firestore-data.service';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.page.html',\n  styleUrls: ['./cart.page.scss'],\n})\nexport class CartPage implements OnInit {\n\n  element='';\n  item: Product;\n  browsing: Product[]=[];\n  cart: CartItem[] = [];\n  saved: CartItem[]=[];\n  isOnline: boolean = false;\n  noItem: boolean;\n  nosaved: boolean;\n  orderQty:number = 0;\n  totalcost:number = 0.00;\n  \n  constructor(private toastconroller: ToastController,private router: Router, private fstoreService: FirestoreDataService, private storage: Storage) {\n    this.getsavedforlater();this.getCartItems();\n    this.getBrowsingHistoric();\n  }\n\n  ngOnInit() {\n   this.noItem = false;\n   this.nosaved = false;\n  }\n \n  \n  checkForCartUpdate(){\n    let arr2 = this.fstoreService.getFirestoreData();\n    const res1 = arr2.filter((item1) => !this.cart.find(item2 => item1.description === item2.description )) \nconsole.log(res1)\nconsole.log(arr2);\n    \n  }\n\n  getCartItems(){\n    this.totalcost = 0.00;\n    this.storage.get(\"cart\").then((data:CartItem[])=>{\n      this.cart= data;\n       \n    }).catch(err=>{\n      console.log(\"cart not found or empty\");\n      \n    }); \n  }\n  getsavedforlater(){\n    this.storage.get(\"savedforlater\").then((data:CartItem[])=>{\n        this.saved=data;\n        this.nosaved = false;\n    }).catch(err=>{\n      console.log(\"saved not found or empty\");\n      this.nosaved = true;\n    });\n   \n  }\n\n  getBrowsingHistoric(){\n    this.storage.get(\"browsing\").then((historic:Product[])=>{\n        if(historic.length!==0 && historic!==null){\n          \n          for(let product of this.fstoreService.getFirestoreData()){\n            for(let item of historic){\n              if(product.name==item.name && product.description==item.description){\n                this.browsing.push(product);                \n              }\n            }\n            \n          }\n        }\n    }).catch(err=>{\n      console.log(\"no browsing data found\");\n    });\n   return this.browsing.reverse;\n  }\n\n  \n\n  adjustqty(pressed: string, item: CartItem)\n  {\n    if(pressed === 'minus'){\n      if(item.qty !== 1){\n       item.qty--;\n       \n      }else{\n\n      } \n    }\n    if(pressed === 'plus'){\n      item.qty++;\n    }\n    this.storage.set('cart', this.cart);\n  }\n\n  getTotal() {\n    return this.cart.reduce((i, j) => i + j.price * j.qty, 0);\n  }\n\n  savedForLater(item: CartItem){\n    let deleted: boolean = false;\n    let tosaved: CartItem;\n   for(let cartItem of this.cart){\n     if(cartItem === item){\n       this.cart.splice(this.cart.indexOf(item),1);\n        tosaved = cartItem;\n       deleted = true\n           }\n   }\n   if(deleted){\n     let alreadySaved = false;\n    this.storage.set(\"cart\",this.cart);\n    this.storage.get('savedforlater').then((saved: CartItem[])=>{\n      if(saved == null || saved.length==0){\n        saved = [];\n        saved.push(tosaved);\n      }else \n        {\n          for(let saveItem of saved){\n            if(saveItem == tosaved){\n              saveItem.qty = tosaved.qty\n              alreadySaved = true;\n\n            }\n          }\n          if(!alreadySaved){\n            saved.push(tosaved);\n          }\n        }\n        this.storage.set(\"savedforlater\",saved);\n    })\n   }\n   this.getsavedforlater();\n  }\n\n  remove(item:CartItem){\n    let deleted:boolean=false;\n    for(let cartItem of this.cart){\n      if(cartItem === item){\n        this.cart.splice(this.cart.indexOf(cartItem),1);\n        deleted = true\n            }\n    }\n    if(deleted){\n      this.storage.set(\"cart\",this.cart);\n      //this.getCartItems();\n    }\n  }\n\n  moveToCart(item:CartItem){\n    let move:boolean=false;\n          for(let saved of this.saved){\n            if(saved === item){\n              this.saved.splice(this.saved.indexOf(item),1);\n              this.cart.push(saved);\n              move=true;\n            }\n          }\n          if(move){\n            this.storage.set(\"savedforlater\",this.saved);\n            this.storage.set(\"cart\",this.cart);\n            //this.getCartItems();\n          }\n    \n  }\n  crypto(){\n    let date =  Date.now();\n    let id: string = \"CA\"+Math.floor(Math.random()*1000)+\"-\"+date;\n    return id;\n  }\n  checkout(cartItems: any){\n    let shipment = {} as Shipment;\n    if(this.totalcost>0.00){\n    shipment.goods_departure = 'Packaging with KATALOG team service';\n    shipment.shipping_destination = '';\n    shipment.status = 'Not shipped yet';\n    shipment.carrier = '';\n    shipment.trackingnumber = '';\n    let prepareOrder: Order = {\n      customerId: 'code',\n      orderId: this.crypto(),\n      items: cartItems,\n      date_order: new Date(Date.now()),\n      order_qty: this.orderQty,\n      amount: this.getTotal(),\n      shipment: shipment,\n    }\n      const navigationExtras: NavigationExtras = {\n        state: {\n          order: prepareOrder\n        }\n      };\n      this.router.navigate(['/place-order'], navigationExtras);\n      \n    }\n\n  }\n\n  goTo(item: any): void {\n    this.item = {} as Product;\n    let isfound = false;\n    for(let product of this.fstoreService.getFirestoreData()){\n      if(product.name==item.name && product.description==item.description){\n        this.item = product;\n        isfound = true;\n      }\n    }\n   \n    if(isfound){\n      const navigationExtras: NavigationExtras = {\n        state: {\n          product: item\n        }\n      };\n      this.router.navigate(['/product'], navigationExtras);\n    }else{\n      this.rejection()\n    }\n    \n  }\n\n  checkQty(item: any){\n    let stockQty = 10;\n    for(let product of this.fstoreService.getFirestoreData()){\n      if(product.name==item.name && product.description==item.description){\n        stockQty = product.qty;\n      }\n    }\n    return stockQty;\n  }\n\n  async rejection(){\n    let toast = await this.toastconroller.create({\n      message: 'Sorry! product is no longer available',\n      duration: 3000\n    });\n   await  toast.present();\n  }\n\n  filter(){\n    if(this.element!==''){\n      this.cart.filter((item)=>item.name.includes(this.element));\n    }\n    \n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CartPage } from './cart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CartPageRoutingModule {}\n","export default \"\\n<app-page-header></app-page-header>\\n\\n<ion-content>\\n  \\n<ion-item class=\\\"mt-2\\\" lines=\\\"none\\\">\\n  <ion-label>\\n    <ion-buttons>\\n      <ion-label style=\\\"font-weight: bold;\\\">Total items cost : </ion-label>\\n     <ion-text color=\\\"primary\\\">\\n      <h3  style=\\\"font-size:22px;\\\">{{  getTotal()|currency}}</h3>\\n     </ion-text>\\n      \\n    </ion-buttons>\\n  </ion-label>\\n  \\n  <button class=\\\"btn btn-warning btn-md \\\" (click)=\\\"checkout(cart)\\\" >Check out</button>\\n</ion-item>\\n<div class=\\\"alert alert-dark\\\"><h3><ion-icon name=\\\"cart\\\" size=\\\"large\\\"></ion-icon>Cart Items</h3>\\n</div>\\n<div class=\\\"container\\\">\\n  <ion-list>\\n    \\n    <ng-container *ngFor=\\\"let items of cart\\\">\\n\\n      <ion-item ion-button detail=\\\"true\\\" >\\n        <ion-img size=\\\"large\\\" (click)=\\\"goTo(items)\\\" [src]=\\\"items.picture\\\" style=\\\"width: 110px; height: 150px;\\\"></ion-img>\\n     <ion-item-group>\\n       <ion-item >\\n        <ion-label>\\n          <div>\\n            <ion-buttons>\\n              <ion-text>{{items.price|currency}}</ion-text>\\n              <ion-badge color=\\\"danger\\\" *ngIf=\\\"checkQty(items)<10 && checkQty(items)>1\\\">Only {{checkQty(items)}} left</ion-badge>\\n            </ion-buttons>\\n              <h6  (click)=\\\"goTo(items)\\\">{{items.name}}</h6>\\n            <ion-label><h6>{{items.description}}</h6></ion-label>\\n            <ion-buttons>\\n              <div class=\\\"qty-selector\\\">\\n                <ion-button  fill=\\\"clear\\\" (click)=\\\"adjustqty('minus',items)\\\">-</ion-button>\\n                <ion-label>{{items.qty}}</ion-label>\\n                <ion-button fill=\\\"clear\\\" (click)=\\\"adjustqty('plus',items)\\\">+</ion-button>\\n              </div>\\n            </ion-buttons>\\n          </div>\\n          </ion-label>\\n       </ion-item>   \\n     </ion-item-group>\\n     <div class=\\\"row\\\">\\n      <button  class=\\\"mb-3 btn btn-primary btn-sm btn-block\\\" (click)=\\\"savedForLater(items)\\\">Save for later</button>\\n      <button  class=\\\"btn btn-danger btn-sm btn-block\\\"  (click)=\\\"remove(items)\\\">Remove</button>\\n    </div>\\n    </ion-item>\\n\\n    </ng-container>\\n   \\n  </ion-list>\\n</div>\\n\\n<div class=\\\"col-md-12 mt-3 border p-4\\\">\\n  <h4>Related to your recent Browsing Items</h4>\\n  <ng-container *ngIf=\\\"browsing.length!==0 && isOnline\\\">\\n    <ion-slides style=\\\"margin-bottom:20px;\\\" [options]=\\\"{ slidesPerView: '3', zoom: false, grabCursor: true }\\\">\\n      <ng-container *ngFor=\\\"let historic of browsing\\\">\\n        <ion-slide style=\\\"margin: 20px\\\">\\n          <ion-item-group>\\n            <ion-img [src]=\\\"historic.models[0].pictures[0]\\\" style=\\\"max-height: 300px; max-width: 300px\\\"></ion-img>\\n            <ion-row>\\n              <ion-badge color=\\\"danger\\\">\\n                <h5>{{historic.caracteristic[0].price|currency}}</h5>\\n              </ion-badge>\\n            </ion-row>\\n          </ion-item-group>\\n        </ion-slide>\\n      </ng-container>\\n        </ion-slides>\\n  </ng-container>\\n  <div class=\\\"alert alert-default\\\" *ngIf=\\\"browsing.length==0 && isOnline\\\">\\n    <ion-button class=\\\"border\\\" expand=\\\"block\\\" fill=\\\"clear\\\">Browsing Historic empty, start shopping now!</ion-button>\\n  </div>\\n  <ion-chip color=\\\"danger\\\" *ngIf=\\\"!isOnline\\\">\\n    <ion-icon size=\\\"large\\\" name=\\\"alert-circle\\\"></ion-icon>\\n    <h4>No internet connection</h4>\\n  </ion-chip>\\n</div>\\n\\n<div class=\\\"alert alert-dark mt-2\\\"><h3>Save for later</h3>\\n</div>\\n <div class=\\\"container\\\">\\n  <ion-list >\\n    <ion-item ion-button detail=\\\"true\\\" *ngFor=\\\"let items of saved\\\" >\\n        <ion-img size=\\\"large\\\" (click)=\\\"goTo(items)\\\"  [src]=\\\"items.picture\\\" style=\\\"width: 115px; height: 160px;\\\"></ion-img>\\n     <ion-item-group>\\n       <ion-item>\\n        <ion-label>\\n          <div>\\n            <ion-buttons>\\n              <ion-text>{{items.price|currency}}</ion-text>\\n              <ion-badge color=\\\"danger\\\" *ngIf=\\\"checkQty(items)<10 && checkQty(items)>1\\\">Only {{checkQty(items)}} left</ion-badge>\\n            </ion-buttons>\\n              <h6>{{items.name}}</h6>\\n            <ion-label><h6>{{items.description}}</h6></ion-label>\\n          </div>\\n          </ion-label>\\n       </ion-item>\\n          <ion-button size=\\\"small\\\" (click)=\\\"moveToCart(items)\\\">Move to Cart</ion-button>\\n     </ion-item-group>\\n    </ion-item>\\n  </ion-list>\\n</div> \\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CartPageRoutingModule } from './cart-routing.module';\n\nimport { CartPage } from './cart.page';\nimport { SharedviewsModule } from '../sharedviews/sharedviews.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedviewsModule,\n    CartPageRoutingModule\n  ],\n  declarations: [CartPage]\n})\nexport class CartPageModule {}\n"]}