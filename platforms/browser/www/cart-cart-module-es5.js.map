{"version":3,"sources":["webpack:///src/app/cart/cart.page.scss","webpack:///src/app/cart/cart.page.ts","webpack:///src/app/cart/cart-routing.module.ts","webpack:///src/app/cart/cart.page.html","webpack:///src/app/cart/cart.module.ts"],"names":["CartPage","toastconroller","router","fstoreService","storage","element","browsing","cart","saved","isOnline","orderQty","totalcost","getsavedforlater","getCartItems","console","log","getBrowsingHistoric","getConnexionState","arr2","getFirestoreData","res1","filter","item1","find","item2","description","get","then","data","err","historic","length","product","item","name","push","reverse","pressed","qty","set","reduce","i","j","price","deleted","tosaved","cartItem","splice","indexOf","alreadySaved","saveItem","move","date","Date","now","id","Math","floor","random","cartItems","shipment","goods_departure","shipping_destination","status","carrier","trackingnumber","prepareOrder","customerId","orderId","crypto","items","date_order","order_qty","amount","getTotal","navigationExtras","state","order","navigate","isfound","rejection","stockQty","create","message","duration","toast","present","includes","selector","template","routes","path","component","CartPageRoutingModule","imports","forChild","exports","CartPageModule","declarations"],"mappings":"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","file":"cart-cart-module-es5.js","sourcesContent":["export default \"ion-content {\\n  --background: #f1f3f4;\\n}\\n\\n.qty-selector {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: #f6f6f6;\\n  border-radius: 5px;\\n}\\n\\n.qty-selector ion-button {\\n  --color: #565656;\\n  font-size: 12px;\\n  margin-left: 8px;\\n  margin-right: 8px;\\n}\\n\\n.qty-selector ion-label {\\n  color: #565656 !important;\\n  font-size: 12px;\\n}\\n\\n.dot {\\n  height: 10px;\\n  width: 10px;\\n  border-radius: 20%;\\n  display: inline-block;\\n  padding-left: 6px;\\n  padding-right: 6px;\\n}\\n\\n.cart .price {\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FydC9jYXJ0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFDRTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFDTjs7QUFFRTtFQUNJLHlCQUFBO0VBQ0EsZUFBQTtBQUFOOztBQUlBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQURGOztBQUlFO0VBQ0UsZUFBQTtBQURKIiwiZmlsZSI6InNyYy9hcHAvY2FydC9jYXJ0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50e1xuICAtLWJhY2tncm91bmQ6ICNmMWYzZjQ7XG4gIFxufVxuLnF0eS1zZWxlY3RvciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kOiAjZjZmNmY2O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG5cbiAgaW9uLWJ1dHRvbiB7XG4gICAgICAtLWNvbG9yOiAjNTY1NjU2O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICB9XG5cbiAgaW9uLWxhYmVsIHtcbiAgICAgIGNvbG9yOiAjNTY1NjU2ICFpbXBvcnRhbnQ7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gIH1cbn1cblxuLmRvdHtcbiAgaGVpZ2h0OiAxMHB4O1xuICB3aWR0aDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMjAlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmctbGVmdDogNnB4O1xuICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG59XG4uY2FydHtcbiAgLnByaWNle1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { Product } from 'src/models/product';\nimport { Storage } from '@ionic/storage';\nimport { Order, Shipment } from 'src/models/order';\nimport { isNullOrUndefined } from 'util';\nimport { CartItem } from 'src/models/cartItem';\nimport { FirestoreDataService } from '../firestore-data.service';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.page.html',\n  styleUrls: ['./cart.page.scss'],\n})\nexport class CartPage implements OnInit {\n\n  element = '';\n  item: Product;\n  browsing: Product[] = [];\n  cart: CartItem[] = [];\n  saved: CartItem[] = [];\n  isOnline: boolean = false;\n \n  orderQty: number = 0;\n  totalcost: number = 0.00;\n\n  constructor(private toastconroller: ToastController, private router: Router, private fstoreService: FirestoreDataService, private storage: Storage) {\n    this.getsavedforlater(); \n    this.getCartItems();\n    console.log(this.getBrowsingHistoric());\n  }\n\n  ngOnInit() {\n    this.isOnline = this.fstoreService.getConnexionState();\n  }\n\n\n  checkForCartUpdate() {\n    let arr2 = this.fstoreService.getFirestoreData();\n    const res1 = arr2.filter((item1) => !this.cart.find(item2 => item1.description === item2.description))\n    \n\n  }\n\n  getCartItems() {\n    this.totalcost = 0.00;\n    this.storage.get(\"cart\").then((data: CartItem[]) => {\n      this.cart = data;\n\n    }).catch(err => {\n      console.log(\"cart not found or empty\");\n\n    });\n  }\n  getsavedforlater() {\n    this.storage.get(\"savedforlater\").then((data: CartItem[]) => {\n      this.saved = data;\n     \n    }).catch(err => {\n      console.log(\"saved not found or empty\");\n      \n    });\n\n  }\n\n  getBrowsingHistoric() {\n    this.storage.get(\"browsing\").then((historic: Product[]) => {\n      if (historic.length !== 0 && historic !== null) {\n\n        for (let product of this.fstoreService.getFirestoreData()) {\n          for (let item of historic) {\n            if (product.name == item.name && product.description == item.description) {\n              this.browsing.push(product);\n            }\n          }\n\n        }\n      }\n    }).catch(err => {\n      console.log(\"no browsing data found\");\n    });\n    return this.browsing.reverse;\n  }\n\n\n\n  adjustqty(pressed: string, item: CartItem) {\n    if (pressed === 'minus') {\n      if (item.qty !== 1) {\n        item.qty--;\n\n      } else {\n\n      }\n    }\n    if (pressed === 'plus') {\n      item.qty++;\n    }\n    this.storage.set('cart', this.cart);\n  }\n\n  getTotal() {\n    return this.cart.reduce((i, j) => i + j.price * j.qty, 0);\n  }\n\n  savedForLater(item: CartItem) {\n    let deleted: boolean = false;\n    let tosaved: CartItem;\n    for (let cartItem of this.cart) {\n      if (cartItem === item) {\n        this.cart.splice(this.cart.indexOf(item), 1);\n        tosaved = cartItem;\n        deleted = true\n      }\n    }\n    if (deleted) {\n      let alreadySaved = false;\n      this.storage.set(\"cart\", this.cart);\n      this.storage.get('savedforlater').then((saved: CartItem[]) => {\n        if (saved == null || saved.length == 0) {\n          saved = [];\n          saved.push(tosaved);\n        } else {\n          for (let saveItem of saved) {\n            if (saveItem == tosaved) {\n              saveItem.qty = tosaved.qty\n              alreadySaved = true;\n\n            }\n          }\n          if (!alreadySaved) {\n            saved.push(tosaved);\n          }\n        }\n        this.storage.set(\"savedforlater\", saved).then(()=>{\n          this.getsavedforlater();\n        });\n      })\n    }\n    \n  }\n\n  remove(item: CartItem) {\n    let deleted: boolean = false;\n    for (let cartItem of this.cart) {\n      if (cartItem === item) {\n        this.cart.splice(this.cart.indexOf(cartItem), 1);\n        deleted = true\n      }\n    }\n    if (deleted) {\n      this.storage.set(\"cart\", this.cart);\n      //this.getCartItems();\n    }\n  }\n\n  moveToCart(item: CartItem) {\n    let move: boolean = false;\n    for (let saved of this.saved) {\n      if (saved === item) {\n        this.saved.splice(this.saved.indexOf(item), 1);\n        this.cart.push(saved);\n        move = true;\n      }\n    }\n    if (move) {\n      this.storage.set(\"savedforlater\", this.saved);\n      this.storage.set(\"cart\", this.cart);\n      //this.getCartItems();\n    }\n\n  }\n  crypto() {\n    let date = Date.now();\n    let id: string = \"CA\" + Math.floor(Math.random() * 1000) + \"-\" + date;\n    return id;\n  }\n  checkout(cartItems: any) {\n    let shipment = {} as Shipment;\n    if (this.totalcost > 0.00) {\n      shipment.goods_departure = 'Packaging with KATALOG team service';\n      shipment.shipping_destination = '';\n      shipment.status = 'Not shipped yet';\n      shipment.carrier = '';\n      shipment.trackingnumber = '';\n      let prepareOrder: Order = {\n        customerId: 'code',\n        orderId: this.crypto(),\n        items: cartItems,\n        date_order: new Date(Date.now()),\n        order_qty: this.orderQty,\n        amount: this.getTotal(),\n        shipment: shipment,\n      }\n      const navigationExtras: NavigationExtras = {\n        state: {\n          order: prepareOrder\n        }\n      };\n      this.router.navigate(['/place-order'], navigationExtras);\n\n    }\n\n  }\n\n  goTo(item: any): void {\n    this.item = {} as Product;\n    let isfound = false;\n    for (let product of this.fstoreService.getFirestoreData()) {\n      if (product.name == item.name && product.description == item.description) {\n        this.item = product;\n        isfound = true;\n      }\n    }\n\n    if (isfound) {\n      const navigationExtras: NavigationExtras = {\n        state: {\n          product: item\n        }\n      };\n      this.router.navigate(['/product'], navigationExtras);\n    } else {\n      this.rejection()\n    }\n\n  }\n\n  checkQty(item: any) {\n    let stockQty = 10;\n    for (let product of this.fstoreService.getFirestoreData()) {\n      if (product.name == item.name && product.description == item.description) {\n        stockQty = product.qty;\n      }\n    }\n    return stockQty;\n  }\n\n  async rejection() {\n    let toast = await this.toastconroller.create({\n      message: 'Sorry! product is no longer available',\n      duration: 3000\n    });\n    await toast.present();\n  }\n\n  filter() {\n    if (this.element !== '') {\n      this.cart.filter((item) => item.name.includes(this.element));\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CartPage } from './cart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CartPageRoutingModule {}\n","export default \"\\n<app-page-header></app-page-header>\\n\\n<ion-content>\\n  \\n  <div class=\\\"container-fluid p-3 overflow-hidden\\\">\\n    <div class=\\\"row g-4\\\">\\n        \\n        <div class=\\\"col-lg-8 col-12 col-md-13 cart\\\">\\n          <div class=\\\"p-2 border cart\\\">\\n            <ion-list>\\n              <div *ngIf=\\\"cart.length==0\\\"> \\n                <ion-slide>\\n                  <ion-img src=\\\"../../assets/empty_cart.jpeg\\\" style=\\\"width: 300px;height: 300px;\\\"></ion-img>\\n                </ion-slide>\\n                <ion-slide>\\n                  <ion-button shape=\\\"round\\\" color=\\\"danger\\\">Shopping now</ion-button>\\n                </ion-slide>\\n              </div>\\n              <ng-container *ngFor=\\\"let items of cart\\\">\\n          \\n                <ion-item ion-button detail=\\\"true\\\">\\n                  <ion-img size=\\\"small\\\" (click)=\\\"goTo(items)\\\" [src]=\\\"items.picture\\\" style=\\\"width: 200px; height: 200px; margin-bottom: 4px;\\\"></ion-img>\\n                  <ion-label>\\n                    <ion-item-group>\\n                      <div class=\\\"row\\\">\\n                          <div class=\\\"col-lg-9 overflow-hidden\\\">\\n                            <h6><b>{{items.name}}</b></h6>\\n                            <p class=\\\"text-muted\\\">{{items.description}}</p>\\n                          </div>\\n                          <div class=\\\"col-lg-3\\\">\\n                            <h6 class=\\\"price\\\"><b>{{items.price|currency}}</b></h6>\\n                            <ion-badge color=\\\"danger\\\" *ngIf=\\\"checkQty(items)<10 && checkQty(items)>1\\\">Only {{checkQty(items)}} left</ion-badge>\\n                          </div>\\n                      </div>\\n                    <div>\\n                      <ion-label>\\n                        <ion-badge color=\\\"dark\\\">Color : <span class=\\\"dot\\\" [ngStyle]=\\\"{background:items.color}\\\"></span></ion-badge>\\n                        &nbsp;\\n                        <ion-badge color=\\\"dark\\\">Size : {{items.size}}</ion-badge>\\n                      </ion-label>\\n                    </div>\\n                     \\n                      <div class=\\\"mb-2\\\">\\n                        <ion-label *ngIf=\\\"items.shippingFee==0 && items.deliveryFee==0\\\">\\n                          <span class=\\\"text-muted\\\"><small>Available for Free Delivery</small></span>&<span><ion-text color=\\\"primary\\\">Free Shipping</ion-text></span>\\n                        </ion-label>\\n                        <ion-label *ngIf=\\\"items.shippingFee!==0 && items.deliveryFee==0\\\">\\n                          <span class=\\\"text-muted\\\"><small>Only available</small></span>&<span><ion-text color=\\\"primary\\\">Free Delivery</ion-text></span>\\n                        </ion-label>\\n                      </div>\\n                      <ion-buttons>\\n                        <ion-label>\\n                          <div class=\\\"qty-selector\\\">\\n                            <ion-button  fill=\\\"clear\\\" (click)=\\\"adjustqty('minus',items)\\\">-</ion-button>\\n                            <ion-label>{{items.qty}}</ion-label>\\n                            <ion-button fill=\\\"clear\\\" (click)=\\\"adjustqty('plus',items)\\\">+</ion-button>\\n                          </div>\\n                        </ion-label>\\n                        <ion-buttons>\\n                          <ion-button class=\\\"btn btn-primary btn-sm\\\" (click)=\\\"savedForLater(items)\\\">Save for later</ion-button>\\n                          <ion-button class=\\\"btn btn-danger btn-sm\\\"  (click)=\\\"remove(items)\\\">Remove</ion-button>\\n                        </ion-buttons>\\n                      </ion-buttons>\\n                    </ion-item-group>\\n                  </ion-label>\\n                \\n              </ion-item>\\n          \\n              </ng-container>\\n             \\n            </ion-list>\\n          </div>\\n          \\n        </div>\\n        <div class=\\\"col-lg-4 col-12 col-md-12\\\">\\n          <div class=\\\"p-2 border\\\">\\n            <ion-item  lines=\\\"none\\\">\\n              <ion-label>\\n                <ion-buttons>\\n                  <ion-label style=\\\"font-weight: bold;\\\">Total cost items : </ion-label>\\n                 <ion-text color=\\\"primary\\\">\\n                  <h3  style=\\\"font-size:20px;\\\">&nbsp;{{getTotal()|currency}}</h3>\\n                 </ion-text>\\n                </ion-buttons>\\n              </ion-label>\\n              <button class=\\\"btn btn-warning btn-md \\\" (click)=\\\"checkout(cart)\\\" >Check out</button>\\n            </ion-item>\\n            <ion-item  lines=\\\"none\\\">\\n              <ion-label>\\n                <ion-buttons>\\n                  <ion-label style=\\\"font-weight: bold;\\\">Number items in cart : </ion-label>\\n                </ion-buttons>\\n              </ion-label>\\n              <h4>{{cart.length}}</h4>\\n            </ion-item>\\n          </div>\\n        </div>\\n    </div>\\n  </div>\\n\\n<div class=\\\"alert p-1 alert-dark mt-2\\\">\\n  \\n    <h3>Save for later</h3>\\n  \\n</div>\\n\\n<div class=\\\"container-fluid overflow-hidden\\\">\\n  \\n    <div class=\\\"col-lg-9 col-md-12 col-12 bg-white p-3\\\">\\n      <div class=\\\"row g-4\\\">\\n      <div class=\\\"col-lg-4 col-12 col-md-4\\\"  *ngFor=\\\"let item of saved\\\">\\n        <div class=\\\"border p-3\\\">\\n          <ion-card-content (click)=\\\"goTo(item)\\\" style=\\\"padding-bottom: 0;\\\"  >\\n            <ion-slide>\\n              <ion-img style=\\\"box-sizing:border-box; width: 165px; height: 165px;\\\"   (click)=\\\"goTo(item)\\\" [src]=\\\"item.picture\\\"></ion-img>\\n            </ion-slide>\\n              </ion-card-content>\\n          <ion-card-header >\\n            <ion-text color=\\\"dark\\\">\\n              <h6  style=\\\"font-size: 13px; font-weight: bold;\\\" (click)=\\\"goTo(item)\\\">{{item.description}}</h6>\\n            </ion-text>\\n            <ion-card-subtitle  >{{item.name}}</ion-card-subtitle>\\n          </ion-card-header>\\n\\n          <ion-card-title>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label (click)=\\\"goTo(item)\\\" color=\\\"dark\\\">\\n               <b>{{item.price|currency}}</b> \\n              </ion-label>\\n              <div style=\\\"text-align:center; max-width: 36px; max-height: 19.188px; overflow: hidden;\\\">\\n                  <span class=\\\"dot\\\" *ngIf=\\\"item.color!==''\\\" [style.background]=\\\"item.color\\\"></span>\\n                </div>\\n            </ion-item>\\n            <button (click)=\\\"moveToCart(item)\\\" class=\\\"btn btn-xs btn-light\\\">Move to cart</button>\\n          </ion-card-title>\\n         \\n      </div>\\n    </div>\\n    </div>\\n   \\n  </div>\\n</div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CartPageRoutingModule } from './cart-routing.module';\n\nimport { CartPage } from './cart.page';\nimport { SharedviewsModule } from '../sharedviews/sharedviews.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedviewsModule,\n    CartPageRoutingModule\n  ],\n  declarations: [CartPage]\n})\nexport class CartPageModule {}\n"]}