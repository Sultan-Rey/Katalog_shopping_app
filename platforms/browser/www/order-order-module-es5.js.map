{"version":3,"sources":["webpack:///src/app/order/order.module.ts","webpack:///src/app/order/order-routing.module.ts","webpack:///src/app/firestore-data.service.ts","webpack:///src/app/order/order.page.html","webpack:///src/app/order/order.page.ts","webpack:///src/app/order/order.page.scss"],"names":["OrderPageModule","imports","declarations","routes","path","component","OrderPageRoutingModule","forChild","exports","FirestoreDataService","afs","afAuth","storage","userId","authState","subscribe","auth","connected","globalThis","navigator","onLine","slidesDocument","collection","doc","slides","valueChanges","categoriesCollection","q","orderBy","limit","category","brandsCollection","brand","promo","productCollection","where","product","items","Array","observer","forEach","e","push","code","name","description","rating","qty","deliveryDate","shipment","policy","shippingFee","deliveryFee","taxFee","about","models","caracteristic","status","availability","display","homeCollection","homeDesign","query","ordersCollection","orderData","param","usersCollection","user","currentUser","boxOwner","uid","msg","msgCollection","message","author","destination","object","content","date_msg","item","get","toPromise","then","querySnapshot","dd","ref","update","providedIn","OrderPage","router","route","fdservice","userType","emailVerified","getallOrder","queryParams","params","getCurrentNavigation","extras","state","data","refundstatus","orders$","getOrder","toString","date","dating","Date","seconds","nanoseconds","toDateString","order","navigationExtras","type","navigate","selector","template"],"mappings":"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","file":"order-order-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderPageRoutingModule } from './order-routing.module';\n\nimport { OrderPage } from './order.page';\n\nimport { SharedviewsModule } from '../sharedviews/sharedviews.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedviewsModule,\n    OrderPageRoutingModule\n  ],\n  declarations: [OrderPage]\n})\nexport class OrderPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderPage } from './order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderPageRoutingModule {}\n","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Product} from '../models/product';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument, DocumentData, DocumentReference} from '@angular/fire/firestore';\nimport { Observable} from 'rxjs';\nimport { Order } from 'src/models/order';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { Message } from 'src/models/message';\nimport { HomeDesign } from 'src/models/homeDesign';\nimport { Storage } from '@ionic/storage';\nimport { Categories } from 'src/models/category';\nimport { Brands } from 'src/models/brands';\nimport { Slides } from 'src/models/slides';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreDataService {\n\n  productCollection: AngularFirestoreCollection<Product>;\n  categoriesCollection: AngularFirestoreCollection<Categories>;\n  brandsCollection: AngularFirestoreCollection<Brands>;\n  slidesDocument: AngularFirestoreDocument<Slides>;\n  ordersCollection: AngularFirestoreCollection<Order>;\n  usersCollection: AngularFirestoreCollection<User>;\n  msgCollection: AngularFirestoreCollection<Message>;\n  homeCollection: AngularFirestoreCollection<HomeDesign>;\n  message: Observable<DocumentData[]>;\n  product: Observable<Product[]>;\n  category: Observable<Categories[]>\n  brand: Observable<Brands[]>\n  user: Observable<User[]>;\n  slides: Observable<Slides>;\n  homeDesign: Observable<HomeDesign[]>;\n  orderData: Observable<Order[]>;\n  msg: Message[];\n  items: Product[];\n  app_user: User[];\n  items_ordered: Order[];\n  userId: string='';\n  connected: boolean;\n  constructor( private afs: AngularFirestore, private afAuth: AngularFireAuth, private storage: Storage) { }\n\n  getAuthState(){\n    this.afAuth.authState.subscribe(auth => {\n      if (!auth) {\n        this.connected = false;\n      } else {\n        this.connected = true;\n      }\n    });\n    return this.connected;\n  }\n  \n  getConnexionState(){\n    return globalThis.navigator.onLine;\n  }\n\n  getMainSlides(){\n    this.slidesDocument = this.afs.collection('homepane').doc('d0pWnLNzch6ACeFKJmrj');\n    this.slides = this.slidesDocument.valueChanges();\n    return this.slides; \n  }\n\n  getCategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\",\"asc\").limit(4));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n  getAllcategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\"));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n\n  getBrands(){\n    this.brandsCollection = this.afs.collection('brands', q=>q.orderBy(\"date_added\",\"asc\").limit(4));\n    this.brand = this.brandsCollection.valueChanges();\n    return this.brand; \n  }\n\n  getbyPromotion(promo: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"display.position\",\"==\",promo));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n   getFirestoreData(){\n    this.items = new Array();\n    this.productCollection = this.afs.collection('product');\n    this.product = this.productCollection.valueChanges();\n   \n    /*\n    * Product subscription for uploading\n    */\n\n   this.product.subscribe(observer => {\n   \n      observer.forEach(e => {\n     \n\n        this.items.push({\n          code: e.code,\n          name: e.name,\n          description: e.description,\n          brand: e.brand,\n          rating: e.rating,\n          category: e.category,\n          qty: e.qty,\n          deliveryDate: e.deliveryDate,\n          shipment: e.shipment,\n          policy: e.policy,\n          shippingFee: e.shippingFee,\n          deliveryFee: e.deliveryFee,\n          taxFee:e.taxFee,\n          about: e.about,\n          models: e.models,\n          caracteristic: e.caracteristic,\n          status: e.status,\n          availability: e.availability,\n          display: e.display\n        });\n        \n      \n          \n\n      });\n\n    }); \n\n    return this.items;\n  }\n\n  getProducts(){\n    this.productCollection = this.afs.collection('product',q=>q.orderBy('creation_date','desc'));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n  getHomeDesign(){\n    this.homeCollection = this.afs.collection('homepane', q=>q.orderBy(\"range\",\"asc\"));\n    this.homeDesign = this.homeCollection.valueChanges();\n    return this.homeDesign;\n  }\n\n  filterByCategory(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"category\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterByBrand(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"brand\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterBySearchQueries(query: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",query).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n /*  getOrderAsadmin(){\n    this.items_ordered = new Array();\n    this.ordersCollection = this.afs.collection('orders');\n    this.orderData = this.ordersCollection.doc().collection(\"customer_order\").valueChanges();\n    this.orderData.subscribe(observer=>{\n      \n      observer.forEach(e => {\n       \n        this.items_ordered.push({\n              orderId: e.orderId,\n              items: e.items,\n              date_order: e.date_order,\n              order_qty: e.order_qty,\n              amount: e.amount,\n              shipment: e.shipment\n        });\n\n    });\n    });\n    return this.items_ordered;\n  } */\n   getFirestoreOrder(){\n       \n        this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",this.userId));\n        this.orderData = this.ordersCollection.valueChanges();\n     return this.orderData;\n\n  }\n  getOrder(param:string){\n       \n    this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",param));\n    this.orderData = this.ordersCollection.valueChanges();\n return this.orderData;\n}\n\n  getUsers(){\n    this.usersCollection = this.afs.collection('user');\n    this.user = this.usersCollection.valueChanges();\n   return this.user;\n  }\n\nasync getMessage(){\n  let boxOwner = (await this.afAuth.currentUser).uid;\n  this.msg = new Array();\n  this.msgCollection = this.afs.collection('message');\n  this.message = this.msgCollection.doc(boxOwner).collection('update').valueChanges();\n  this.message.subscribe(observer => {\n    observer.forEach(e => {\n        this.msg.push({\n          author: e.author,\n          destination: e.destination,\n          object: e.object,\n          content: e.content,\n          date_msg: e.date_msg\n      });\n\n    });\n\n  }); \n  return this.msg;\n}\n\nremoveProduct(item:any){\n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n  this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.delete();\n    })\n  })\n}\n\neditProduct(item:any){\n \n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n return this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.update(item)\n    })\n  })\n \n}\n\n\n\n}\n","export default \"<app-page-header></app-page-header>\\n\\n<ion-content>\\n \\n  <div>\\n    <ion-item>\\n      <ion-searchbar placeholder=\\\"search for orders\\\"></ion-searchbar>\\n      <ion-button fill=\\\"clear\\\" slot=\\\"end\\\">\\n        Filter <ion-icon name=\\\"chevron-down-outline\\\" ></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n    \\n  </div>\\n  <ion-item-group *ngFor=\\\"let order of orders$ | async\\\">\\n  <div class=\\\"container-fluid bg-light\\\">\\n    <div class=\\\"row p-2\\\">\\n      <div class=\\\"col-md-4\\\">\\n          <ion-label>Date Order <p>{{getDate(order.date_order)}}</p></ion-label>\\n      </div>\\n      <div class=\\\"col-md-5\\\">\\n          <ion-label>Ship To : <p>{{order.shipment.shipping_destination}}</p></ion-label>\\n      </div>\\n      <div class=\\\"col-md-3\\\">\\n        <ion-button size=\\\"small\\\" class=\\\"mt-2\\\" (click)=\\\"details(order)\\\" color=\\\"medium\\\">Order Details\\n          <ion-icon name=\\\"chevron-forward-outline\\\"></ion-icon>\\n        </ion-button>\\n      </div>\\n    </div>\\n  </div>\\n    \\n    <ion-item *ngFor=\\\"let item_order of order.items\\\">\\n      <ion-item-group style=\\\"--size:large;\\\" slot=\\\"start\\\">\\n        <ion-img style=\\\"width:160px; max-height:165px;\\\" [src]=\\\"item_order.picture\\\" alt=\\\"product image\\\"></ion-img>\\n        <ion-chip>\\n          {{item_order.qty}}\\n        </ion-chip>\\n      </ion-item-group>\\n      \\n      <ion-label>\\n        <h3 style=\\\"font-weight:bold;\\\">{{item_order.name}}</h3>\\n        <ion-buttons>\\n          <button>Size : {{item_order.size}} </button>\\n          <button [style.background]=\\\"item_order.color\\\">- Color - </button>\\n        </ion-buttons>\\n         <ion-text *ngIf=\\\"data=='Refunds'\\\" color=\\\"danger\\\">\\n         <h4 >Refunds Status</h4></ion-text>\\n         <ion-buttons>\\n          <h5 style=\\\"font-weight:bold;\\\" *ngIf=\\\"data!=='Refunds'\\\">Estimate Delivery date  : </h5>\\n          <p style=\\\"margin-left: 10px;\\\" *ngIf=\\\"data!=='Refunds'\\\">{{getDate(item_order.deliveryDate)|date}}</p>\\n         </ion-buttons>\\n         \\n         <ion-buttons>\\n           <span style=\\\"margin-right: 2px;\\\">\\n            <h5 style=\\\"font-weight:bold;\\\">Delivery method : </h5>\\n           </span>\\n            <ion-badge slot=\\\"end\\\" size=\\\"small\\\" expand=\\\"block\\\" color=\\\"warning\\\">{{order.shipment.carrier}}\\n              <ion-icon name=\\\"chevron-down\\\"></ion-icon>\\n            </ion-badge>\\n         </ion-buttons>\\n         <ion-buttons>\\n           <ion-label slot=\\\"end\\\" [color]=\\\"order.shipment.status=='Delivered' || order.shipment.status=='Shipped' || order.shipment.status=='Not shipped yet' ? 'tertiary':'danger'\\\" style=\\\"padding-left: 30px; float: left; margin-top: 5px; \\\"  >\\n            <h6>{{order.shipment.status}}</h6>\\n           </ion-label>\\n         </ion-buttons>\\n      </ion-label>     \\n    </ion-item>\\n    \\n  </ion-item-group>\\n\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore, DocumentData } from '@angular/fire/firestore';\nimport { NavigationExtras, Router, ActivatedRoute } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport * as firebase from 'firebase';\nimport { Observable } from 'rxjs';\nimport { Order } from 'src/models/order';\nimport { User } from 'src/models/user';\nimport { isNullOrUndefined } from 'util';\nimport { FirestoreDataService } from '../firestore-data.service';\n\n@Component({\n  selector: 'app-order',\n  templateUrl: './order.page.html',\n  styleUrls: ['./order.page.scss'],\n})\nexport class OrderPage implements OnInit {\n  data: string;\n  orders$: Observable<DocumentData[]>;\n  user: User;\n  userType: string='';\n  connected: boolean = false;\n  constructor(private router: Router, private route: ActivatedRoute, private afAuth: AngularFireAuth, \n    private fdservice: FirestoreDataService, private storage: Storage) { \n      this.afAuth.authState.subscribe(auth => {\n        if (!auth.emailVerified) {\n          this.connected = false;\n        } else {\n          this.getallOrder();\n        }\n      });\n      \n  \n        \n    }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.refundstatus;\n             }\n    });\n\n  }\n\n  getallOrder(){\n    this.afAuth.currentUser.then((user)=>{\n      if(user.emailVerified){\n        this.orders$ = this.fdservice.getOrder(user.uid.toString());\n      }\n    })\n    \n  }\n\n  getDate(date:any){\n    let dating: Date= new Date(date.seconds*1000 + date.nanoseconds);\n      return dating.toDateString() ;\n    }\n\n    details(order:Order){\n      const navigationExtras:NavigationExtras = {\n        state:{ order: order, type: this.userType}\n      }\n      this.router.navigate(['/order-details'], navigationExtras);\n    }\n  \n}\n","export default \"ion-thumbnail {\\n  --size:60px;\\n}\\n\\n#name {\\n  display: inline-block;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n#icon {\\n  margin-left: 5px;\\n  position: absolute;\\n  display: inline-block;\\n  color: #ffd050;\\n  width: 11px;\\n  padding: 0;\\n}\\n\\n.margin {\\n  margin-left: 18px;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n\\n.margin p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 3;\\n  -webkit-box-orient: vertical;\\n}\\n\\n.label {\\n  margin-left: 14px;\\n}\\n\\n.label button {\\n  background: none;\\n  border-right: 1px solid yellowgreen;\\n  box-shadow: none;\\n}\\n\\n.label button ion-label {\\n  font-size: 12px;\\n  line-height: 12px;\\n}\\n\\n#qty {\\n  display: inline;\\n  float: right;\\n  border: 1px solid #8c8c8c;\\n  border-radius: 50%;\\n  padding: 3px;\\n  text-align: center;\\n  background: #2c2c30;\\n  color: cornsilk;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3JkZXIvb3JkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQUNGOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQUNKOztBQUNFO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0FBRUo7O0FBQUU7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtBQUdKOztBQURFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7RUFDQSxnQkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSw0QkFBQTtBQUlKOztBQUZFO0VBQ0UsaUJBQUE7QUFLSjs7QUFIRTtFQUNFLGdCQUFBO0VBQ0EsbUNBQUE7RUFDQSxnQkFBQTtBQU1KOztBQUpFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBT0o7O0FBTEU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQVFKIiwiZmlsZSI6InNyYy9hcHAvb3JkZXIvb3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRodW1ibmFpbHtcbiAgLS1zaXplOjYwcHg7XG59XG5cbiNuYW1le1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzowO1xuICB9XG4gICNpY29ue1xuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBjb2xvcjogcmdiKDI1NSwgMjA4LCA4MCk7XG4gICAgd2lkdGg6IDExcHg7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuICAubWFyZ2lue1xuICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgbWFyZ2luLXRvcDogMDtcbiAgfVxuICAubWFyZ2luIHB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgIGNvbG9yOiAjOGM4YzhjO1xuICAgIG1hcmdpbjogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgIC13ZWJraXQtbGluZS1jbGFtcDogMztcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOyBcbiAgfVxuICAubGFiZWx7XG4gICAgbWFyZ2luLWxlZnQ6IDE0cHg7XG4gIH1cbiAgLmxhYmVsIGJ1dHRvbntcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHllbGxvd2dyZWVuO1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gIH1cbiAgLmxhYmVsIGJ1dHRvbiBpb24tbGFiZWx7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICB9XG4gICNxdHl7XG4gICAgZGlzcGxheTogaW5saW5lO1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOGM4YzhjO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBwYWRkaW5nOiAzcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQ6IHJnYig0NCwgNDQsIDQ4KTtcbiAgICBjb2xvcjogY29ybnNpbGs7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cblxuICAiXX0= */\";"]}