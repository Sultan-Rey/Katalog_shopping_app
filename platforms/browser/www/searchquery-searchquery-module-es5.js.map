{"version":3,"sources":["webpack:///src/app/searchquery/searchquery-routing.module.ts","webpack:///src/app/searchquery/searchquery.page.scss","webpack:///src/app/searchquery/searchquery.page.ts","webpack:///src/app/searchquery/searchquery.module.ts","webpack:///src/app/searchquery/searchquery.page.html"],"names":["routes","path","component","SearchqueryPageRoutingModule","imports","forChild","exports","SearchqueryPage","route","router","firestoreData","lstorage","toastcontroller","query","items","queryParams","subscribe","params","getCurrentNavigation","extras","state","getFirestoreData","filter","product","name","toUpperCase","includes","description","item","navigationExtras","navigate","item_details","details","brand","category","qty","size","color","models","id","shippingFee","deliveryFee","taxFee","deliveryDate","picture","pictures","price","caracteristic","addTocart","setItem","then","create","header","message","duration","toast","present","selector","template","SearchqueryPageModule","declarations"],"mappings":"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","file":"searchquery-searchquery-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SearchqueryPage } from './searchquery.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchqueryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SearchqueryPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlYXJjaHF1ZXJ5L3NlYXJjaHF1ZXJ5LnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { CartItem } from 'src/models/cartItem';\nimport { Product } from 'src/models/product';\nimport { FirestoreDataService } from '../firestore-data.service';\nimport{Storage} from '@ionic/storage';\nimport { LocalStorageService } from '../local-storage.service';\n\n@Component({\n  selector: 'app-searchquery',\n  templateUrl: './searchquery.page.html',\n  styleUrls: ['./searchquery.page.scss'],\n})\nexport class SearchqueryPage implements OnInit {\n  query:string = '';\n  items:Product[]=[];\n  details: CartItem;\n  constructor(private route: ActivatedRoute, private router: Router, private firestoreData: FirestoreDataService,\n              private lstorage: LocalStorageService, private toastcontroller: ToastController) {\n    \n   }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.query = this.router.getCurrentNavigation().extras.state.query;\n        if(this.query!==''&& this.query!==null){\n          \n        }\n      }\n    });\n    \n  }\n\n  search(){\n    if(this.query!==''){\n      this.items = this.firestoreData.getFirestoreData().filter((product)=>product.name.toUpperCase().includes(this.query.toUpperCase()) || product.description.toUpperCase().includes(this.query.toUpperCase())); \n    }\n    else{\n      \n    }\n  }\n\n  goTo(item: any): void {\n    const navigationExtras: NavigationExtras = {\n      state: {\n        product: item\n      }\n    };\n    this.router.navigate(['/product'], navigationExtras);\n  }\n\n  setItem(item_details: Product){\n    this.details = {} as CartItem;\n    this.details.name = item_details.name;\n    this.details.brand =  item_details.brand;\n    this.details.description = item_details.description;\n    this.details.category =  item_details.category;\n    this.details.qty =  1;\n    this.details.size =  item_details.size[0];\n    this.details.color =  item_details.models[0].id;\n    this.details.shippingFee =  item_details.shippingFee;\n    this.details.deliveryFee =  item_details.deliveryFee;\n    this.details.taxFee =  item_details.taxFee;\n    this.details.deliveryDate =  item_details.deliveryDate;\n    this.details.picture = item_details.models[0].pictures[0];\n    this.details.price = item_details.caracteristic[0].price;\n    return this.details;\n  }\n\n   addToCart(item_details: Product) {\n    this.lstorage.addTocart(this.setItem(item_details)).then(async ()=>{\n      const toast = await this.toastcontroller.create({\n        header : \"Add To Cart\",\n        message: \"Item added to your cart\",\n        duration: 2000\n      });\n      await toast.present();\n    });\n    \n  }\n\n \n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SearchqueryPageRoutingModule } from './searchquery-routing.module';\n\nimport { SearchqueryPage } from './searchquery.page';\nimport { SharedviewsModule } from '../sharedviews/sharedviews.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedviewsModule,\n    FormsModule,\n    IonicModule,\n    SearchqueryPageRoutingModule\n  ],\n  declarations: [SearchqueryPage]\n})\nexport class SearchqueryPageModule {}\n","export default \"\\n<app-page-header></app-page-header>\\n<ion-content>\\n  <div class=\\\"alert alert-dark\\\"> <!-- Messages Bar -->\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-10 col-sm-6\\\">\\n        <h5>Results</h5>\\n      </div>\\n      <div class=\\\"col-md-2 col-sm-6\\\">\\n        <ion-label>Filter<ion-icon name=\\\"chevron-down\\\"></ion-icon></ion-label>\\n      </div>\\n    </div>\\n    \\n  </div>\\n      <ion-list id=\\\"allproduct\\\" >\\n        <ion-item class=\\\"hide\\\"  ion-button detail=\\\"true\\\" *ngFor=\\\"let items of items\\\" >\\n            <ion-img size=\\\"large\\\"  [src]=\\\"items.models[0].pictures[0]\\\" style=\\\"width: 110px; height: 150px;\\\"></ion-img>\\n         <ion-item-group>\\n           <ion-item>\\n            <ion-label>\\n              <div (click)=\\\"goTo(items.product)\\\">\\n                <ion-buttons>\\n                  <ion-text>{{items.price|currency}}</ion-text>\\n                  <ion-badge color=\\\"danger\\\" *ngIf=\\\"items.qty<10 && items.qty>1\\\">Only {{items.qty}} left</ion-badge>\\n                </ion-buttons>\\n                  <h6>{{items.name}}</h6>\\n                  <p>\\n        <ion-icon name=\\\"star\\\" *ngIf=\\\"items.rating>0\\\"></ion-icon>\\n        <ion-icon name=\\\"star\\\" *ngIf=\\\"items.rating>1\\\"></ion-icon>\\n        <ion-icon name=\\\"star\\\" *ngIf=\\\"items.rating>2\\\"></ion-icon>\\n        <ion-icon name=\\\"star\\\" *ngIf=\\\"items.rating>3\\\"></ion-icon>\\n        <ion-icon name=\\\"star\\\" *ngIf=\\\"items.rating>4\\\"></ion-icon>\\n                  </p>\\n                <ion-label><h6>{{items.description}}</h6></ion-label>\\n              </div>\\n             <ion-button (click)=\\\"addToCart(items)\\\">Add To Cart</ion-button>\\n             <!--<ion-button>Buy now</ion-button>-->\\n              </ion-label>\\n           </ion-item>\\n         </ion-item-group>\\n            \\n        </ion-item>\\n      </ion-list>\\n</ion-content>\";"]}