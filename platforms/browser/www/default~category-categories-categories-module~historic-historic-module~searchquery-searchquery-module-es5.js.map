{"version":3,"sources":["webpack:///src/app/firestore-data.service.ts","webpack:///src/app/local-storage.service.ts"],"names":["FirestoreDataService","afs","afAuth","storage","userId","authState","subscribe","auth","connected","globalThis","navigator","onLine","slidesDocument","collection","doc","slides","valueChanges","categoriesCollection","q","orderBy","limit","category","brandsCollection","brand","promo","productCollection","where","product","items","Array","observer","forEach","e","push","code","name","description","rating","qty","deliveryDate","shipment","policy","shippingFee","deliveryFee","taxFee","about","models","caracteristic","status","availability","display","homeCollection","homeDesign","query","ordersCollection","orderData","param","usersCollection","user","currentUser","boxOwner","uid","msg","msgCollection","message","author","destination","object","content","date_msg","item","get","toPromise","then","querySnapshot","dd","ref","update","providedIn","LocalStorageService","historic","length","browsingItems","err","console","log","liked","itemsLikes","data","cart","savedForLater","item_details","isAdded","set","likeItem"],"mappings":"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","file":"default~category-categories-categories-module~historic-historic-module~searchquery-searchquery-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Product} from '../models/product';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument, DocumentData, DocumentReference} from '@angular/fire/firestore';\nimport { Observable} from 'rxjs';\nimport { Order } from 'src/models/order';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { Message } from 'src/models/message';\nimport { HomeDesign } from 'src/models/homeDesign';\nimport { Storage } from '@ionic/storage';\nimport { Categories } from 'src/models/category';\nimport { Brands } from 'src/models/brands';\nimport { Slides } from 'src/models/slides';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreDataService {\n\n  productCollection: AngularFirestoreCollection<Product>;\n  categoriesCollection: AngularFirestoreCollection<Categories>;\n  brandsCollection: AngularFirestoreCollection<Brands>;\n  slidesDocument: AngularFirestoreDocument<Slides>;\n  ordersCollection: AngularFirestoreCollection<Order>;\n  usersCollection: AngularFirestoreCollection<User>;\n  msgCollection: AngularFirestoreCollection<Message>;\n  homeCollection: AngularFirestoreCollection<HomeDesign>;\n  message: Observable<DocumentData[]>;\n  product: Observable<Product[]>;\n  category: Observable<Categories[]>\n  brand: Observable<Brands[]>\n  user: Observable<User[]>;\n  slides: Observable<Slides>;\n  homeDesign: Observable<HomeDesign[]>;\n  orderData: Observable<Order[]>;\n  msg: Message[];\n  items: Product[];\n  app_user: User[];\n  items_ordered: Order[];\n  userId: string='';\n  connected: boolean;\n  constructor( private afs: AngularFirestore, private afAuth: AngularFireAuth, private storage: Storage) { }\n\n  getAuthState(){\n    this.afAuth.authState.subscribe(auth => {\n      if (!auth) {\n        this.connected = false;\n      } else {\n        this.connected = true;\n      }\n    });\n    return this.connected;\n  }\n  \n  getConnexionState(){\n    return globalThis.navigator.onLine;\n  }\n\n  getMainSlides(){\n    this.slidesDocument = this.afs.collection('homepane').doc('d0pWnLNzch6ACeFKJmrj');\n    this.slides = this.slidesDocument.valueChanges();\n    return this.slides; \n  }\n\n  getCategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\",\"asc\").limit(4));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n  getAllcategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\"));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n\n  getBrands(){\n    this.brandsCollection = this.afs.collection('brands', q=>q.orderBy(\"date_added\",\"asc\").limit(4));\n    this.brand = this.brandsCollection.valueChanges();\n    return this.brand; \n  }\n\n  getbyPromotion(promo: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"display.position\",\"==\",promo));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n   getFirestoreData(){\n    this.items = new Array();\n    this.productCollection = this.afs.collection('product');\n    this.product = this.productCollection.valueChanges();\n   \n    /*\n    * Product subscription for uploading\n    */\n\n   this.product.subscribe(observer => {\n   \n      observer.forEach(e => {\n     \n\n        this.items.push({\n          code: e.code,\n          name: e.name,\n          description: e.description,\n          brand: e.brand,\n          rating: e.rating,\n          category: e.category,\n          qty: e.qty,\n          deliveryDate: e.deliveryDate,\n          shipment: e.shipment,\n          policy: e.policy,\n          shippingFee: e.shippingFee,\n          deliveryFee: e.deliveryFee,\n          taxFee:e.taxFee,\n          about: e.about,\n          models: e.models,\n          caracteristic: e.caracteristic,\n          status: e.status,\n          availability: e.availability,\n          display: e.display\n        });\n        \n      \n          \n\n      });\n\n    }); \n\n    return this.items;\n  }\n\n  getProducts(){\n    this.productCollection = this.afs.collection('product',q=>q.orderBy('creation_date','desc'));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n  getHomeDesign(){\n    this.homeCollection = this.afs.collection('homepane', q=>q.orderBy(\"range\",\"asc\"));\n    this.homeDesign = this.homeCollection.valueChanges();\n    return this.homeDesign;\n  }\n\n  filterByCategory(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"category\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterByBrand(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"brand\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterBySearchQueries(query: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",query).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n /*  getOrderAsadmin(){\n    this.items_ordered = new Array();\n    this.ordersCollection = this.afs.collection('orders');\n    this.orderData = this.ordersCollection.doc().collection(\"customer_order\").valueChanges();\n    this.orderData.subscribe(observer=>{\n      \n      observer.forEach(e => {\n       \n        this.items_ordered.push({\n              orderId: e.orderId,\n              items: e.items,\n              date_order: e.date_order,\n              order_qty: e.order_qty,\n              amount: e.amount,\n              shipment: e.shipment\n        });\n\n    });\n    });\n    return this.items_ordered;\n  } */\n   getFirestoreOrder(){\n       \n        this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",this.userId));\n        this.orderData = this.ordersCollection.valueChanges();\n     return this.orderData;\n\n  }\n  getOrder(param:string){\n       \n    this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",param));\n    this.orderData = this.ordersCollection.valueChanges();\n return this.orderData;\n}\n\n  getUsers(){\n    this.usersCollection = this.afs.collection('user');\n    this.user = this.usersCollection.valueChanges();\n   return this.user;\n  }\n\nasync getMessage(){\n  let boxOwner = (await this.afAuth.currentUser).uid;\n  this.msg = new Array();\n  this.msgCollection = this.afs.collection('message');\n  this.message = this.msgCollection.doc(boxOwner).collection('update').valueChanges();\n  this.message.subscribe(observer => {\n    observer.forEach(e => {\n        this.msg.push({\n          author: e.author,\n          destination: e.destination,\n          object: e.object,\n          content: e.content,\n          date_msg: e.date_msg\n      });\n\n    });\n\n  }); \n  return this.msg;\n}\n\nremoveProduct(item:any){\n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n  this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.delete();\n    })\n  })\n}\n\neditProduct(item:any){\n \n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n return this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.update(item)\n    })\n  })\n \n}\n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { CartItem } from 'src/models/cartItem';\nimport { Product } from 'src/models/product';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n\n  browsingItems: Product[];\n  itemsLikes:Product[];\n  cart: any;\n  savedForLater: CartItem[];\n  constructor(private storage: Storage) { }\n\n  getBrowsingHistoric(){\n    this.storage.get(\"browsing\").then((historic:Product[])=>{\n      if(historic.length!==0 && historic!==null){\n        this.browsingItems = historic;\n      }\n    }).catch(err=>{\n      console.log(\"no browsing data found\");\n    });\n   return this.browsingItems;\n  }\n\n  getLiked(){\n   \n    this.storage.get(\"liked\").then((liked: Product[]) => {\n      if (liked !== null || liked.length !== 0) {\n        this.itemsLikes = liked\n      }\n    }).catch(err=>{\n      console.log(\"no like items not found or empty\");\n    });\n    return this.itemsLikes;\n  }\n\n  getCartItems(){\n    this.storage.get(\"cart\").then((data:any)=>{\n      this.cart= data;   \n    }).catch(err=>{\n      console.log(\"cart not found or empty\");  \n    });\n    return this.cart;\n  }\n  getsavedforlater(){\n    this.storage.get(\"savedforlater\").then((data:CartItem[])=>{\n        this.savedForLater=data;\n    }).catch(err=>{\n      console.log(\"saved not found or empty\");\n    });\n   return this.savedForLater;\n  }\n\n  addTocart(item_details: CartItem){\n    let isAdded: boolean = false;\n    \n   return this.storage.get(\"cart\").then((data: CartItem[]) => {\n      if (data === null || data.length === 0) {\n        data = [];\n        data.push(item_details)\n      } else {\n        for (let item of data) {\n          if (item.description === item_details.description) {\n            item.qty+=1;\n            isAdded = true; \n          }\n        }\n        if (!isAdded) {\n          data.push(item_details)\n        }\n      }\n      this.storage.set(\"cart\", data);\n      \n    }); \n  }\n\n  addInWishList(likeItem: Product){\n    let isAdded: boolean = false;\n    return this.storage.get(\"liked\").then((liked: Product[]) => {\n      if (liked === null || liked.length === 0) {\n        liked = [];\n        liked.push(likeItem);\n      } else {\n        for (let items of liked) {\n          if (items === likeItem) {\n            items = likeItem;\n            isAdded = true;\n          }\n        }\n        if (!isAdded) {\n          liked.push(likeItem);\n        }\n      }\n      this.storage.set(\"liked\", liked);\n    });\n  }\n}\n"]}