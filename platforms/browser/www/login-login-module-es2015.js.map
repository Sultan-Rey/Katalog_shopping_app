{"version":3,"sources":["./src/app/login/login.page.ts","./src/app/login/login.page.html","./src/app/login/login.module.ts","./src/app/login/login-routing.module.ts","./src/app/login/login.page.scss"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router, NavigationExtras} from '@angular/router';\nimport { AngularFireAuth} from '@angular/fire/auth';\nimport { Order } from 'src/models/order';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Storage} from '@ionic/storage';\nimport { ControlContainer } from '@angular/forms';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { User } from 'src/models/user';\nimport { isNullOrUndefined } from 'util';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  user: User;\n  dataUser = {\n    mail: '',\n    password: ''\n  };\n  data: Order|'';\n  returnway: '/home';\n  constructor(private route: ActivatedRoute, private router: Router, private storage: Storage,\n              private afAuth: AngularFireAuth, private loadingcontroller: LoadingController,\n              private alertcontroller: AlertController, private afirestore: AngularFirestore) { }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.order;\n        this.returnway = this.router.getCurrentNavigation().extras.state.route;\n      }\n    });\n  }\n\n  async login(data: any){\n    \n       await this.loadingcontroller.create({\n        cssClass: 'my-custom-class',\n        message: 'Please wait...',\n        duration: 5000\n       }).then( async (control)=>{\n         control.present();\n         \n         this.afAuth.signInWithEmailAndPassword(data.mail.trim(), data.password.trim()).then(async () => {\n          this.dataUser = {mail: '',password: ''};\n            \n            if((await this.afAuth.currentUser).emailVerified){\n              this.storage.set(\"user\", (await this.afAuth.currentUser).uid.toString())\n              const navigationExtras: NavigationExtras = {\n                state: {\n                  order: this.data\n                }\n              };\n              control.dismiss();\n              if(!isNullOrUndefined(this.data)){\n                this.router.navigate(['/place-order'], navigationExtras);\n              }else{ \n                this.router.navigate(['/home']);\n            }\n            \n          }\n          \n          }).catch(rejection=>{control.dismiss(rejection, \"alert\");});\n      \n         control.onWillDismiss().then(async (load)=>{\n          if(load.role ==\"alert\"){\n            const alert = await this.alertcontroller.create({\n              cssClass: 'my-custom-class',\n              header: 'Alert',\n              subHeader: 'Network Error',\n              message: 'Login failed'+load.data,\n              buttons: ['Ok']\n            });\n            await alert.present();\n          }\n           \n          });//loading dismissed()\n       });\n  }\n\n  toSignUp(){\n    const navigationExtras: NavigationExtras = {\n      state: {\n        order: this.data\n      }\n    };\n    this.router.navigate(['/signup'], navigationExtras);\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar style=\\\" --background: #031432;\\\">\\n    <ion-buttons  slot=\\\"start\\\">\\n      <ion-back-button color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons routerLink=\\\"/home\\\" routerDirection=\\\"back\\\">\\n      <ion-title class=\\\"width\\\">\\n        <ion-text size=\\\"LARGE\\\" color=\\\"warning\\\">\\n          K</ion-text>\\n        <ion-text color=\\\"danger\\\">\\n          <ion-icon size=\\\"LARGE\\\" name=cart></ion-icon>\\n        </ion-text>\\n        <ion-text color=\\\"light\\\">TALOG</ion-text>\\n      </ion-title>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n \\n  <div class=\\\"container\\\" style=\\\"padding-top: 50px;\\\">\\n    <ion-card class=\\\"container p-4\\\">\\n      <ion-title class=\\\"ion-padding\\\">\\n        <ion-img style=\\\"width:100px;height: 100px; margin: auto;\\\" src=\\\"../../assets/icon/katalog_round_icon.PNG\\\"></ion-img>\\n    </ion-title>\\n    <ion-item>\\n      <ion-icon slot=\\\"start\\\" name=\\\"person\\\"></ion-icon>\\n      <ion-label position=\\\"floating\\\">Email or number phone</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"dataUser.mail\\\" ></ion-input>\\n    </ion-item>\\n \\n    <ion-item>\\n      <ion-icon slot=\\\"start\\\" name=\\\"lock-closed\\\"></ion-icon>\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\n      <ion-input type=\\\"password\\\" [(ngModel)]=\\\"dataUser.password\\\"></ion-input>\\n    </ion-item>\\n    <section>\\n      <ion-button expand=\\\"block\\\" (click)=\\\"login(dataUser)\\\">Connexion</ion-button>\\n      <div class=\\\"forgot\\\">\\n      <ion-text>\\n        <ion-label>Password forgot?</ion-label>\\n      </ion-text>\\n    </div>\\n    </section>\\n\\n  <div id=\\\"signup\\\">\\n    <ion-label  color=\\\"primary\\\" (click)=\\\"toSignUp()\\\">I don't have account, signup for free</ion-label>\\n</div>\\n    </ion-card>\\n       \\n</div>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","export default \".icon {\\n  width: 20px;\\n  height: 28px;\\n  border: none;\\n  padding: 2px;\\n}\\n\\n.width {\\n  font-size: 26px;\\n}\\n\\n.container ion-item {\\n  width: 90%;\\n  margin-left: auto;\\n  margin-right: auto;\\n  padding: auto;\\n}\\n\\n#img {\\n  width: 60%;\\n  margin-left: auto;\\n  margin-right: auto;\\n  padding: auto;\\n}\\n\\n.forgot {\\n  float: right;\\n}\\n\\n.forgot ion-label {\\n  font-size: 14px;\\n  color: #c8c8c8;\\n  margin-top: 10px;\\n}\\n\\nsection {\\n  margin-top: 1em;\\n  margin-bottom: 2.5em;\\n}\\n\\nsection:not(.full-width),\\n.full-width > header {\\n  padding: 0 10px;\\n}\\n\\n#signup {\\n  width: 100%;\\n  text-align: center;\\n  margin-top: 50px;\\n}\\n\\n.my-custom-class {\\n  --background: #222;\\n  --spinner-color: #fff;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUNFO0VBQ0UsZUFBQTtBQUVKOztBQUNDO0VBQ0ssVUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0FBRU47O0FBQUU7RUFDSSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7QUFHTjs7QUFERTtFQUNJLFlBQUE7QUFJTjs7QUFGRTtFQUNJLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUFLTjs7QUFGRTtFQUNFLGVBQUE7RUFDQSxvQkFBQTtBQUtKOztBQUZFOztFQUVFLGVBQUE7QUFLSjs7QUFGRTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBS047O0FBSE07RUFDRSxrQkFBQTtFQUNBLHFCQUFBO0VBRUEsV0FBQTtBQUtSIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmljb257XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyOHB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBwYWRkaW5nOjJweDtcbiAgfVxuICAud2lkdGh7XG4gICAgZm9udC1zaXplOiAyNnB4O1xuICB9XG5cbiAuY29udGFpbmVyIGlvbi1pdGVtIHtcbiAgICAgIHdpZHRoOiA5MCU7XG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgIHBhZGRpbmc6IGF1dG87XG4gIH1cbiAgI2ltZ3tcbiAgICAgIHdpZHRoOiA2MCU7XG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgIHBhZGRpbmc6IGF1dG87XG4gIH1cbiAgLmZvcmdvdHtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgfVxuICAuZm9yZ290IGlvbi1sYWJlbHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjYzhjOGM4O1xuICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgfVxuXG4gIHNlY3Rpb24ge1xuICAgIG1hcmdpbi10b3A6IDFlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAyLjVlbTtcbiAgfVxuXG4gIHNlY3Rpb246bm90KC5mdWxsLXdpZHRoKSxcbiAgLmZ1bGwtd2lkdGggPiBoZWFkZXIge1xuICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgfVxuXG4gICNzaWdudXB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbi10b3A6IDUwcHg7XG4gICAgICB9XG4gICAgICAubXktY3VzdG9tLWNsYXNzIHtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjMjIyO1xuICAgICAgICAtLXNwaW5uZXItY29sb3I6ICNmZmY7XG4gICAgICBcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB9Il19 */\";"],"sourceRoot":"webpack:///"}