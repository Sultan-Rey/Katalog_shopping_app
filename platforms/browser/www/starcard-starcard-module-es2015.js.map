{"version":3,"sources":["./src/app/starcard/starcard.page.ts","./src/app/starcard/starcard.page.scss","./src/app/starcard/starcard.page.html","./src/app/firestore-data.service.ts","./src/app/starcard/starcard.module.ts","./src/app/starcard/starcard-routing.module.ts"],"names":[],"mappings":"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","file":"starcard-starcard-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Reedeem, StarCard, Transactions } from 'src/models/starcard';\nimport { Observable} from 'rxjs';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { isNullOrUndefined } from 'util';\nimport {Storage} from '@ionic/storage';\nimport { Paymethod } from 'src/models/paymethod';\nimport * as firebase from 'firebase';\nimport { FirestoreDataService } from '../firestore-data.service';\n\n@Component({\n  selector: 'app-starcard',\n  templateUrl: './starcard.page.html',\n  styleUrls: ['./starcard.page.scss'],\n})\nexport class StarcardPage implements OnInit {\n\n  connected: boolean;\n  isRegistred: boolean;\n  cardCollection: AngularFirestoreCollection<StarCard>;\n  obcard: Observable<StarCard[]>;\n  card: StarCard[];\n  paymentMethod: Paymethod[];\n  defaultMethod: Paymethod;\n  devise = ['USD','HTG'];\n  starReedemUSD = ['20','50','100','200','250','500'];\n  starReedemHTG = ['250','500','750','1000','5000','10.000'];\n  tagDefaultColor = Array(this.devise.length).fill(\"medium\");\n  slidersOpts = {\n    loop: true,\n    slidesPerView: 2,\n  };\n  starcard: StarCard;\n  constructor(private afirestore: AngularFirestore, private alertcontroller:AlertController,\n   private storage:Storage, private loadingcontroller: LoadingController, private fireAuth: AngularFireAuth, private fsdataService: FirestoreDataService) {\n      this.starcard = {} as StarCard;\n      this.starcard.transactions = [];\n      this.starcard.reedem = [];\n      this.paymentMethod = []; \n   }\n   \n\n  ngOnInit() {\n    this.fireAuth.authState.subscribe(auth=>{\n      if (!auth.emailVerified){\n        this.connected = false;\n      }else {\n        this.connected = true;\n        this.getCardAccount();\n      }\n    });\n  }\n\n\n  getPaymethod(){\n    \n    this.storage.get(\"paymethod\").then((data:Paymethod[])=>{\n        this.paymentMethod= data;\n        if(this.paymentMethod.length!==0 && this.paymentMethod!==null){\n          this.paymentMethod.forEach(method=>{\n            if(method.default == true){\n              this.defaultMethod = method;\n            }\n          })\n        }\n    }).catch(err=>{\n      console.log(\"cart not found or empty\");\n    });\n   \n  }\n  \n  async refill(devise: string, amount: string){\n    this.getPaymethod();\n    if(devise == 'USD'){\n        let paypal = this.paymentMethod.find((paymethod)=>paymethod.method=='PayPal' && paymethod.default==true);\n        let mc = this.paymentMethod.find((paymethod)=>paymethod.method=='MasterCard'&& paymethod.default==true);\n        if(!isNullOrUndefined(paypal)){\n        \n        }else if(!isNullOrUndefined(mc)){\n\n        }else{\n          const alert = await this.alertcontroller.create({\n            cssClass: 'my-custom-class',\n            header: 'Alert',\n            subHeader: 'Subtitle',\n            message: 'No default payment method available.',\n            buttons: ['Ok']\n          });\n          await alert.present();\n        }\n    }\n    if(devise == 'HTG'){\n\n    }\n  }\n\n  crypto(){\n    let _character=['*','C',')','#','&','!','?','%','@','^',':','D','?'];\n    let sequence:number = Math.floor(Math.random()*100);\n    let index:number= Math.floor(Math.random() * 12);\n    let encryption:string = _character[index]+_character[index+1]+sequence+\"-\"+Date.now();\n    return encryption;\n  }\n  async getCardAccount(){\n    let userId = (await this.fireAuth.currentUser).uid\n    this.card = new Array();\n    this.cardCollection = this.afirestore.collection('starcard');\n    this.cardCollection.doc(userId).snapshotChanges().subscribe(card=>{\n      this.isRegistred=true;\n      this.starcard.id = card.payload.get(\"id\");\n      this.starcard.devise = card.payload.get(\"devise\");\n      this.starcard.amount = card.payload.get(\"amount\");\n      this.starcard.reedem = card.payload.get(\"reedem\");\n      this.starcard.transactions = card.payload.get(\"transactions\");\n      this.starcard.activation = card.payload.get(\"activation\");\n    }).unsubscribe();\n    \n  }\n\n  async register(card: StarCard){\n    this.cardCollection = this.afirestore.collection('starcard');\n    if(card.devise!==\"\" && card.devise!==null){\n      this.starcard.id = this.crypto();\n      this.starcard.amount = 0.00;\n      this.starcard.reedem =[]\n      this.starcard.transactions =[]\n      this.starcard.activation = true;\n      this.cardCollection.doc((await this.fireAuth.currentUser).uid).set(this.starcard).then( async ()=>{\n        const loading = await this.loadingcontroller.create({\n          cssClass: 'my-custom-class',\n          message: 'Please wait...',\n          duration: 2000\n        }).then((loaded)=>{\n          loaded.present();\n          loaded.onDidDismiss().then((dismiss)=>{\n            this.isRegistred=true;\n            console.log(dismiss);\n            let starmethod: Paymethod = {\n              id: this.starcard.id,\n              method: 'StarCard',\n              provider: 'KATALOG',\n              credential: {},\n              default: false\n            }\n            this.saveMethod(starmethod);\n            this.getCardAccount();})\n        });\n        \n      }, (rejected)=>{\n          console.log(\"reason\"+rejected);\n          this.starcard.activation = false;\n      });\n    }else{\n      const alert = await this.alertcontroller.create({\n        cssClass: 'my-custom-class',\n        header: 'Alert',\n        subHeader: 'Subtitle',\n        message: 'please select a currency before.',\n        buttons: ['Ok']\n      });\n      await alert.present();\n    }\n      }\n\n      \n\n\n      saveMethod(method: Paymethod){\n        let isAdded: boolean = false;\n       this.storage.get(\"paymethod\").then((data: Paymethod[]) => {\n         if (data === null || data.length === 0) {\n           data = [];\n           data.push(method);\n         } else {\n           for (let item of data) {\n             if (item.id === method.id) {\n             \n           item.method = method.id;\n           item.provider= method.provider;\n           item.credential.options = method.credential.options;\n           item.credential.code = method.credential.code;\n           item.credential.email = method.credential.email;\n           item.credential.phone = method.credential.phone;\n               isAdded = true;\n             }\n           }\n           if (!isAdded) {\n             data.push(method);\n           }\n         }\n       });\n      }\n \n      selected(name:string){\n        this.starcard.devise = name;\n      }\n  changeTagColor(i:number) {\n    \n    if (this.tagDefaultColor[i] === \"medium\") {\n      this.tagDefaultColor[0] = \"medium\";\n      this.tagDefaultColor[1] = \"medium\"\n      this.tagDefaultColor[i] = \"primary\"\n    } else {\n     \n      // event.target.setAttribute('color', 'secondary') this is redundant\n    }\n  }\n  \n}\n","export default \".btn-register {\\n  font-size: 12px;\\n}\\n\\nion-select {\\n  width: 120px;\\n}\\n\\n.my-custom-class {\\n  --background: #222;\\n  --spinner-color: #fff;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RhcmNhcmQvc3RhcmNhcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQUNKOztBQUNDO0VBQ0ksWUFBQTtBQUVMOztBQUFDO0VBQ0csa0JBQUE7RUFDQSxxQkFBQTtFQUVBLFdBQUE7QUFFSiIsImZpbGUiOiJzcmMvYXBwL3N0YXJjYXJkL3N0YXJjYXJkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tcmVnaXN0ZXJ7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuIH1cbiBpb24tc2VsZWN0e1xuICAgICB3aWR0aDogMTIwcHg7XG4gfVxuIC5teS1jdXN0b20tY2xhc3Mge1xuICAgIC0tYmFja2dyb3VuZDogIzIyMjtcbiAgICAtLXNwaW5uZXItY29sb3I6ICNmZmY7XG4gIFxuICAgIGNvbG9yOiAjZmZmO1xuICB9Il19 */\";","export default \"<ion-header  mode=ios>\\n  <ion-toolbar  color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n   <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons>\\n      <ion-title  class=\\\"width\\\" mode=ios >\\n        <ion-text size=\\\"LARGE\\\" color=\\\"warning\\\">\\n          K</ion-text>\\n          <ion-text color=\\\"danger\\\"><ion-icon size=\\\"LARGE\\\" name=cart></ion-icon></ion-text>\\n          <ion-text >ta</ion-text><img title=\\\"app header\\\" alt=\\\"image icon\\\" class=\\\"icon\\\" src=\\\"assets/icon/lipstick.png\\\"/><ion-text>og</ion-text>\\n        </ion-title>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n  <ion-buttons>\\n    <ion-item-divider>\\n      <ion-label>Pay faster with your starcard</ion-label>\\n    </ion-item-divider>\\n  </ion-buttons>\\n </ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"connected==false\\\" name=\\\"authentification\\\" class=\\\"ion-padding\\\">\\n    <ion-buttons>\\n      <ion-button routerLink=\\\"/login\\\" routerDirection=\\\"forward\\\" expand=\\\"block\\\">SIGN IN BEFORE USE STARCARD</ion-button>\\n    </ion-buttons>\\n  </div>\\n  <div *ngIf=\\\"connected==true\\\" name=\\\"starcard\\\" class=\\\"ion-padding\\\">\\n\\n    <div *ngIf=\\\"!starcard.activation\\\" name=\\\"starcard_activation\\\">\\n      <ion-card>\\n        <ion-item>\\n          <ion-card-title class=\\\"ion-padding\\\">STAR CARD \\n          </ion-card-title>\\n          <ion-buttons slot=\\\"end\\\">\\n            <ion-radio-group >\\n              <ion-chip [id]=\\\"child.id\\\" [color]=\\\"tagDefaultColor[i]\\\" (click)=\\\"changeTagColor(i)\\\" *ngFor=\\\"let child of devise;let i = index\\\">\\n                <ion-radio (click)=\\\"selected(child)\\\" ></ion-radio><ion-label>{{child}}</ion-label>\\n              </ion-chip>\\n            </ion-radio-group>\\n            </ion-buttons>\\n        </ion-item>\\n       \\n        <ion-card-subtitle class=\\\"ion-padding\\\">Register to STAR CARD and benefits 10% off</ion-card-subtitle>\\n        <ion-button size=\\\"small\\\" (click)=\\\"register(starcard)\\\" class=\\\"btn-register\\\" expand=\\\"block\\\" >Register Now</ion-button>\\n        <ion-card-header>STAR CARD is an original KATALOG payment method which is secure and help you to pay easily</ion-card-header>\\n        </ion-card>\\n       \\n    </div>\\n    <div *ngIf=\\\"starcard.activation && isRegistred==true\\\" name=\\\"starcard_content\\\">\\n\\n      <div class=\\\"container\\\">\\n        <ion-item>\\n          <ion-label>Star Card balance :</ion-label>\\n          <ion-badge slot=\\\"end\\\" color=\\\"medium\\\">{{starcard.amount}}</ion-badge>\\n        </ion-item>\\n      </div>\\n      <div class=\\\"container\\\">\\n        <ion-item>\\n          <ion-label>Reedem your Star Card</ion-label>\\n          <ion-chip slot=\\\"end\\\">Devise : {{starcard.devise}}</ion-chip>\\n        </ion-item>\\n        <ion-item-sliding>\\n          <ion-slides [options]=\\\"slidersOpts\\\">\\n            <ng-container *ngIf=\\\"starcard.devise=='USD'\\\">\\n              <ion-slide (click)=\\\"refill('USD',star)\\\" *ngFor=\\\"let star of starReedemUSD\\\"><ion-card>\\n                <ion-card-content>\\n                  <ion-card-title>{{star|currency}}</ion-card-title>\\n                  <ion-card-subtitle>Add {{star|currency}} to your star card</ion-card-subtitle>\\n                </ion-card-content>\\n                </ion-card></ion-slide>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"starcard.devise=='HTG'\\\">\\n              <ion-slide *ngFor=\\\"let star of starReedemHTG\\\"><ion-card>\\n                <ion-card-content>\\n                  <ion-card-title>{{star}} gdes</ion-card-title>\\n                  <ion-card-subtitle>Add {{star}} gdes to your star card</ion-card-subtitle>\\n                </ion-card-content>\\n                </ion-card></ion-slide>\\n            </ng-container>\\n          \\n    \\n          </ion-slides>\\n        </ion-item-sliding>\\n      </div>\\n    \\n      <div class=\\\"container\\\">\\n        <ion-list>\\n          <ion-item><ion-label>Reedem Historic</ion-label></ion-item>\\n          <ion-row>\\n            <ion-col size=\\\"7\\\"><b>Amount</b></ion-col>\\n            <ion-col ><b>purchased date</b></ion-col>\\n          </ion-row>\\n          <ion-row *ngFor=\\\"let reedem of starcard.reedem\\\">\\n            <ion-col size=\\\"7\\\"><ion-label>{{reedem.amount}}</ion-label></ion-col>\\n            <ion-col ><ion-label>{{reedem.date|date}}</ion-label></ion-col>\\n          </ion-row>\\n          <ion-item><ion-label>Total Refilling</ion-label>\\n                    <ion-badge slot=\\\"end\\\">0.00$</ion-badge>\\n          </ion-item>\\n        </ion-list>\\n        \\n      </div>\\n    \\n      <div class=\\\"container\\\">\\n        <ion-list>\\n          <ion-item><ion-label>Transactions</ion-label></ion-item>\\n          <ion-row >\\n            <ion-col size=\\\"4\\\"><b>Order Id</b></ion-col>\\n            <ion-col size=\\\"4\\\"><b>Amount</b></ion-col>\\n            <ion-col ><b>Transaction date</b></ion-col>\\n          </ion-row>\\n          <ion-row *ngFor=\\\"let transac of starcard.transactions\\\">\\n            <ion-col size=\\\"4\\\"><ion-label> {{transac.orderId}} </ion-label></ion-col>\\n            <ion-col size=\\\"4\\\"><ion-label>{{transac.amount}}</ion-label></ion-col>\\n            <ion-col ><ion-label>{{transac.date|date}}</ion-label></ion-col>\\n          </ion-row>\\n          <ion-item><ion-label>Total Transactions</ion-label>\\n                    <ion-badge slot=\\\"end\\\">0.00$</ion-badge>\\n          </ion-item>\\n        </ion-list>\\n      </div>\\n    </div>\\n\\n  </div>\\n  \\n \\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar class=\\\"footer\\\">\\n    <ion-row round>\\n      <ion-col offset-1 col-10 routerLink=\\\"/home\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"home-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n        <h4>Home</h4>\\n       </div>  \\n    </ion-col>\\n      <ion-col offset-1 col-10 routerLink=\\\"/cart\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"cart-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n          <h4>Cart</h4>\\n         </div> \\n      </ion-col>\\n      <ion-col offset-1 col-10 routerLink=\\\"/profil\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"person-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n          <h4>Profil</h4>\\n         </div> \\n      </ion-col>\\n      <ion-col offset-1 col-10 routerLink=\\\"/order\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"cube-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n          <h4>Order...</h4>\\n         </div> \\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\";","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Product} from '../models/product';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument, DocumentData, DocumentReference} from '@angular/fire/firestore';\nimport { Observable} from 'rxjs';\nimport { Order } from 'src/models/order';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { Message } from 'src/models/message';\nimport { HomeDesign } from 'src/models/homeDesign';\nimport { Storage } from '@ionic/storage';\nimport { Categories } from 'src/models/category';\nimport { Brands } from 'src/models/brands';\nimport { Slides } from 'src/models/slides';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreDataService {\n\n  productCollection: AngularFirestoreCollection<Product>;\n  categoriesCollection: AngularFirestoreCollection<Categories>;\n  brandsCollection: AngularFirestoreCollection<Brands>;\n  slidesDocument: AngularFirestoreDocument<Slides>;\n  ordersCollection: AngularFirestoreCollection<Order>;\n  usersCollection: AngularFirestoreCollection<User>;\n  msgCollection: AngularFirestoreCollection<Message>;\n  homeCollection: AngularFirestoreCollection<HomeDesign>;\n  message: Observable<DocumentData[]>;\n  product: Observable<Product[]>;\n  category: Observable<Categories[]>\n  brand: Observable<Brands[]>\n  user: Observable<User[]>;\n  slides: Observable<Slides>;\n  homeDesign: Observable<HomeDesign[]>;\n  orderData: Observable<Order[]>;\n  msg: Message[];\n  items: Product[];\n  app_user: User[];\n  items_ordered: Order[];\n  userId: string='';\n  connected: boolean;\n  constructor( private afs: AngularFirestore, private afAuth: AngularFireAuth, private storage: Storage) { }\n\n  getAuthState(){\n    this.afAuth.authState.subscribe(auth => {\n      if (!auth) {\n        this.connected = false;\n      } else {\n        this.connected = true;\n      }\n    });\n    return this.connected;\n  }\n  \n  getConnexionState(){\n    return globalThis.navigator.onLine;\n  }\n\n  getMainSlides(){\n    this.slidesDocument = this.afs.collection('homepane').doc('d0pWnLNzch6ACeFKJmrj');\n    this.slides = this.slidesDocument.valueChanges();\n    return this.slides; \n  }\n\n  getCategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\",\"asc\").limit(4));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n  getAllcategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\"));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n\n  getBrands(){\n    this.brandsCollection = this.afs.collection('brands', q=>q.orderBy(\"date_added\",\"asc\").limit(4));\n    this.brand = this.brandsCollection.valueChanges();\n    return this.brand; \n  }\n\n  getbyPromotion(promo: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"display.position\",\"==\",promo));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n   getFirestoreData(){\n    this.items = new Array();\n    this.productCollection = this.afs.collection('product');\n    this.product = this.productCollection.valueChanges();\n   \n    /*\n    * Product subscription for uploading\n    */\n\n   this.product.subscribe(observer => {\n   \n      observer.forEach(e => {\n     \n\n        this.items.push({\n          code: e.code,\n          name: e.name,\n          description: e.description,\n          brand: e.brand,\n          rating: e.rating,\n          category: e.category,\n          qty: e.qty,\n          deliveryDate: e.deliveryDate,\n          shipment: e.shipment,\n          policy: e.policy,\n          shippingFee: e.shippingFee,\n          deliveryFee: e.deliveryFee,\n          taxFee:e.taxFee,\n          about: e.about,\n          models: e.models,\n          caracteristic: e.caracteristic,\n          status: e.status,\n          availability: e.availability,\n          display: e.display\n        });\n        \n      \n          \n\n      });\n\n    }); \n\n    return this.items;\n  }\n\n  getProducts(){\n    this.productCollection = this.afs.collection('product',q=>q.orderBy('creation_date','desc'));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n  getHomeDesign(){\n    this.homeCollection = this.afs.collection('homepane', q=>q.orderBy(\"range\",\"asc\"));\n    this.homeDesign = this.homeCollection.valueChanges();\n    return this.homeDesign;\n  }\n\n  filterByCategory(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"category\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterByBrand(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"brand\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterBySearchQueries(query: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",query).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n /*  getOrderAsadmin(){\n    this.items_ordered = new Array();\n    this.ordersCollection = this.afs.collection('orders');\n    this.orderData = this.ordersCollection.doc().collection(\"customer_order\").valueChanges();\n    this.orderData.subscribe(observer=>{\n      \n      observer.forEach(e => {\n       \n        this.items_ordered.push({\n              orderId: e.orderId,\n              items: e.items,\n              date_order: e.date_order,\n              order_qty: e.order_qty,\n              amount: e.amount,\n              shipment: e.shipment\n        });\n\n    });\n    });\n    return this.items_ordered;\n  } */\n   getFirestoreOrder(){\n       \n        this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",this.userId));\n        this.orderData = this.ordersCollection.valueChanges();\n     return this.orderData;\n\n  }\n  getOrder(param:string){\n       \n    this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",param));\n    this.orderData = this.ordersCollection.valueChanges();\n return this.orderData;\n}\n\n  getUsers(){\n    this.usersCollection = this.afs.collection('user');\n    this.user = this.usersCollection.valueChanges();\n   return this.user;\n  }\n\nasync getMessage(){\n  let boxOwner = (await this.afAuth.currentUser).uid;\n  this.msg = new Array();\n  this.msgCollection = this.afs.collection('message');\n  this.message = this.msgCollection.doc(boxOwner).collection('update').valueChanges();\n  this.message.subscribe(observer => {\n    observer.forEach(e => {\n        this.msg.push({\n          author: e.author,\n          destination: e.destination,\n          object: e.object,\n          content: e.content,\n          date_msg: e.date_msg\n      });\n\n    });\n\n  }); \n  return this.msg;\n}\n\nremoveProduct(item:any){\n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n  this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.delete();\n    })\n  })\n}\n\neditProduct(item:any){\n \n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n return this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.update(item)\n    })\n  })\n \n}\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StarcardPageRoutingModule } from './starcard-routing.module';\n\nimport { StarcardPage } from './starcard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StarcardPageRoutingModule\n  ],\n  declarations: [StarcardPage]\n})\nexport class StarcardPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StarcardPage } from './starcard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StarcardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StarcardPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}