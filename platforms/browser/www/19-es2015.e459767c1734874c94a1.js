(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{X3zk:function(t,n,o){"use strict";o.r(n),o.d(n,"LoginPageModule",(function(){return p}));var i=o("ofXK"),e=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),s=o("mrSG"),c=o("MCLT"),b=o("fXoL"),d=o("e8h1"),l=o("UbJi"),g=o("I/3d");const u=[{path:"",component:(()=>{class t{constructor(t,n,o,i,e,r,a){this.route=t,this.router=n,this.storage=o,this.afAuth=i,this.loadingcontroller=e,this.alertcontroller=r,this.afirestore=a,this.dataUser={mail:"",password:""}}ngOnInit(){this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.data=this.router.getCurrentNavigation().extras.state.order,this.returnway=this.router.getCurrentNavigation().extras.state.route)})}login(t){return Object(s.a)(this,void 0,void 0,(function*(){yield this.loadingcontroller.create({cssClass:"my-custom-class",message:"Please wait...",duration:5e3}).then(n=>Object(s.a)(this,void 0,void 0,(function*(){n.present(),this.afAuth.signInWithEmailAndPassword(t.mail.trim(),t.password.trim()).then(()=>Object(s.a)(this,void 0,void 0,(function*(){if(this.dataUser={mail:"",password:""},(yield this.afAuth.currentUser).emailVerified){this.storage.set("user",(yield this.afAuth.currentUser).uid.toString());const t={state:{order:this.data}};n.dismiss(),Object(c.isNullOrUndefined)(this.data)?this.router.navigate(["/home"]):this.router.navigate(["/place-order"],t)}}))).catch(t=>{n.dismiss(t,"alert")}),n.onWillDismiss().then(t=>Object(s.a)(this,void 0,void 0,(function*(){if("alert"==t.role){const n=yield this.alertcontroller.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Network Error",message:"Login failed"+t.data,buttons:["Ok"]});yield n.present()}})))})))}))}toSignUp(){this.router.navigate(["/signup"],{state:{order:this.data}})}}return t.\u0275fac=function(n){return new(n||t)(b.Ib(a.a),b.Ib(a.g),b.Ib(d.b),b.Ib(l.a),b.Ib(r.ab),b.Ib(r.a),b.Ib(g.a))},t.\u0275cmp=b.Cb({type:t,selectors:[["app-login"]],decls:37,vars:2,consts:[[2,"--background","#031432"],["slot","start"],["color","light"],["routerLink","/home","routerDirection","back"],[1,"width"],["size","LARGE","color","warning"],["color","danger"],["size","LARGE","name","cart"],[1,"container",2,"padding-top","50px"],[1,"container","p-4"],[1,"ion-padding"],["src","../../assets/icon/katalog_round_icon.PNG",2,"width","100px","height","100px","margin","auto"],["slot","start","name","person"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["slot","start","name","lock-closed"],["type","password",3,"ngModel","ngModelChange"],["expand","block",3,"click"],[1,"forgot"],["id","signup"],["color","primary",3,"click"]],template:function(t,n){1&t&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar",0),b.Nb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Mb(),b.Nb(4,"ion-buttons",3),b.Nb(5,"ion-title",4),b.Nb(6,"ion-text",5),b.pc(7," K"),b.Mb(),b.Nb(8,"ion-text",6),b.Jb(9,"ion-icon",7),b.Mb(),b.Nb(10,"ion-text",2),b.pc(11,"TALOG"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(12,"ion-content"),b.Nb(13,"div",8),b.Nb(14,"ion-card",9),b.Nb(15,"ion-title",10),b.Jb(16,"ion-img",11),b.Mb(),b.Nb(17,"ion-item"),b.Jb(18,"ion-icon",12),b.Nb(19,"ion-label",13),b.pc(20,"Email or number phone"),b.Mb(),b.Nb(21,"ion-input",14),b.Vb("ngModelChange",(function(t){return n.dataUser.mail=t})),b.Mb(),b.Mb(),b.Nb(22,"ion-item"),b.Jb(23,"ion-icon",15),b.Nb(24,"ion-label",13),b.pc(25,"Password"),b.Mb(),b.Nb(26,"ion-input",16),b.Vb("ngModelChange",(function(t){return n.dataUser.password=t})),b.Mb(),b.Mb(),b.Nb(27,"section"),b.Nb(28,"ion-button",17),b.Vb("click",(function(){return n.login(n.dataUser)})),b.pc(29,"Connexion"),b.Mb(),b.Nb(30,"div",18),b.Nb(31,"ion-text"),b.Nb(32,"ion-label"),b.pc(33,"Password forgot?"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(34,"div",19),b.Nb(35,"ion-label",20),b.Vb("click",(function(){return n.toSignUp()})),b.pc(36,"I don't have account, signup for free"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&t&&(b.yb(21),b.cc("ngModel",n.dataUser.mail),b.yb(5),b.cc("ngModel",n.dataUser.password))},directives:[r.u,r.X,r.h,r.d,r.e,r.gb,a.h,r.W,r.T,r.v,r.q,r.i,r.w,r.y,r.C,r.x,r.ib,e.i,e.l,r.g],styles:[".icon[_ngcontent-%COMP%]{width:20px;height:28px;border:none;padding:2px}.width[_ngcontent-%COMP%]{font-size:26px}.container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:90%}#img[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding:auto}#img[_ngcontent-%COMP%]{width:60%}.forgot[_ngcontent-%COMP%]{float:right}.forgot[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px;color:#c8c8c8;margin-top:10px}section[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:2.5em}.full-width[_ngcontent-%COMP%] > header[_ngcontent-%COMP%], section[_ngcontent-%COMP%]:not(.full-width){padding:0 10px}#signup[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:50px}.my-custom-class[_ngcontent-%COMP%]{--background:#222;--spinner-color:#fff;color:#fff}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(n){return new(n||t)},imports:[[a.i.forChild(u)],a.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(n){return new(n||t)},imports:[[i.c,e.f,r.Y,h]]}),t})()}}]);