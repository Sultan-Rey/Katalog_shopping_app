{"version":3,"sources":["./node_modules/typescript-collections/dist/lib/util.js","./node_modules/@google-pay/button-angular/__ivy_ngcc__/fesm2015/google-pay-button-angular.js","./src/app/place-order/place-order.page.scss","./src/app/place-order/place-order.page.ts","./src/app/place-order/place-order.module.ts","./src/app/place-order/place-order-routing.module.ts","./src/app/place-order/place-order.page.html"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;AC5IA;AAAA;AAAA;AAAA;AAAuE;;AAEvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,IAAI;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2BAA2B,gDAAgD;AACjI;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iDAAiD,GAAG,wEAAwE;AAC5K;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yBAAyB;AACrC;AACA;AACA,YAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,yFAAyF,QAAQ;AACjG,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,KAAK;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,8EAA8E,4CAA4C,+DAAwB,CAAC,wDAAiB,GAAG;AACvK,gCAAgC,+DAAwB,EAAE,8EAA8E,mjBAAmjB,aAAa,kEAA2B,GAAG;AACtuB;AACA,KAAK,OAAO,wDAAU;AACtB;AACA;AACA,sBAAsB,OAAO,mDAAK,EAAE;AACpC,mBAAmB,OAAO,mDAAK,EAAE;AACjC,qCAAqC,OAAO,mDAAK,EAAE;AACnD,mBAAmB,OAAO,mDAAK,EAAE;AACjC,kBAAkB,OAAO,mDAAK,EAAE;AAChC,sBAAsB,OAAO,mDAAK,EAAE;AACpC,oBAAoB,OAAO,mDAAK,EAAE;AAClC,kCAAkC,OAAO,mDAAK,EAAE;AAChD,iCAAiC,OAAO,mDAAK,EAAE;AAC/C,gCAAgC,OAAO,mDAAK,EAAE;AAC9C,+BAA+B,OAAO,mDAAK,EAAE;AAC7C,sBAAsB,OAAO,mDAAK,EAAE;AACpC,qBAAqB,OAAO,mDAAK,EAAE;AACnC,qBAAqB,OAAO,mDAAK,EAAE;AACnC;AACA,4BAA4B,CAAC,+DAAwB;AA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","file":"place-order-place-order-module-es2015.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nexports.has = function (obj, prop) {\n    return _hasOwnProperty.call(obj, prop);\n};\n/**\n * Default function to compare element order.\n * @function\n */\nfunction defaultCompare(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    else if (a === b) {\n        return 0;\n    }\n    else {\n        return 1;\n    }\n}\nexports.defaultCompare = defaultCompare;\n/**\n * Default function to test equality.\n * @function\n */\nfunction defaultEquals(a, b) {\n    return a === b;\n}\nexports.defaultEquals = defaultEquals;\n/**\n * Default function to convert an object to a string.\n * @function\n */\nfunction defaultToString(item) {\n    if (item === null) {\n        return 'COLLECTION_NULL';\n    }\n    else if (isUndefined(item)) {\n        return 'COLLECTION_UNDEFINED';\n    }\n    else if (isString(item)) {\n        return '$s' + item;\n    }\n    else {\n        return '$o' + item.toString();\n    }\n}\nexports.defaultToString = defaultToString;\n/**\n * Joins all the properies of the object using the provided join string\n */\nfunction makeString(item, join) {\n    if (join === void 0) { join = ','; }\n    if (item === null) {\n        return 'COLLECTION_NULL';\n    }\n    else if (isUndefined(item)) {\n        return 'COLLECTION_UNDEFINED';\n    }\n    else if (isString(item)) {\n        return item.toString();\n    }\n    else {\n        var toret = '{';\n        var first = true;\n        for (var prop in item) {\n            if (exports.has(item, prop)) {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    toret = toret + join;\n                }\n                toret = toret + prop + ':' + item[prop];\n            }\n        }\n        return toret + '}';\n    }\n}\nexports.makeString = makeString;\n/**\n * Checks if the given argument is a function.\n * @function\n */\nfunction isFunction(func) {\n    return (typeof func) === 'function';\n}\nexports.isFunction = isFunction;\n/**\n * Checks if the given argument is undefined.\n * @function\n */\nfunction isUndefined(obj) {\n    return (typeof obj) === 'undefined';\n}\nexports.isUndefined = isUndefined;\n/**\n * Checks if the given argument is a string.\n * @function\n */\nfunction isString(obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n}\nexports.isString = isString;\n/**\n * Reverses a compare function.\n * @function\n */\nfunction reverseCompareFunction(compareFunction) {\n    if (isUndefined(compareFunction) || !isFunction(compareFunction)) {\n        return function (a, b) {\n            if (a < b) {\n                return 1;\n            }\n            else if (a === b) {\n                return 0;\n            }\n            else {\n                return -1;\n            }\n        };\n    }\n    else {\n        return function (d, v) {\n            return compareFunction(d, v) * -1;\n        };\n    }\n}\nexports.reverseCompareFunction = reverseCompareFunction;\n/**\n * Returns an equal function given a compare function.\n * @function\n */\nfunction compareToEquals(compareFunction) {\n    return function (a, b) {\n        return compareFunction(a, b) === 0;\n    };\n}\nexports.compareToEquals = compareToEquals;\n//# sourceMappingURL=util.js.map","import { Directive, ElementRef, Input, NgModule } from '@angular/core';\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Keeps track scripts that have been requested by loadScript.\n */\nimport * as ɵngcc0 from '@angular/core';\nlet cachedScripts = {};\n/**\n * Asynchronously loads a script keeping track of which scripts have already\n * requested and loaded.\n *\n * Multiple requests to the same resource will return the same promise.\n *\n * @param src Script URL to load\n */\nfunction loadScript(src) {\n    const existing = cachedScripts[src];\n    if (existing) {\n        return existing;\n    }\n    const promise = new Promise((resolve, reject) => {\n        // Create script\n        const script = document.createElement('script');\n        script.src = src;\n        script.async = true;\n        // Script event listener callbacks for load and error\n        const onScriptLoad = () => {\n            resolve();\n        };\n        const onScriptError = () => {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            cleanup();\n            // Remove from cachedScripts so that we can try loading again\n            delete cachedScripts[src];\n            script.remove();\n            reject(new Error(`Unable to load script ${src}`));\n        };\n        script.addEventListener('load', onScriptLoad);\n        script.addEventListener('error', onScriptError);\n        // Add script to document body\n        document.body.appendChild(script);\n        // Remove event listeners on cleanup\n        function cleanup() {\n            script.removeEventListener('load', onScriptLoad);\n            script.removeEventListener('error', onScriptError);\n        }\n    });\n    cachedScripts[src] = promise;\n    return promise;\n}\n/**\n * Clears the script cache. Used for testing purposes only.\n */\nfunction clearScriptCache() {\n    cachedScripts = {};\n}\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Manages the lifecycle of the Google Pay button.\n *\n * Includes lifecycle management of the `PaymentsClient` instance,\n * `isReadyToPay`, `onClick`, `loadPaymentData`, and other callback methods.\n */\nclass ButtonManager {\n    constructor(options) {\n        /**\n         * Handles the click event of the Google Pay button.\n         *\n         * This method would normally be private but has been made public for\n         * testing purposes.\n         *\n         * @private\n         */\n        this.handleClick = (event) => __awaiter(this, void 0, void 0, function* () {\n            const config = this.config;\n            if (!config) {\n                throw new Error('google-pay-button: Missing configuration');\n            }\n            const request = this.createLoadPaymentDataRequest(config);\n            try {\n                if (config.onClick) {\n                    config.onClick(event);\n                }\n                if (event.defaultPrevented) {\n                    return;\n                }\n                const result = yield this.client.loadPaymentData(request);\n                if (config.onLoadPaymentData) {\n                    config.onLoadPaymentData(result);\n                }\n            }\n            catch (err) {\n                if (err.statusCode === 'CANCELED') {\n                    if (config.onCancel) {\n                        config.onCancel(err);\n                    }\n                }\n                else if (config.onError) {\n                    config.onError(err);\n                }\n                else {\n                    console.error(err);\n                }\n            }\n        });\n        this.options = options;\n    }\n    getElement() {\n        return this.element;\n    }\n    isGooglePayLoaded() {\n        var _a, _b;\n        return 'google' in (window || global) && !!((_b = (_a = google === null || google === void 0 ? void 0 : google.payments) === null || _a === void 0 ? void 0 : _a.api) === null || _b === void 0 ? void 0 : _b.PaymentsClient);\n    }\n    mount(element) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isGooglePayLoaded()) {\n                yield loadScript('https://pay.google.com/gp/p/js/pay.js');\n            }\n            this.element = element;\n            if (element) {\n                this.appendStyles();\n                if (this.config) {\n                    this.updateElement();\n                }\n            }\n        });\n    }\n    unmount() {\n        this.element = undefined;\n    }\n    configure(newConfig) {\n        let promise = undefined;\n        this.config = newConfig;\n        if (!this.oldInvalidationValues || this.isClientInvalidated(newConfig)) {\n            promise = this.updateElement();\n        }\n        this.oldInvalidationValues = this.getInvalidationValues(newConfig);\n        return promise !== null && promise !== void 0 ? promise : Promise.resolve();\n    }\n    /**\n     * Creates client configuration options based on button configuration\n     * options.\n     *\n     * This method would normally be private but has been made public for\n     * testing purposes.\n     *\n     * @private\n     */\n    createClientOptions(config) {\n        const clientConfig = {\n            environment: config.environment,\n            merchantInfo: this.createMerchantInfo(config),\n        };\n        if (config.onPaymentDataChanged || config.onPaymentAuthorized) {\n            clientConfig.paymentDataCallbacks = {};\n            if (config.onPaymentDataChanged) {\n                // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n                clientConfig.paymentDataCallbacks.onPaymentDataChanged = paymentData => {\n                    const result = config.onPaymentDataChanged(paymentData);\n                    return result || {};\n                };\n            }\n            if (config.onPaymentAuthorized) {\n                // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n                clientConfig.paymentDataCallbacks.onPaymentAuthorized = paymentData => {\n                    const result = config.onPaymentAuthorized(paymentData);\n                    return result || {};\n                };\n            }\n        }\n        return clientConfig;\n    }\n    createIsReadyToPayRequest(config) {\n        const paymentRequest = config.paymentRequest;\n        const request = {\n            apiVersion: paymentRequest.apiVersion,\n            apiVersionMinor: paymentRequest.apiVersionMinor,\n            allowedPaymentMethods: paymentRequest.allowedPaymentMethods,\n            existingPaymentMethodRequired: config.existingPaymentMethodRequired,\n        };\n        return request;\n    }\n    /**\n     * Constructs `loadPaymentData` request object based on button configuration.\n     *\n     * It infers request properties like `shippingAddressRequired`,\n     * `shippingOptionRequired`, and `billingAddressRequired` if not already set\n     * based on the presence of their associated options and parameters. It also\n     * infers `callbackIntents` based on the callback methods defined in button\n     * configuration.\n     *\n     * This method would normally be private but has been made public for\n     * testing purposes.\n     *\n     * @private\n     */\n    createLoadPaymentDataRequest(config) {\n        const request = Object.assign(Object.assign({}, config.paymentRequest), { merchantInfo: this.createMerchantInfo(config) });\n        // TODO: #13 re-enable inferrence if/when we agree as a team\n        return request;\n    }\n    createMerchantInfo(config) {\n        const merchantInfo = Object.assign({}, config.paymentRequest.merchantInfo);\n        // apply softwareInfo if not set\n        if (!merchantInfo.softwareInfo) {\n            merchantInfo.softwareInfo = {\n                id: this.options.softwareInfoId,\n                version: this.options.softwareInfoVersion,\n            };\n        }\n        return merchantInfo;\n    }\n    isMounted() {\n        return this.element != null && this.element.isConnected !== false;\n    }\n    removeButton() {\n        if (this.element instanceof ShadowRoot || this.element instanceof Element) {\n            for (const child of Array.from(this.element.children)) {\n                if (child.tagName !== 'STYLE') {\n                    child.remove();\n                }\n            }\n        }\n    }\n    updateElement() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isMounted())\n                return;\n            const element = this.getElement();\n            if (!this.config) {\n                throw new Error('google-pay-button: Missing configuration');\n            }\n            // remove existing button\n            this.removeButton();\n            this.client = new google.payments.api.PaymentsClient(this.createClientOptions(this.config));\n            const buttonOptions = {\n                buttonType: this.config.buttonType,\n                buttonColor: this.config.buttonColor,\n                buttonSizeMode: this.config.buttonSizeMode,\n                buttonLocale: this.config.buttonLocale,\n                onClick: this.handleClick,\n                allowedPaymentMethods: this.config.paymentRequest.allowedPaymentMethods,\n            };\n            const rootNode = element.getRootNode();\n            if (rootNode instanceof ShadowRoot) {\n                buttonOptions.buttonRootNode = rootNode;\n            }\n            // pre-create button\n            const button = this.client.createButton(buttonOptions);\n            this.setClassName(element, [element.className, 'not-ready']);\n            element.appendChild(button);\n            let showButton = false;\n            let readyToPay;\n            try {\n                readyToPay = yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config));\n                showButton =\n                    (readyToPay.result && !this.config.existingPaymentMethodRequired)\n                        || (readyToPay.result && readyToPay.paymentMethodPresent && this.config.existingPaymentMethodRequired)\n                        || false;\n            }\n            catch (err) {\n                if (this.config.onError) {\n                    this.config.onError(err);\n                }\n                else {\n                    console.error(err);\n                }\n            }\n            if (!this.isMounted())\n                return;\n            if (showButton) {\n                try {\n                    this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config));\n                }\n                catch (err) {\n                    console.log('Error with prefetch', err);\n                }\n                // remove hidden className\n                this.setClassName(element, (element.className || '').split(' ').filter(className => className && className !== 'not-ready'));\n            }\n            if (this.isReadyToPay !== (readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.result) || this.paymentMethodPresent !== (readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.paymentMethodPresent)) {\n                this.isReadyToPay = !!(readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.result);\n                this.paymentMethodPresent = readyToPay === null || readyToPay === void 0 ? void 0 : readyToPay.paymentMethodPresent;\n                if (this.config.onReadyToPayChange) {\n                    const readyToPayResponse = {\n                        isButtonVisible: showButton,\n                        isReadyToPay: this.isReadyToPay,\n                    };\n                    if (this.paymentMethodPresent) {\n                        readyToPayResponse.paymentMethodPresent = this.paymentMethodPresent;\n                    }\n                    this.config.onReadyToPayChange(readyToPayResponse);\n                }\n            }\n        });\n    }\n    setClassName(element, classNames) {\n        const className = classNames.filter(name => name).join(' ');\n        if (className) {\n            element.className = className;\n        }\n        else {\n            element.removeAttribute('class');\n        }\n    }\n    appendStyles() {\n        var _a, _b, _c;\n        if (typeof document === 'undefined')\n            return;\n        const rootNode = (_a = this.element) === null || _a === void 0 ? void 0 : _a.getRootNode();\n        const styleId = `default-google-style-${this.options.cssSelector.replace(/[^\\w-]+/g, '')}-${(_b = this.config) === null || _b === void 0 ? void 0 : _b.buttonLocale}`;\n        // initialize styles if rendering on the client:\n        if (rootNode) {\n            if (!((_c = rootNode.getElementById) === null || _c === void 0 ? void 0 : _c.call(rootNode, styleId))) {\n                const style = document.createElement('style');\n                style.id = styleId;\n                style.type = 'text/css';\n                style.innerHTML = `\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `;\n                if (rootNode instanceof Document && rootNode.head) {\n                    rootNode.head.appendChild(style);\n                }\n                else {\n                    rootNode.appendChild(style);\n                }\n            }\n        }\n    }\n    isClientInvalidated(newConfig) {\n        if (!this.oldInvalidationValues)\n            return true;\n        const newValues = this.getInvalidationValues(newConfig);\n        return newValues.some((value, index) => value !== this.oldInvalidationValues[index]);\n    }\n    getInvalidationValues(config) {\n        var _a, _b;\n        return [\n            config.environment,\n            config.existingPaymentMethodRequired,\n            !!config.onPaymentDataChanged,\n            !!config.onPaymentAuthorized,\n            config.buttonColor,\n            config.buttonType,\n            config.buttonLocale,\n            config.buttonSizeMode,\n            config.paymentRequest.merchantInfo.merchantId,\n            config.paymentRequest.merchantInfo.merchantName,\n            (_a = config.paymentRequest.merchantInfo.softwareInfo) === null || _a === void 0 ? void 0 : _a.id,\n            (_b = config.paymentRequest.merchantInfo.softwareInfo) === null || _b === void 0 ? void 0 : _b.version,\n            config.paymentRequest.allowedPaymentMethods,\n        ];\n    }\n}\n\nvar name = \"@google-pay/button-angular\";\nvar version = \"3.0.0\";\nvar description = \"Angular component for Google Pay button\";\nvar main = \"dist/index.js\";\nvar repository = {\n\ttype: \"git\",\n\turl: \"https://github.com/google-pay/google-pay-button\",\n\tdirectory: \"src/button-angular\"\n};\nvar homepage = \"https://github.com/google-pay/google-pay-button/tree/main/src/button-angular#readme\";\nvar engines = {\n\tnode: \">=8.0.0\"\n};\nvar author = \"socsieng@google.com\";\nvar license = \"Apache-2.0\";\nvar scripts = {\n\tbuild: \"ng build --configuration production\"\n};\nvar dependencies = {\n\t\"@types/googlepay\": \"^0.6.3\"\n};\nvar peerDependencies = {\n\t\"@angular/core\": \">=8.0.0\",\n\t\"@types/googlepay\": \"^0.6.3\"\n};\nvar files = [\n\t\"dist/*\",\n\t\"bundles/*\",\n\t\"ems2015/*\",\n\t\"fesm2015/*\",\n\t\"lib/*\",\n\t\"button-angular/*\",\n\t\"google-pay-button-angular.*\",\n\t\"*.d.ts\",\n\t\"*.json\",\n\t\"README.md\"\n];\nvar keywords = [\n\t\"googlepay\",\n\t\"google-pay\",\n\t\"google-pay-button\",\n\t\"button\",\n\t\"angular\"\n];\nvar devDependencies = {\n\t\"@angular-devkit/build-ng-packagr\": \"^0.1002.0\",\n\t\"@angular/core\": \"^10.2.2\",\n\t\"ng-packagr\": \"^10.1.2\"\n};\nvar _package = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\trepository: repository,\n\thomepage: homepage,\n\tengines: engines,\n\tauthor: author,\n\tlicense: license,\n\tscripts: scripts,\n\tdependencies: dependencies,\n\tpeerDependencies: peerDependencies,\n\tfiles: files,\n\tkeywords: keywords,\n\tdevDependencies: devDependencies\n};\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns a new function that delays invocations to the original function\n * within a specified wait period. The last invocation within this time period\n * gets invoked. All earlier invocations are ignore.\n *\n * @param func The function to invoke.\n * @param wait The time in milliseconds to wait for idle invocations.\n */\nfunction debounce(func, wait = 0) {\n    let timeout;\n    return function (...args) {\n        window.clearTimeout(timeout);\n        const later = function () {\n            timeout = undefined;\n            return func(...args);\n        };\n        return new Promise(resolve => {\n            timeout = window.setTimeout(() => {\n                const result = later();\n                resolve(result);\n            }, wait);\n        });\n    };\n}\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass GooglePayButtonComponent {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.manager = new ButtonManager({\n            cssSelector: 'google-pay-button',\n            softwareInfoId: name,\n            softwareInfoVersion: version,\n        });\n        this.initializeButton = debounce(() => {\n            if (!this.assertRequiredProperty('paymentRequest')) {\n                return;\n            }\n            if (!this.assertRequiredProperty('environment')) {\n                return;\n            }\n            const config = {\n                paymentRequest: this.paymentRequest,\n                environment: this.environment,\n                existingPaymentMethodRequired: this.existingPaymentMethodRequired,\n                onPaymentDataChanged: this.paymentDataChangedCallback,\n                onPaymentAuthorized: this.paymentAuthorizedCallback,\n                buttonColor: this.buttonColor,\n                buttonType: this.buttonType,\n                buttonSizeMode: this.buttonSizeMode,\n                buttonLocale: this.buttonLocale,\n                onReadyToPayChange: result => {\n                    if (this.readyToPayChangeCallback) {\n                        this.readyToPayChangeCallback(result);\n                    }\n                    this.dispatch('readytopaychange', result);\n                },\n                onCancel: reason => {\n                    if (this.cancelCallback) {\n                        this.cancelCallback(reason);\n                    }\n                    this.dispatch('cancel', reason);\n                },\n                onError: error => {\n                    var _a;\n                    if (this.errorCallback) {\n                        (_a = this.errorCallback) === null || _a === void 0 ? void 0 : _a.call(this, error);\n                    }\n                    this.elementRef.nativeElement.dispatchEvent(new ErrorEvent('error', { error }));\n                },\n                onLoadPaymentData: paymentData => {\n                    if (this.loadPaymentDataCallback) {\n                        this.loadPaymentDataCallback(paymentData);\n                    }\n                    this.dispatch('loadpaymentdata', paymentData);\n                },\n                onClick: event => {\n                    var _a;\n                    if (this.clickCallback) {\n                        (_a = this.clickCallback) === null || _a === void 0 ? void 0 : _a.call(this, event);\n                    }\n                },\n            };\n            this.manager.configure(config);\n        });\n    }\n    get isReadyToPay() {\n        return this.manager.isReadyToPay;\n    }\n    ngOnInit() {\n        return this.manager.mount(this.elementRef.nativeElement);\n    }\n    ngOnChanges() {\n        return this.initializeButton();\n    }\n    assertRequiredProperty(name) {\n        const value = this[name];\n        if (value === null || value === undefined) {\n            this.throwError(Error(`Required property not set: ${name}`));\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Throws an error.\n     *\n     * Used for testing purposes so that the method can be spied on.\n     */\n    throwError(error) {\n        throw error;\n    }\n    dispatch(type, detail) {\n        this.elementRef.nativeElement.dispatchEvent(new CustomEvent(type, {\n            bubbles: true,\n            cancelable: false,\n            detail,\n        }));\n    }\n}\nGooglePayButtonComponent.ɵfac = function GooglePayButtonComponent_Factory(t) { return new (t || GooglePayButtonComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nGooglePayButtonComponent.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: GooglePayButtonComponent, selectors: [[\"google-pay-button\"]], inputs: { paymentRequest: \"paymentRequest\", environment: \"environment\", existingPaymentMethodRequired: \"existingPaymentMethodRequired\", buttonColor: \"buttonColor\", buttonType: \"buttonType\", buttonSizeMode: \"buttonSizeMode\", buttonLocale: \"buttonLocale\", paymentDataChangedCallback: \"paymentDataChangedCallback\", paymentAuthorizedCallback: \"paymentAuthorizedCallback\", readyToPayChangeCallback: \"readyToPayChangeCallback\", loadPaymentDataCallback: \"loadPaymentDataCallback\", cancelCallback: \"cancelCallback\", errorCallback: \"errorCallback\", clickCallback: \"clickCallback\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\nGooglePayButtonComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nGooglePayButtonComponent.propDecorators = {\n    paymentRequest: [{ type: Input }],\n    environment: [{ type: Input }],\n    existingPaymentMethodRequired: [{ type: Input }],\n    buttonColor: [{ type: Input }],\n    buttonType: [{ type: Input }],\n    buttonSizeMode: [{ type: Input }],\n    buttonLocale: [{ type: Input }],\n    paymentDataChangedCallback: [{ type: Input }],\n    paymentAuthorizedCallback: [{ type: Input }],\n    readyToPayChangeCallback: [{ type: Input }],\n    loadPaymentDataCallback: [{ type: Input }],\n    cancelCallback: [{ type: Input }],\n    errorCallback: [{ type: Input }],\n    clickCallback: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GooglePayButtonComponent, [{\n        type: Directive,\n        args: [{\n                selector: 'google-pay-button'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { paymentRequest: [{\n            type: Input\n        }], environment: [{\n            type: Input\n        }], existingPaymentMethodRequired: [{\n            type: Input\n        }], buttonColor: [{\n            type: Input\n        }], buttonType: [{\n            type: Input\n        }], buttonSizeMode: [{\n            type: Input\n        }], buttonLocale: [{\n            type: Input\n        }], paymentDataChangedCallback: [{\n            type: Input\n        }], paymentAuthorizedCallback: [{\n            type: Input\n        }], readyToPayChangeCallback: [{\n            type: Input\n        }], loadPaymentDataCallback: [{\n            type: Input\n        }], cancelCallback: [{\n            type: Input\n        }], errorCallback: [{\n            type: Input\n        }], clickCallback: [{\n            type: Input\n        }] }); })();\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass GooglePayButtonModule {\n}\nGooglePayButtonModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: GooglePayButtonModule });\nGooglePayButtonModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function GooglePayButtonModule_Factory(t) { return new (t || GooglePayButtonModule)(); }, imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(GooglePayButtonModule, { declarations: [GooglePayButtonComponent], exports: [GooglePayButtonComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(GooglePayButtonModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [GooglePayButtonComponent],\n                imports: [],\n                exports: [GooglePayButtonComponent]\n            }]\n    }], null, null); })();\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GooglePayButtonComponent, GooglePayButtonModule };\n\n//# sourceMappingURL=google-pay-button-angular.js.map","export default \".icon {\\n  width: 20px;\\n  height: 28px;\\n  border: none;\\n  padding: 2px;\\n}\\n\\n.width {\\n  font-size: 26px;\\n}\\n\\n.margin {\\n  margin-left: 20px;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n\\n.icon {\\n  color: #ffd050;\\n  width: 11px;\\n  padding: 0;\\n}\\n\\n#qty {\\n  display: inline;\\n  float: right;\\n  border: 1px solid #8c8c8c;\\n  border-radius: 50%;\\n  padding: 5px;\\n  text-align: center;\\n  background: #2c2c30;\\n  color: cornsilk;\\n  font-weight: bold;\\n}\\n\\n#pay {\\n  border-top: 2px solid #a3a1a1;\\n  border-bottom: 4px unset #a3a1a1;\\n  margin-bottom: 2px;\\n}\\n\\n.margin.price h5, h4 {\\n  display: inline;\\n}\\n\\n.margin.price h5 {\\n  font-weight: bold;\\n}\\n\\n.margin.price h4 {\\n  margin-left: 4px;\\n  font-weight: bolder;\\n  font-size: 22px;\\n}\\n\\n.dot {\\n  height: 15px;\\n  width: 15px;\\n  border-radius: 50%;\\n  display: inline-block;\\n  border: 1px solid #281d35;\\n  padding-left: 6px;\\n  padding-right: 6px;\\n}\\n\\n#iDesc {\\n  padding-top: 20px;\\n  padding-right: 10px;\\n  padding-left: 10px;\\n  padding-bottom: 20px;\\n  background-color: #46a546;\\n}\\n\\n#iDesc ion-img {\\n  width: 50%;\\n}\\n\\nsection {\\n  margin-top: 1em;\\n  margin-bottom: 2.5em;\\n}\\n\\nsection:not(.full-width),\\n.full-width > header {\\n  padding: 0 10px;\\n}\\n\\n.count {\\n  height: 100%;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  color: var(--ion-color-primary);\\n}\\n\\n.qty-selector {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background: #f6f6f6;\\n  border-radius: 5px;\\n  margin-top: 10px;\\n}\\n\\n.qty-selector ion-button {\\n  --color: #565656;\\n  font-size: 16px;\\n  margin-left: 8px;\\n  margin-right: 8px;\\n}\\n\\n.qty-selector ion-label {\\n  color: #565656 !important;\\n  font-size: 16px;\\n}\\n\\n.margin-right {\\n  margin-right: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxhY2Utb3JkZXIvcGxhY2Utb3JkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNDO0VBQ0csV0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUFKOztBQUVFO0VBQ0UsZUFBQTtBQUNKOztBQUNFO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7QUFFSjs7QUFBRTtFQUNFLGNBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtBQUdKOztBQURFO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFJSjs7QUFGRTtFQUNFLDZCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxrQkFBQTtBQUtKOztBQUhFO0VBQ0UsZUFBQTtBQU1KOztBQUpFO0VBQ0UsaUJBQUE7QUFPSjs7QUFMRTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBUUo7O0FBTkU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFTSjs7QUFMRTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EseUJBQUE7QUFRSjs7QUFORTtFQUNFLFVBQUE7QUFTSjs7QUFORTtFQUNFLGVBQUE7RUFDQSxvQkFBQTtBQVNKOztBQU5FOztFQUVFLGVBQUE7QUFTSjs7QUFORTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkFBQTtFQUNBLCtCQUFBO0FBU0o7O0FBTkE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQVNGOztBQVBFO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQVNOOztBQU5FO0VBQ0kseUJBQUE7RUFDQSxlQUFBO0FBUU47O0FBSkE7RUFBYyxpQkFBQTtBQVFkIiwiZmlsZSI6InNyYy9hcHAvcGxhY2Utb3JkZXIvcGxhY2Utb3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gLmljb257XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyOHB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBwYWRkaW5nOjJweDtcbiAgfVxuICAud2lkdGh7XG4gICAgZm9udC1zaXplOiAyNnB4O1xuICB9XG4gIC5tYXJnaW57XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICBtYXJnaW4tdG9wOiAwO1xuICB9XG4gIC5pY29ue1xuICAgIGNvbG9yOiByZ2IoMjU1LCAyMDgsIDgwKTtcbiAgICB3aWR0aDogMTFweDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG4gICNxdHl7XG4gICAgZGlzcGxheTogaW5saW5lO1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOGM4YzhjO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQ6IHJnYig0NCwgNDQsIDQ4KTtcbiAgICBjb2xvcjogY29ybnNpbGs7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgI3BheXtcbiAgICBib3JkZXItdG9wOiAycHggc29saWQgI2EzYTFhMTtcbiAgICBib3JkZXItYm90dG9tOiA0cHggdW5zZXQgI2EzYTFhMTtcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gIH1cbiAgLm1hcmdpbi5wcmljZSBoNSxoNHtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG4gIH1cbiAgLm1hcmdpbi5wcmljZSBoNXtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICAubWFyZ2luLnByaWNlIGg0e1xuICAgIG1hcmdpbi1sZWZ0OiA0cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgICBmb250LXNpemU6MjJweDtcbiAgfVxuICAuZG90e1xuICAgIGhlaWdodDogMTVweDtcbiAgICB3aWR0aDogMTVweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYig0MCwgMjksIDUzKTtcbiAgICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gIH1cblxuXG4gICNpRGVzY3tcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNzAsIDE2NSwgNzApO1xuICB9XG4gICNpRGVzYyBpb24taW1ne1xuICAgIHdpZHRoOiA1MCU7XG4gIH1cbiAgXG4gIHNlY3Rpb24ge1xuICAgIG1hcmdpbi10b3A6IDFlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAyLjVlbTtcbiAgfVxuXG4gIHNlY3Rpb246bm90KC5mdWxsLXdpZHRoKSxcbiAgLmZ1bGwtd2lkdGggPiBoZWFkZXIge1xuICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgfVxuXG4gIC5jb3VudCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5xdHktc2VsZWN0b3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogI2Y2ZjZmNjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuXG4gIGlvbi1idXR0b24ge1xuICAgICAgLS1jb2xvcjogIzU2NTY1NjtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgfVxuXG4gIGlvbi1sYWJlbCB7XG4gICAgICBjb2xvcjogIzU2NTY1NiAhaW1wb3J0YW50O1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG59XG5cbi5tYXJnaW4tcmlnaHR7bWFyZ2luLXJpZ2h0OiA0cHg7fSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController, PickerController } from '@ionic/angular';\nimport { PickerOptions } from '@ionic/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { Product } from 'src/models/product';\nimport { Order, Shipment } from 'src/models/order';\nimport { Address } from 'src/models/addresses';\nimport { Storage} from '@ionic/storage';\nimport { HttpClient } from '@angular/common/http';\nimport { isNullOrUndefined } from 'util';\nimport { isUndefined } from 'typescript-collections/dist/lib/util';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { CartItem } from 'src/models/cartItem';\n\n\n\n@Component({\n  selector: 'app-place-order',\n  templateUrl: './place-order.page.html',\n  styleUrls: ['./place-order.page.scss'],\n})\nexport class PlaceOrderPage implements OnInit {\n\n    cost:string= btoa(\"600\");\n   id: string=btoa(\"12345\");\n   collapse: boolean;\n   paymentRequest!: google.payments.api.PaymentDataRequest;\n  data: Order;\n  products: CartItem[];\n  addresses: Address[];\n  shippingAddress: string='';\n  defaultaddress: Address;\n  selectAddress: string='';\n  productqty = 0;\n  amountOrder: number = 0\n  paymentMethod: string;\n  orderCost: string;\n  deliverydate: Date;\n  tracknum: string;\n  method: string;\n  shippingfee = 0.00;\n  taxfee = 0.00;\n  deliveryfee = 0.00;\n  promotion = 0.00;\n  totalfee = 0.00;\n  constructor(private http: HttpClient, private pickerCtrl: PickerController, private route: ActivatedRoute,\n     private loadingcontroller: LoadingController,private storage: Storage, private alertcontroller: AlertController,\n      private router: Router, private afirestore: AngularFirestore, private fireAuth: AngularFireAuth,\n      ) {\n    this.products=[];\n    this.defaultaddress = {} as Address;\n    this.getAdresses();\n       }\n\n  ngOnInit() {\n    this.collapse = true;\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.order;\n      }\n    });\n    \n    if(!isNullOrUndefined(this.data)){\n      this.products = this.data.items;\n      this.productqty = this.data.order_qty;\n      this.amountOrder=this.data.amount; \n     this.data.items.map(product=>{this.shippingfee+=product.shippingFee;});\n     this.data.items.map(product=>{this.deliveryfee+=product.deliveryFee;});\n     this.data.items.map(product=>{this.taxfee+=product.taxFee;});\n     this.data.items.map(product=>{this.deliverydate=this.calculateDeliveryDate(product.deliveryDate);})\n      }\n      \n   \n\n      this.paymentRequest = {\n        apiVersion: 2,\n        apiVersionMinor: 0,\n        allowedPaymentMethods: [\n          {\n            type: 'CARD',\n            parameters: {\n              allowedCardNetworks:[ \"MASTERCARD\", \"VISA\"],\n              allowedAuthMethods: ['PAN_ONLY','CRYPTOGRAM_3DS']\n            },\n            tokenizationSpecification:{\n              type:'PAYMENT_GATEWAY',\n              parameters:{\n                gateway: 'example',\n                gatewayMerchantId: 'exampleGatewayMerchantId'\n              }\n            },\n          }\n          \n        ],\n        merchantInfo:{\n          merchantId: '12345678901234567890',\n          merchantName: 'Example Merchant'\n        },\n        transactionInfo:{\n          countryCode: 'US',\n          currencyCode: 'USD',\n          totalPriceLabel: 'TOTAL ALL TAXES INCLUDES',\n          totalPriceStatus: 'FINAL',\n      // set to cart total\n          totalPrice: this.totalfee.toFixed(2)\n        },\n        shippingAddressRequired: true,\n        shippingAddressParameters:{\n          allowedCountryCodes: [\"US\",\"CA\",\"HT\"],\n          phoneNumberRequired: true,\n        },\n        \n      };\n\n    }\n \n\n    async onLoadPaymentData(event: Event){\n      const paymentData = (event as CustomEvent<google.payments.api.PaymentData>).detail;\n      console.log(paymentData);\n    }\n\n    calculCost(shippingfee: number,taxfee:number,deliveryfee:number,promotion:number, amount:number){\n      return this.totalfee = amount+shippingfee+deliveryfee+taxfee-promotion;\n    }\n\n  shipaddressChange(){\n    this.collapse = !this.collapse;\n  }\n\n  getAdresses(){\n    \n    this.storage.get(\"address\").then((data:Address[])=>{\n        this.addresses= data;\n        for(let address of data){\n          if(address.default){\n            this.defaultaddress = address;\n          }\n        }\n        if(!isNullOrUndefined(this.defaultaddress.address1) && isUndefined(this.defaultaddress.address2)){\n          this.shippingAddress = this.defaultaddress.address1;\n        }else if(!isNullOrUndefined(this.defaultaddress.address2) && isUndefined(this.defaultaddress.address1)){\n          this.shippingAddress = this.defaultaddress.address2;\n        }else if(!isNullOrUndefined(this.defaultaddress.address1) && !isNullOrUndefined(this.defaultaddress.address2)){\n          this.shippingAddress = this.defaultaddress.address1;\n        }else{this.shippingAddress=\"No default address set yet\";}\n    }).catch(err=>{\n      console.log(\"addresses not found or empty\");\n    });\n   \n  }\n\n  async setAsDefault(addressid: string){\n    let setagreed: boolean = false;\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Shipping address change',\n      message: 'Set address as default.',\n      buttons: [\n        {text:'OK',cssClass: '',handler:(ok)=>{ this.setDefault(addressid)}},\n        {text:'Cancel', cssClass:'my-custom-class'}\n      ]\n    });\n    await alert.present();\n   \n  }\n\n  setDefault(address: string){\n    let set:boolean=false;\n   this.storage.get(\"address\").then((data: Address[]) => {\n    \n   for (let item of data) {\n         if (item.id === address) {\n             item.default = true;\n             set=true;\n         }\n     }\n\n     if(set){ \n       for (let item of data) {\n         if (item.id !== address) {\n             item.default = false;\n         }\n     }\n     this.setLoading(data); \n     }\n     \n   }).catch(err=>{alert(err)});\n  }\n\n  async setLoading(newaddress: Address[]){\n    const loading = await this.loadingcontroller.create({\n     cssClass: 'my-custom-class',\n     message: 'Please wait...',\n     duration: 2000\n    }).then((control)=>{\n      control.present();\n      control.onWillDismiss().then((load)=>{\n        this.addresses= newaddress;\n        this.storage.set(\"address\",newaddress).then(()=>{\n          this.getAdresses();\n        });\n        \n       });\n    })\n  }\n\n  \n  \n  onSubmit(postData:any){\n    const SERVER_URL = \"https://sandbox.moncashbutton.digicelgroup.com/Moncash-middleware/Checkout/{UVdZeU0yMVlYMVpOUlhjOSBlbDlLUzBsU1kxbFpNVXQ0VUdSNU1UbFlRbXR0VVQwOQ==}\";\n    const formData = new FormData();\n    formData.append(\"amount\",btoa(\"600\"));\n    formData.append(\"orderId\", btoa(\"123456\"));\n    console.log(formData);\n    this.http.post<any>(SERVER_URL, formData).subscribe(\n      (res) => console.log(res),\n      (err) => console.log(err)\n    );\n\n  }\n\n   place_order(items_cost: number){\n    let items_ordered: Order={} as Order;\n    this.data.shipment.shipping_destination = this.shippingAddress;\n    items_ordered = this.data;\n    items_ordered.amount =  items_cost;\n    \n    this.storage.get('user').then(async (userLogged:User)=>{\n      if(!isNullOrUndefined(userLogged)){\n\n        if(!userLogged.connection){\n\n        }else{\n\n\n          await this.loadingcontroller.create({\n            cssClass: 'my-custom-class',\n            message: 'processing your order...',\n            duration: 2000\n          }).then(async (loaded)=>{\n            loaded.present();\n            this.afirestore.collection(\"orders\").doc((await this.fireAuth.currentUser).uid)\n                            .collection(\"customer_order\").doc(items_ordered.orderId)\n                            .set(items_ordered).then(()=>{\n                                loaded.dismiss();\n                                this.sendToConfirm(items_ordered);\n                            }).catch((reason)=>{ loaded.dismiss(reason, \"failed\");});\n            loaded.onDidDismiss().then((obj)=>{\n              if(obj.role == \"failed\"){\n                this.msgOrderFailed();\n              }\n            });\n          });\n         \n        } //if user is authentified\n\n\n      }\n     \n\n    });\n  }  \n   \n async msgOrderFailed(){\n    const alert = await this.alertcontroller.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      subHeader: 'Network Faillure',\n      message: 'Current order process failed.',\n      buttons: ['Ok']\n    });\n    await alert.present();\n  }\n  \n  calculateDeliveryDate(date: any){\n    let deadline = new Date(Date.now());\n    if(new Date(date.seconds*1000 + date.nanoseconds)>= deadline){\n      deadline = date;\n    }\n    return deadline;\n  }\n\n  sendToConfirm(orderToconfirm: Order){\n    const navigationExtras: NavigationExtras = {\n      state: {\n        order: orderToconfirm\n        \n      }\n    };\n    this.router.navigate(['/confirm'], navigationExtras);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaceOrderPageRoutingModule } from './place-order-routing.module';\nimport { GooglePayButtonModule } from '@google-pay/button-angular';\nimport { PlaceOrderPage } from './place-order.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaceOrderPageRoutingModule,\n    GooglePayButtonModule\n  ],\n  declarations: [PlaceOrderPage]\n})\nexport class PlaceOrderPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaceOrderPage } from './place-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaceOrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaceOrderPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar style=\\\" --background: #031432;\\\">\\n    <ion-buttons  slot=\\\"start\\\">\\n      <ion-back-button color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons routerLink=\\\"/home\\\" routerDirection=\\\"back\\\">\\n      <ion-title class=\\\"width\\\">\\n        <ion-text size=\\\"LARGE\\\" color=\\\"warning\\\">\\n          K</ion-text>\\n        <ion-text color=\\\"danger\\\">\\n          <ion-icon size=\\\"LARGE\\\" name=cart></ion-icon>\\n        </ion-text>\\n        <ion-text color=\\\"light\\\">TALOG</ion-text>\\n      </ion-title>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<!-- -->\\n\\n<div class=\\\"container-fluid p-3\\\">\\n\\n  <div class=\\\"row g-4 \\\">\\n\\n    <div class=\\\"col-lg-8 col-md-6 col-12 border\\\">\\n      <div class=\\\"container\\\" style=\\\"padding-top: 4px;\\\">\\n        <ion-item (click)=\\\"shipaddressChange()\\\" detail=\\\"true\\\">\\n          <ion-buttons>\\n            <ion-label>Shipping Address :</ion-label>\\n          </ion-buttons>\\n          <ion-item>\\n            <label position=\\\"stacked\\\">{{shippingAddress}} </label>\\n          </ion-item>\\n        </ion-item>\\n      \\n        <div  *ngIf=\\\"!collapse && shippingAddress!=='No default address set yet'\\\">\\n         \\n          <ion-list>\\n            <ng-container *ngFor=\\\"let address of addresses\\\">\\n            <ion-radio-group *ngIf=\\\"address!==shippingAddress\\\">\\n                <ion-item>\\n                  <ion-button fill=\\\"clear\\\" (click)=\\\"setAsDefault(address.id)\\\" slot=\\\"start\\\" shape=\\\"round\\\"><input title=\\\"set as default\\\" [checked]=\\\"address.default\\\" name=\\\"default\\\" type=\\\"radio\\\"/></ion-button>\\n                  <ion-label>\\n                    <address>\\n                      <h6>{{address.name}}</h6>\\n                      <p>{{address.phone}}</p>\\n                      <h6>{{address.zipcode}}-{{address.state}}</h6>\\n                      <h6>{{address.city}}</h6>\\n                      <h6>{{address.address1}}</h6>\\n                      <h6>{{address.address2}}</h6>\\n                    </address>\\n                  </ion-label>\\n                </ion-item>\\n            </ion-radio-group>\\n          </ng-container>\\n          </ion-list>\\n        \\n          \\n        </div>\\n      </div>\\n      <div class=\\\"container\\\">\\n        <ion-item>\\n          <ion-buttons>\\n            <ion-text color=\\\"primary\\\" style=\\\"font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; font-weight: bold;\\\">\\n              <ion-label>Estimated delivery date : </ion-label>\\n            </ion-text>&nbsp;\\n            <ion-text style=\\\"font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; font-weight: bold;\\\">\\n              <ion-label>{{deliverydate|date}}</ion-label></ion-text>\\n          </ion-buttons>\\n        </ion-item>\\n        <fieldset>\\n          <ion-list>\\n            <ion-item *ngFor=\\\"let product of data.items\\\">\\n                <ion-thumbnail slot=\\\"start\\\">\\n                  <ion-img [src]=\\\"product.picture\\\"></ion-img>\\n                </ion-thumbnail>\\n              <ion-label>\\n                <ion-item-group>\\n                  <h5>{{product.name}}</h5>\\n                  <ion-label>{{product.description}}</ion-label>\\n                    <ion-buttons >\\n                      <span  *ngIf=\\\"product.color!==''&& product.color!==undefined\\\" class=\\\"dot\\\" [style.background]=\\\"product.color\\\"></span>\\n                      &nbsp;|\\n                      <h6 *ngIf=\\\"product.size!=='' && product.size!==undefined\\\"> {{product.size}}</h6>\\n                    </ion-buttons>\\n                  <ion-buttons>\\n                    <ion-label>QTY : {{product.qty}}</ion-label>&nbsp;\\n                    <ion-label><ion-icon name=\\\"pricetag\\\"></ion-icon><h5><b>{{product.price | currency}}</b></h5></ion-label>\\n                  </ion-buttons>\\n                </ion-item-group>\\n              </ion-label>\\n            </ion-item>\\n        </ion-list>\\n        </fieldset>\\n        </div> \\n    </div>\\n    <div class=\\\"col-lg-4 col-md-6 col-12 border\\\" style=\\\"padding-top: 4px; padding-bottom: 4px; border-bottom: 4px solid #eee;\\\">\\n      <fieldset>\\n        <legend><label>Payment Review</label></legend>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Item Cost</ion-col>\\n            <ion-col>{{amountOrder | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Shipping Fee</ion-col>\\n            <ion-col>{{shippingfee | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Tax Fee</ion-col>\\n            <ion-col>{{taxfee | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Delivery</ion-col>\\n            <ion-col>{{deliveryfee | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">Discount</ion-col>\\n            <ion-col>{{promotion | currency}}</ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\"><ion-label position=\\\"fixed\\\" color=\\\"danger\\\">TOTAL :</ion-label></ion-col>\\n            <ion-col><ion-label style=\\\"font-weight: bold;\\\">{{ calculCost(shippingfee,taxfee,deliveryfee,promotion, amountOrder) | currency}}</ion-label>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </fieldset>\\n      <div id=\\\"place\\\" style=\\\"margin-left: 18%; margin-right: 18%;\\\">\\n        <section>\\n            <google-pay-button \\n                environment=\\\"TEST\\\"\\n                [paymentRequest]=\\\"paymentRequest\\\"\\n                buttonSizeMode=\\\"FULL\\\"\\n                (loadpaymentdata)=\\\"onLoadPaymentData($event)\\\"></google-pay-button>\\n        </section>\\n      </div>\\n      <ion-select placeholder=\\\"Change payment method\\\">\\n        <ion-select-option>Paypal</ion-select-option>\\n      </ion-select>\\n    </div>\\n    \\n  </div>\\n\\n</div>\\n\\n\\n  \\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}