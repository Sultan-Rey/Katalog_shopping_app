{"version":3,"sources":["webpack:///src/app/starcard/starcard.page.ts","webpack:///src/app/starcard/starcard.page.scss","webpack:///src/app/starcard/starcard.page.html","webpack:///src/app/firestore-data.service.ts","webpack:///src/app/starcard/starcard.module.ts","webpack:///src/app/starcard/starcard-routing.module.ts"],"names":["StarcardPage","afirestore","alertcontroller","storage","loadingcontroller","fireAuth","fsdataService","devise","starReedemUSD","starReedemHTG","tagDefaultColor","Array","length","fill","slidersOpts","loop","slidesPerView","starcard","transactions","reedem","paymentMethod","authState","subscribe","auth","emailVerified","connected","getCardAccount","get","then","data","forEach","method","defaultMethod","err","console","log","amount","getPaymethod","paypal","find","paymethod","mc","create","cssClass","header","subHeader","message","buttons","alert","present","_character","sequence","Math","floor","random","index","encryption","Date","now","currentUser","userId","uid","card","cardCollection","collection","doc","snapshotChanges","isRegistred","id","payload","activation","unsubscribe","crypto","set","duration","loaded","onDidDismiss","dismiss","starmethod","provider","credential","saveMethod","loading","rejected","isAdded","push","item","options","code","email","phone","name","i","selector","template","FirestoreDataService","afs","afAuth","globalThis","navigator","onLine","slidesDocument","slides","valueChanges","categoriesCollection","q","orderBy","limit","category","brandsCollection","brand","promo","productCollection","where","product","items","observer","e","description","rating","qty","deliveryDate","shipment","policy","shippingFee","deliveryFee","taxFee","about","models","caracteristic","status","availability","display","homeCollection","homeDesign","query","ordersCollection","orderData","param","usersCollection","user","boxOwner","msg","msgCollection","author","destination","object","content","date_msg","toPromise","querySnapshot","dd","ref","update","providedIn","StarcardPageModule","imports","declarations","routes","path","component","StarcardPageRoutingModule","forChild","exports"],"mappings":"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","file":"starcard-starcard-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Reedeem, StarCard, Transactions } from 'src/models/starcard';\nimport { Observable} from 'rxjs';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { isNullOrUndefined } from 'util';\nimport {Storage} from '@ionic/storage';\nimport { Paymethod } from 'src/models/paymethod';\nimport * as firebase from 'firebase';\nimport { FirestoreDataService } from '../firestore-data.service';\n\n@Component({\n  selector: 'app-starcard',\n  templateUrl: './starcard.page.html',\n  styleUrls: ['./starcard.page.scss'],\n})\nexport class StarcardPage implements OnInit {\n\n  connected: boolean;\n  isRegistred: boolean;\n  cardCollection: AngularFirestoreCollection<StarCard>;\n  obcard: Observable<StarCard[]>;\n  card: StarCard[];\n  paymentMethod: Paymethod[];\n  defaultMethod: Paymethod;\n  devise = ['USD','HTG'];\n  starReedemUSD = ['20','50','100','200','250','500'];\n  starReedemHTG = ['250','500','750','1000','5000','10.000'];\n  tagDefaultColor = Array(this.devise.length).fill(\"medium\");\n  slidersOpts = {\n    loop: true,\n    slidesPerView: 2,\n  };\n  starcard: StarCard;\n  constructor(private afirestore: AngularFirestore, private alertcontroller:AlertController,\n   private storage:Storage, private loadingcontroller: LoadingController, private fireAuth: AngularFireAuth, private fsdataService: FirestoreDataService) {\n      this.starcard = {} as StarCard;\n      this.starcard.transactions = [];\n      this.starcard.reedem = [];\n      this.paymentMethod = []; \n   }\n   \n\n  ngOnInit() {\n    this.fireAuth.authState.subscribe(auth=>{\n      if (!auth.emailVerified){\n        this.connected = false;\n      }else {\n        this.connected = true;\n        this.getCardAccount();\n      }\n    });\n  }\n\n\n  getPaymethod(){\n    \n    this.storage.get(\"paymethod\").then((data:Paymethod[])=>{\n        this.paymentMethod= data;\n        if(this.paymentMethod.length!==0 && this.paymentMethod!==null){\n          this.paymentMethod.forEach(method=>{\n            if(method.default == true){\n              this.defaultMethod = method;\n            }\n          })\n        }\n    }).catch(err=>{\n      console.log(\"cart not found or empty\");\n    });\n   \n  }\n  \n  async refill(devise: string, amount: string){\n    this.getPaymethod();\n    if(devise == 'USD'){\n        let paypal = this.paymentMethod.find((paymethod)=>paymethod.method=='PayPal' && paymethod.default==true);\n        let mc = this.paymentMethod.find((paymethod)=>paymethod.method=='MasterCard'&& paymethod.default==true);\n        if(!isNullOrUndefined(paypal)){\n        \n        }else if(!isNullOrUndefined(mc)){\n\n        }else{\n          const alert = await this.alertcontroller.create({\n            cssClass: 'my-custom-class',\n            header: 'Alert',\n            subHeader: 'Subtitle',\n            message: 'No default payment method available.',\n            buttons: ['Ok']\n          });\n          await alert.present();\n        }\n    }\n    if(devise == 'HTG'){\n\n    }\n  }\n\n  crypto(){\n    let _character=['*','C',')','#','&','!','?','%','@','^',':','D','?'];\n    let sequence:number = Math.floor(Math.random()*100);\n    let index:number= Math.floor(Math.random() * 12);\n    let encryption:string = _character[index]+_character[index+1]+sequence+\"-\"+Date.now();\n    return encryption;\n  }\n  async getCardAccount(){\n    let userId = (await this.fireAuth.currentUser).uid\n    this.card = new Array();\n    this.cardCollection = this.afirestore.collection('starcard');\n    this.cardCollection.doc(userId).snapshotChanges().subscribe(card=>{\n      this.isRegistred=true;\n      this.starcard.id = card.payload.get(\"id\");\n      this.starcard.devise = card.payload.get(\"devise\");\n      this.starcard.amount = card.payload.get(\"amount\");\n      this.starcard.reedem = card.payload.get(\"reedem\");\n      this.starcard.transactions = card.payload.get(\"transactions\");\n      this.starcard.activation = card.payload.get(\"activation\");\n    }).unsubscribe();\n    \n  }\n\n  async register(card: StarCard){\n    this.cardCollection = this.afirestore.collection('starcard');\n    if(card.devise!==\"\" && card.devise!==null){\n      this.starcard.id = this.crypto();\n      this.starcard.amount = 0.00;\n      this.starcard.reedem =[]\n      this.starcard.transactions =[]\n      this.starcard.activation = true;\n      this.cardCollection.doc((await this.fireAuth.currentUser).uid).set(this.starcard).then( async ()=>{\n        const loading = await this.loadingcontroller.create({\n          cssClass: 'my-custom-class',\n          message: 'Please wait...',\n          duration: 2000\n        }).then((loaded)=>{\n          loaded.present();\n          loaded.onDidDismiss().then((dismiss)=>{\n            this.isRegistred=true;\n            console.log(dismiss);\n            let starmethod: Paymethod = {\n              id: this.starcard.id,\n              method: 'StarCard',\n              provider: 'KATALOG',\n              credential: {},\n              default: false\n            }\n            this.saveMethod(starmethod);\n            this.getCardAccount();})\n        });\n        \n      }, (rejected)=>{\n          console.log(\"reason\"+rejected);\n          this.starcard.activation = false;\n      });\n    }else{\n      const alert = await this.alertcontroller.create({\n        cssClass: 'my-custom-class',\n        header: 'Alert',\n        subHeader: 'Subtitle',\n        message: 'please select a currency before.',\n        buttons: ['Ok']\n      });\n      await alert.present();\n    }\n      }\n\n      \n\n\n      saveMethod(method: Paymethod){\n        let isAdded: boolean = false;\n       this.storage.get(\"paymethod\").then((data: Paymethod[]) => {\n         if (data === null || data.length === 0) {\n           data = [];\n           data.push(method);\n         } else {\n           for (let item of data) {\n             if (item.id === method.id) {\n             \n           item.method = method.id;\n           item.provider= method.provider;\n           item.credential.options = method.credential.options;\n           item.credential.code = method.credential.code;\n           item.credential.email = method.credential.email;\n           item.credential.phone = method.credential.phone;\n               isAdded = true;\n             }\n           }\n           if (!isAdded) {\n             data.push(method);\n           }\n         }\n       });\n      }\n \n      selected(name:string){\n        this.starcard.devise = name;\n      }\n  changeTagColor(i:number) {\n    \n    if (this.tagDefaultColor[i] === \"medium\") {\n      this.tagDefaultColor[0] = \"medium\";\n      this.tagDefaultColor[1] = \"medium\"\n      this.tagDefaultColor[i] = \"primary\"\n    } else {\n     \n      // event.target.setAttribute('color', 'secondary') this is redundant\n    }\n  }\n  \n}\n","export default \".btn-register {\\n  font-size: 12px;\\n}\\n\\nion-select {\\n  width: 120px;\\n}\\n\\n.my-custom-class {\\n  --background: #222;\\n  --spinner-color: #fff;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RhcmNhcmQvc3RhcmNhcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQUNKOztBQUNDO0VBQ0ksWUFBQTtBQUVMOztBQUFDO0VBQ0csa0JBQUE7RUFDQSxxQkFBQTtFQUVBLFdBQUE7QUFFSiIsImZpbGUiOiJzcmMvYXBwL3N0YXJjYXJkL3N0YXJjYXJkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tcmVnaXN0ZXJ7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuIH1cbiBpb24tc2VsZWN0e1xuICAgICB3aWR0aDogMTIwcHg7XG4gfVxuIC5teS1jdXN0b20tY2xhc3Mge1xuICAgIC0tYmFja2dyb3VuZDogIzIyMjtcbiAgICAtLXNwaW5uZXItY29sb3I6ICNmZmY7XG4gIFxuICAgIGNvbG9yOiAjZmZmO1xuICB9Il19 */\";","export default \"<ion-header  mode=ios>\\n  <ion-toolbar  color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n   <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons>\\n      <ion-title  class=\\\"width\\\" mode=ios >\\n        <ion-text size=\\\"LARGE\\\" color=\\\"warning\\\">\\n          K</ion-text>\\n          <ion-text color=\\\"danger\\\"><ion-icon size=\\\"LARGE\\\" name=cart></ion-icon></ion-text>\\n          <ion-text >ta</ion-text><img title=\\\"app header\\\" alt=\\\"image icon\\\" class=\\\"icon\\\" src=\\\"assets/icon/lipstick.png\\\"/><ion-text>og</ion-text>\\n        </ion-title>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n  <ion-buttons>\\n    <ion-item-divider>\\n      <ion-label>Pay faster with your starcard</ion-label>\\n    </ion-item-divider>\\n  </ion-buttons>\\n </ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"connected==false\\\" name=\\\"authentification\\\" class=\\\"ion-padding\\\">\\n    <ion-buttons>\\n      <ion-button routerLink=\\\"/login\\\" routerDirection=\\\"forward\\\" expand=\\\"block\\\">SIGN IN BEFORE USE STARCARD</ion-button>\\n    </ion-buttons>\\n  </div>\\n  <div *ngIf=\\\"connected==true\\\" name=\\\"starcard\\\" class=\\\"ion-padding\\\">\\n\\n    <div *ngIf=\\\"!starcard.activation\\\" name=\\\"starcard_activation\\\">\\n      <ion-card>\\n        <ion-item>\\n          <ion-card-title class=\\\"ion-padding\\\">STAR CARD \\n          </ion-card-title>\\n          <ion-buttons slot=\\\"end\\\">\\n            <ion-radio-group >\\n              <ion-chip [id]=\\\"child.id\\\" [color]=\\\"tagDefaultColor[i]\\\" (click)=\\\"changeTagColor(i)\\\" *ngFor=\\\"let child of devise;let i = index\\\">\\n                <ion-radio (click)=\\\"selected(child)\\\" ></ion-radio><ion-label>{{child}}</ion-label>\\n              </ion-chip>\\n            </ion-radio-group>\\n            </ion-buttons>\\n        </ion-item>\\n       \\n        <ion-card-subtitle class=\\\"ion-padding\\\">Register to STAR CARD and benefits 10% off</ion-card-subtitle>\\n        <ion-button size=\\\"small\\\" (click)=\\\"register(starcard)\\\" class=\\\"btn-register\\\" expand=\\\"block\\\" >Register Now</ion-button>\\n        <ion-card-header>STAR CARD is an original KATALOG payment method which is secure and help you to pay easily</ion-card-header>\\n        </ion-card>\\n       \\n    </div>\\n    <div *ngIf=\\\"starcard.activation && isRegistred==true\\\" name=\\\"starcard_content\\\">\\n\\n      <div class=\\\"container\\\">\\n        <ion-item>\\n          <ion-label>Star Card balance :</ion-label>\\n          <ion-badge slot=\\\"end\\\" color=\\\"medium\\\">{{starcard.amount}}</ion-badge>\\n        </ion-item>\\n      </div>\\n      <div class=\\\"container\\\">\\n        <ion-item>\\n          <ion-label>Reedem your Star Card</ion-label>\\n          <ion-chip slot=\\\"end\\\">Devise : {{starcard.devise}}</ion-chip>\\n        </ion-item>\\n        <ion-item-sliding>\\n          <ion-slides [options]=\\\"slidersOpts\\\">\\n            <ng-container *ngIf=\\\"starcard.devise=='USD'\\\">\\n              <ion-slide (click)=\\\"refill('USD',star)\\\" *ngFor=\\\"let star of starReedemUSD\\\"><ion-card>\\n                <ion-card-content>\\n                  <ion-card-title>{{star|currency}}</ion-card-title>\\n                  <ion-card-subtitle>Add {{star|currency}} to your star card</ion-card-subtitle>\\n                </ion-card-content>\\n                </ion-card></ion-slide>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"starcard.devise=='HTG'\\\">\\n              <ion-slide *ngFor=\\\"let star of starReedemHTG\\\"><ion-card>\\n                <ion-card-content>\\n                  <ion-card-title>{{star}} gdes</ion-card-title>\\n                  <ion-card-subtitle>Add {{star}} gdes to your star card</ion-card-subtitle>\\n                </ion-card-content>\\n                </ion-card></ion-slide>\\n            </ng-container>\\n          \\n    \\n          </ion-slides>\\n        </ion-item-sliding>\\n      </div>\\n    \\n      <div class=\\\"container\\\">\\n        <ion-list>\\n          <ion-item><ion-label>Reedem Historic</ion-label></ion-item>\\n          <ion-row>\\n            <ion-col size=\\\"7\\\"><b>Amount</b></ion-col>\\n            <ion-col ><b>purchased date</b></ion-col>\\n          </ion-row>\\n          <ion-row *ngFor=\\\"let reedem of starcard.reedem\\\">\\n            <ion-col size=\\\"7\\\"><ion-label>{{reedem.amount}}</ion-label></ion-col>\\n            <ion-col ><ion-label>{{reedem.date|date}}</ion-label></ion-col>\\n          </ion-row>\\n          <ion-item><ion-label>Total Refilling</ion-label>\\n                    <ion-badge slot=\\\"end\\\">0.00$</ion-badge>\\n          </ion-item>\\n        </ion-list>\\n        \\n      </div>\\n    \\n      <div class=\\\"container\\\">\\n        <ion-list>\\n          <ion-item><ion-label>Transactions</ion-label></ion-item>\\n          <ion-row >\\n            <ion-col size=\\\"4\\\"><b>Order Id</b></ion-col>\\n            <ion-col size=\\\"4\\\"><b>Amount</b></ion-col>\\n            <ion-col ><b>Transaction date</b></ion-col>\\n          </ion-row>\\n          <ion-row *ngFor=\\\"let transac of starcard.transactions\\\">\\n            <ion-col size=\\\"4\\\"><ion-label> {{transac.orderId}} </ion-label></ion-col>\\n            <ion-col size=\\\"4\\\"><ion-label>{{transac.amount}}</ion-label></ion-col>\\n            <ion-col ><ion-label>{{transac.date|date}}</ion-label></ion-col>\\n          </ion-row>\\n          <ion-item><ion-label>Total Transactions</ion-label>\\n                    <ion-badge slot=\\\"end\\\">0.00$</ion-badge>\\n          </ion-item>\\n        </ion-list>\\n      </div>\\n    </div>\\n\\n  </div>\\n  \\n \\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar class=\\\"footer\\\">\\n    <ion-row round>\\n      <ion-col offset-1 col-10 routerLink=\\\"/home\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"home-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n        <h4>Home</h4>\\n       </div>  \\n    </ion-col>\\n      <ion-col offset-1 col-10 routerLink=\\\"/cart\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"cart-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n          <h4>Cart</h4>\\n         </div> \\n      </ion-col>\\n      <ion-col offset-1 col-10 routerLink=\\\"/profil\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"person-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n          <h4>Profil</h4>\\n         </div> \\n      </ion-col>\\n      <ion-col offset-1 col-10 routerLink=\\\"/order\\\"  routerDirection=\\\"forward\\\">\\n        <ion-icon class=\\\"footerIcon\\\" name=\\\"cube-outline\\\"></ion-icon>\\n        <div class=\\\"touch\\\">\\n          <h4>Order...</h4>\\n         </div> \\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\";","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Product} from '../models/product';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument, DocumentData, DocumentReference} from '@angular/fire/firestore';\nimport { Observable} from 'rxjs';\nimport { Order } from 'src/models/order';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'src/models/user';\nimport { Message } from 'src/models/message';\nimport { HomeDesign } from 'src/models/homeDesign';\nimport { Storage } from '@ionic/storage';\nimport { Categories } from 'src/models/category';\nimport { Brands } from 'src/models/brands';\nimport { Slides } from 'src/models/slides';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreDataService {\n\n  productCollection: AngularFirestoreCollection<Product>;\n  categoriesCollection: AngularFirestoreCollection<Categories>;\n  brandsCollection: AngularFirestoreCollection<Brands>;\n  slidesDocument: AngularFirestoreDocument<Slides>;\n  ordersCollection: AngularFirestoreCollection<Order>;\n  usersCollection: AngularFirestoreCollection<User>;\n  msgCollection: AngularFirestoreCollection<Message>;\n  homeCollection: AngularFirestoreCollection<HomeDesign>;\n  message: Observable<DocumentData[]>;\n  product: Observable<Product[]>;\n  category: Observable<Categories[]>\n  brand: Observable<Brands[]>\n  user: Observable<User[]>;\n  slides: Observable<Slides>;\n  homeDesign: Observable<HomeDesign[]>;\n  orderData: Observable<Order[]>;\n  msg: Message[];\n  items: Product[];\n  app_user: User[];\n  items_ordered: Order[];\n  userId: string='';\n  connected: boolean;\n  constructor( private afs: AngularFirestore, private afAuth: AngularFireAuth, private storage: Storage) { }\n\n  getAuthState(){\n    this.afAuth.authState.subscribe(auth => {\n      if (!auth) {\n        this.connected = false;\n      } else {\n        this.connected = true;\n      }\n    });\n    return this.connected;\n  }\n  \n  getConnexionState(){\n    return globalThis.navigator.onLine;\n  }\n\n  getMainSlides(){\n    this.slidesDocument = this.afs.collection('homepane').doc('d0pWnLNzch6ACeFKJmrj');\n    this.slides = this.slidesDocument.valueChanges();\n    return this.slides; \n  }\n\n  getCategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\",\"asc\").limit(4));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n  getAllcategories(){\n    this.categoriesCollection = this.afs.collection('categories', q=>q.orderBy(\"categoryName\"));\n    this.category = this.categoriesCollection.valueChanges();\n    return this.category; \n  }\n\n  getBrands(){\n    this.brandsCollection = this.afs.collection('brands', q=>q.orderBy(\"date_added\",\"asc\").limit(4));\n    this.brand = this.brandsCollection.valueChanges();\n    return this.brand; \n  }\n\n  getbyPromotion(promo: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"display.position\",\"==\",promo));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n   getFirestoreData(){\n    this.items = new Array();\n    this.productCollection = this.afs.collection('product');\n    this.product = this.productCollection.valueChanges();\n   \n    /*\n    * Product subscription for uploading\n    */\n\n   this.product.subscribe(observer => {\n   \n      observer.forEach(e => {\n     \n\n        this.items.push({\n          code: e.code,\n          name: e.name,\n          description: e.description,\n          brand: e.brand,\n          rating: e.rating,\n          category: e.category,\n          qty: e.qty,\n          deliveryDate: e.deliveryDate,\n          shipment: e.shipment,\n          policy: e.policy,\n          shippingFee: e.shippingFee,\n          deliveryFee: e.deliveryFee,\n          taxFee:e.taxFee,\n          about: e.about,\n          models: e.models,\n          caracteristic: e.caracteristic,\n          status: e.status,\n          availability: e.availability,\n          display: e.display\n        });\n        \n      \n          \n\n      });\n\n    }); \n\n    return this.items;\n  }\n\n  getProducts(){\n    this.productCollection = this.afs.collection('product',q=>q.orderBy('creation_date','desc'));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n  getHomeDesign(){\n    this.homeCollection = this.afs.collection('homepane', q=>q.orderBy(\"range\",\"asc\"));\n    this.homeDesign = this.homeCollection.valueChanges();\n    return this.homeDesign;\n  }\n\n  filterByCategory(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"category\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterByBrand(category:string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"brand\",\"==\",category).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n  filterBySearchQueries(query: string){\n    this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",query).orderBy(\"creation_date\",\"desc\"));\n    this.product = this.productCollection.valueChanges();\n    return this.product;\n  }\n\n /*  getOrderAsadmin(){\n    this.items_ordered = new Array();\n    this.ordersCollection = this.afs.collection('orders');\n    this.orderData = this.ordersCollection.doc().collection(\"customer_order\").valueChanges();\n    this.orderData.subscribe(observer=>{\n      \n      observer.forEach(e => {\n       \n        this.items_ordered.push({\n              orderId: e.orderId,\n              items: e.items,\n              date_order: e.date_order,\n              order_qty: e.order_qty,\n              amount: e.amount,\n              shipment: e.shipment\n        });\n\n    });\n    });\n    return this.items_ordered;\n  } */\n   getFirestoreOrder(){\n       \n        this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",this.userId));\n        this.orderData = this.ordersCollection.valueChanges();\n     return this.orderData;\n\n  }\n  getOrder(param:string){\n       \n    this.ordersCollection = this.afs.collection('orders',q=>q.where(\"customerId\",\"==\",param));\n    this.orderData = this.ordersCollection.valueChanges();\n return this.orderData;\n}\n\n  getUsers(){\n    this.usersCollection = this.afs.collection('user');\n    this.user = this.usersCollection.valueChanges();\n   return this.user;\n  }\n\nasync getMessage(){\n  let boxOwner = (await this.afAuth.currentUser).uid;\n  this.msg = new Array();\n  this.msgCollection = this.afs.collection('message');\n  this.message = this.msgCollection.doc(boxOwner).collection('update').valueChanges();\n  this.message.subscribe(observer => {\n    observer.forEach(e => {\n        this.msg.push({\n          author: e.author,\n          destination: e.destination,\n          object: e.object,\n          content: e.content,\n          date_msg: e.date_msg\n      });\n\n    });\n\n  }); \n  return this.msg;\n}\n\nremoveProduct(item:any){\n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n  this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.delete();\n    })\n  })\n}\n\neditProduct(item:any){\n \n  this.productCollection = this.afs.collection('product', q=>q.where(\"description\",\"==\",item.description));\n return this.productCollection.get().toPromise().then(querySnapshot=>{\n    querySnapshot.forEach(dd=>{\n      dd.ref.update(item)\n    })\n  })\n \n}\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StarcardPageRoutingModule } from './starcard-routing.module';\n\nimport { StarcardPage } from './starcard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StarcardPageRoutingModule\n  ],\n  declarations: [StarcardPage]\n})\nexport class StarcardPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StarcardPage } from './starcard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StarcardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StarcardPageRoutingModule {}\n"]}